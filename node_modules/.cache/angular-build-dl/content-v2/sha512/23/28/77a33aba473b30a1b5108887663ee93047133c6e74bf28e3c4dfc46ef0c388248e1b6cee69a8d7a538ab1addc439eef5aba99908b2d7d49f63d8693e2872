var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),__read=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},__spread=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read(arguments[e]));return t},__values=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/uUt":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new o(t,e))}}var o=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.compare,this.keySelector))},t}(),a=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e)||this).keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return __extends(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))},e}(r.a)},0:function(t,e,n){t.exports=n("zUnb")},"0alx":function(t,e,n){"use strict";var r=n("VKeD");e.isIterable=function(t){return t&&"function"==typeof t[r.iterator]}},"1XSQ":function(t,e,n){"use strict";var r=n("8Y7J"),i=n("SVse"),o=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).scheduler=e,r.work=n,r}return __extends(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(n("3N8a").a),a=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(n("IjjT").a))(o),s=n("HDdC");n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var u=new r.p("angularfire2.realtimeDatabaseURL"),l=function(){function t(t,e){this.zone=t,this.platformId=e}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.runGuarded((function(){return a.schedule.apply(a,t)}))},t.prototype.keepUnstableUntilFirst=function(t){return Object(i.x)(this.platformId)?new s.a((function(e){var n=function(){},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);t.subscribe((function(t){"scheduled"===r.state&&r.invoke(),e.next(t)}),(function(t){"scheduled"===r.state&&r.invoke(),e.error(t)}),(function(){"scheduled"===r.state&&r.invoke(),e.complete()}))})):t},t.prototype.runOutsideAngular=function(t){var e=this;return new s.a((function(n){return e.zone.runOutsideAngular((function(){return t.subscribe((function(t){return e.zone.run((function(){return n.next(t)}))}),(function(t){return e.zone.run((function(){return n.error(t)}))}),(function(){return e.zone.run((function(){return n.complete()}))}))}))}))},t}()},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3E0/":function(t,e,n){"use strict";var r,i=n("D0XW"),o=n("7o/Q"),a=n("EY2u"),s=n("LRne"),u=n("HDdC"),l=((r=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new u.a((function(e){return e.error(t)}));case"C":return Object(a.b)()}var t;throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r);function c(t,e){var n;void 0===e&&(e=i.a);var r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return function(t){return t.lift(new h(r,e))}}n.d(e,"a",(function(){return c}));var h=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.delay,this.scheduler))},t}(),f=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e)||this).delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return __extends(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new p(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(l.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(l.createComplete()),this.unsubscribe()},e}(o.a),p=function(t,e){this.time=t,this.notification=e}},"3N8a":function(t,e,n){"use strict";var r=function(t){function e(e,n){return t.call(this)||this}return __extends(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n("quSY").a);n.d(e,"a",(function(){return i}));var i=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).scheduler=e,r.work=n,r.pending=!1,r}return __extends(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(r)},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function u(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(u((function(n,r){return Object(s.a)(t(n,r)).pipe(Object(a.a)((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new l(t,n))})}var l=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.project,this.concurrent))},t}(),c=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=this;return(i=t.call(this,e)||this).project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return __extends(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var i=new o.a(this,void 0,void 0);this.destination.add(i),Object(r.a)(this,t,e,n,i)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(i.a)},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return __extends(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("7o/Q").a)},6233:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n("O0a9"))},"6aLS":function(t,e,n){var r=n("mrSG").__extends,i=n("Y4kR"),o=n("Vi6O"),a=n("cSoz"),s=n("q3Kh"),u=n("gTqA");e.switchMap=function t(e,n){return"function"==typeof n?function(r){return r.pipe(t((function(t,r){return u.from(e(t,r)).pipe(s.map((function(e,i){return n(t,e,r,i)})))})))}:function(t){return t.lift(new l(e))}};var l=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.project))},t}(),c=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return r(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new o.InnerSubscriber(this,void 0,void 0);this.destination.add(i),this.innerSubscription=a.subscribeToResult(this,t,e,n,i)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(i.OuterSubscriber)},"6qA3":function(t,e,n){"use strict";var r=n("Q1FS"),i=n("OAkW"),o=n("Z5tI"),a=n("poJ0"),s=n("ozli"),u=n("yRPT"),l=n("90cg"),c=n("GMZp"),h=n("VKeD"),f=n("zfKp");e.subscribeTo=function(t){if(t instanceof r.Observable)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[f.observable])return s.subscribeToObservable(t);if(u.isArrayLike(t))return i.subscribeToArray(t);if(l.isPromise(t))return o.subscribeToPromise(t);if(t&&"function"==typeof t[h.iterator])return a.subscribeToIterable(t);var e=c.isObject(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),l=function(t){function e(n,r,o){var a=this;switch((a=t.call(this)||this).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!n){a.destination=i.a;break}if("object"==typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new c(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new c(a,n,r,o)}return a}return __extends(e,t),e.prototype[a.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(o.a),c=function(t){function e(e,n,o,a){var s,u=this;(u=t.call(this)||this)._parentSubscriber=e;var l=u;return Object(r.a)(n)?s=n:n&&(s=n.next,o=n.error,a=n.complete,n!==i.a&&(l=Object.create(n),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(u))),u._context=l,u._next=s,u._error=o,u._complete=a,u}return __extends(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},"8Y7J":function(t,e,n){"use strict";n.d(e,"ib",(function(){return Ma})),n.d(e,"jb",(function(){return La})),n.d(e,"kb",(function(){return Fa})),n.d(e,"lb",(function(){return Ua})),n.d(e,"hb",(function(){return Ro})),n.d(e,"gb",(function(){return bo})),n.d(e,"g",(function(){return Ca})),n.d(e,"Q",(function(){return ma})),n.d(e,"x",(function(){return ga})),n.d(e,"R",(function(){return fe})),n.d(e,"U",(function(){return he})),n.d(e,"c",(function(){return Po})),n.d(e,"B",(function(){return Mo})),n.d(e,"A",(function(){return Lo})),n.d(e,"b",(function(){return Fo})),n.d(e,"d",(function(){return No})),n.d(e,"e",(function(){return Do})),n.d(e,"T",(function(){return Pa})),n.d(e,"L",(function(){return ha})),n.d(e,"W",(function(){return pa})),n.d(e,"t",(function(){return Vo})),n.d(e,"f",(function(){return Va})),n.d(e,"m",(function(){return ko})),n.d(e,"l",(function(){return ue})),n.d(e,"F",(function(){return Me})),n.d(e,"G",(function(){return je})),n.d(e,"a",(function(){return wn})),n.d(e,"O",(function(){return Q})),n.d(e,"M",(function(){return ar})),n.d(e,"Ob",(function(){return y})),n.d(e,"S",(function(){return w})),n.d(e,"q",(function(){return pn})),n.d(e,"Pb",(function(){return U})),n.d(e,"n",(function(){return A})),n.d(e,"p",(function(){return O})),n.d(e,"o",(function(){return c})),n.d(e,"z",(function(){return h})),n.d(e,"H",(function(){return p})),n.d(e,"y",(function(){return ia})),n.d(e,"C",(function(){return ir})),n.d(e,"D",(function(){return nr})),n.d(e,"E",(function(){return rr})),n.d(e,"i",(function(){return Yo})),n.d(e,"j",(function(){return Yn})),n.d(e,"k",(function(){return Jn})),n.d(e,"u",(function(){return W})),n.d(e,"w",(function(){return q})),n.d(e,"v",(function(){return Sa})),n.d(e,"I",(function(){return xa})),n.d(e,"J",(function(){return Ta})),n.d(e,"K",(function(){return Er})),n.d(e,"N",(function(){return Tr})),n.d(e,"h",(function(){return ln})),n.d(e,"r",(function(){return mr})),n.d(e,"s",(function(){return br})),n.d(e,"P",(function(){return xn})),n.d(e,"V",(function(){return ja})),n.d(e,"vb",(function(){return kn})),n.d(e,"Z",(function(){return Uo})),n.d(e,"X",(function(){return hn})),n.d(e,"Y",(function(){return Zn})),n.d(e,"cb",(function(){return Pe})),n.d(e,"db",(function(){return Ue})),n.d(e,"eb",(function(){return ye})),n.d(e,"tb",(function(){return k})),n.d(e,"yb",(function(){return Tn})),n.d(e,"Hb",(function(){return b})),n.d(e,"wb",(function(){return qn})),n.d(e,"xb",(function(){return Hn})),n.d(e,"sb",(function(){return So})),n.d(e,"rb",(function(){return To})),n.d(e,"ab",(function(){return _o})),n.d(e,"bb",(function(){return wo})),n.d(e,"Nb",(function(){return rt})),n.d(e,"Lb",(function(){return Cn})),n.d(e,"Rb",(function(){return An})),n.d(e,"Qb",(function(){return Nn})),n.d(e,"Mb",(function(){return Dn})),n.d(e,"Sb",(function(){return jn})),n.d(e,"fb",(function(){return Ha})),n.d(e,"mb",(function(){return Ni})),n.d(e,"nb",(function(){return lu})),n.d(e,"ob",(function(){return Br})),n.d(e,"pb",(function(){return eo})),n.d(e,"qb",(function(){return qa})),n.d(e,"ub",(function(){return gi})),n.d(e,"zb",(function(){return Si})),n.d(e,"Ab",(function(){return Ei})),n.d(e,"Bb",(function(){return Xa})),n.d(e,"Cb",(function(){return qi})),n.d(e,"Db",(function(){return no})),n.d(e,"Fb",(function(){return ro})),n.d(e,"Eb",(function(){return ts})),n.d(e,"Gb",(function(){return Qa})),n.d(e,"Ib",(function(){return es})),n.d(e,"Jb",(function(){return Hr})),n.d(e,"Kb",(function(){return is}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("VRyK"),s=n("w1tV"),u="__parameters__";function l(t,e,n){var r=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=t.apply(void 0,__spread(e));for(var i in r)this[i]=r[i]}}}(e);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof i)return r.apply(this,t),this;var n=new(i.bind.apply(i,__spread([void 0],t)));return o.annotation=n,o;function o(t,e,r){for(var i=t.hasOwnProperty(u)?t[u]:Object.defineProperty(t,u,{value:[]})[u];i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(n),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}var c=l("Inject",(function(t){return{token:t}})),h=l("Optional"),f=l("Self"),p=l("SkipSelf"),d=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function v(t){for(var e in t)if(t[e]===v)return e;throw Error("Could not find renamed property on target object.")}function y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function g(t){var e=t[m];return e&&e.token===t?e:null}var m=v({ngInjectableDef:v});function b(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(b).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var _=v({__forward_ref__:v});function w(t){return t.__forward_ref__=w,t.toString=function(){return b(this())},t}function C(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(_)&&e.__forward_ref__===w?e():t}var E,S="undefined"!=typeof globalThis&&globalThis,T="undefined"!=typeof window&&window,I="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,x="undefined"!=typeof global&&global,k=S||x||T||I,O=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=y({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),A=new O("INJECTOR",-1),N=new Object,D=/\n/gm,P="\u0275",R="__source",j=v({provide:String,useValue:v}),M=void 0;function L(t){var e=M;return M=t,e}function F(t,e){if(void 0===e&&(e=d.Default),void 0===M)throw new Error("inject() must be called from an injection context");return null===M?function(t,e,n){var r=g(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&d.Optional)return null;throw new Error("Injector: NOT_FOUND ["+b(t)+"]")}(t,0,e):M.get(t,e&d.Optional?null:void 0,e)}function U(t,e){return void 0===e&&(e=d.Default),(E||F)(t,e)}var V=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=N),e===N){var n=new Error("NullInjectorError: No provider for "+b(t)+"!");throw n.name="NullInjectorError",n}return e},t}();function H(t,e,n,r){void 0===r&&(r=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==P?t.substr(2):t;var i=b(e);if(e instanceof Array)i=e.map(b).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):b(s)))}i="{"+o.join(", ")+"}"}return n+(r?"("+r+")":"")+"["+i+"]: "+t.replace(D,"\n  ")}var q=function(){},W=function(){};function B(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function K(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var z=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),Q=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),G={},Y=[],Z=v({ngComponentDef:v}),$=v({ngDirectiveDef:v}),X=v({ngPipeDef:v}),J=0;function tt(t){return function(t){return t[Z]||null}(t)||function(t){return t[$]||null}(t)}function et(t){return function(t){return t[X]||null}(t)}function nt(t,e){if(null==t)return G;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var rt=function(t){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,consts:t.consts,vars:t.vars,factory:t.factory,template:t.template||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===z.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Q.Emulated,id:"c",styles:t.styles||Y,_:null,setInput:null,schemas:t.schemas||null,tView:null};return i._=""+{toString:function(){var n=t.directives,o=t.features,a=t.pipes;i.id+=J++,i.inputs=nt(t.inputs,r),i.outputs=nt(t.outputs),o&&o.forEach((function(t){return t(i)})),i.directiveDefs=n?function(){return("function"==typeof n?n():n).map(tt)}:null,i.pipeDefs=a?function(){return("function"==typeof a?a():a).map(et)}:null,e.hasOwnProperty(m)||(e[m]=y({token:e,factory:t.factory}))}},i},it=0,ot=1,at=7,st=12,ut=19,lt=null,ct=new Map,ht=null,ft=1,pt=0;function dt(t,e){return ht&&t===ht||(ht=t,e&&(lt=ct.get(t)||null),lt=lt||{classesBitMask:pt,classesIndex:ft,stylesBitMask:pt,stylesIndex:ft}),lt}function vt(t,e){return function(t){for(;Array.isArray(t);)t=t[it];return t}(e[t.index])}function yt(t,e){return e[ot].data[t+ut]}var gt=null;function mt(){return _t}var bt,_t,wt,Ct=1,Et=0,St=0,Tt=-1;function It(){return Tt}function xt(){return wt}var kt=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(k),Ot="--MAP--",At=0;function Nt(t,e){e===At?t[2]>At&&function(t){Pt(t,2|Dt(t))}(t):t[2]=e}function Dt(t){return t[1]}function Pt(t,e){t[1]=e}function Rt(t,e){return t[e+2]}function jt(t,e){return 1&t[e+0]}function Mt(t,e){return(1&jt(t,e))>0}function Lt(t,e){return t[e+0]>>1}function Ft(t,e,n){var r=jt(t,e);t[e+0]=r|n<<1}function Ut(t,e){return t[e+1]}function Vt(t,e,n){return t[e+3+n]}function Ht(t,e){return!(!t||e!==t[2])}function qt(t){return(1&Dt(t))>0}function Wt(t){return(2&Dt(t))>0}function Bt(t){return 6+t[4]}function Kt(t,e){var n=Array.isArray(t)?t[0]:t,r=Array.isArray(e)?e[0]:e;return n instanceof String&&(n=n.toString()),r instanceof String&&(r=r.toString()),function(t,e){return!(t!=t&&e!=e)&&t!==e}(n,r)}function zt(t){return null!=t&&""!==t}function Qt(t,e,n){return void 0===n&&(n=" "),t+(e.length&&t.length?n:"")+e}function Gt(t){return t.replace(/[a-z][A-Z]/g,(function(t){return t.charAt(0)+"-"+t.charAt(1)})).toLowerCase()}function Yt(t){return Zt(t)?t[0]:t}function Zt(t){return Array.isArray(t)&&t.length>=6&&"string"!=typeof t[1]}function $t(t,e){return t[e+0]}function Xt(t,e,n){t[e+1]=n}function Jt(t,e){return t[e+1]}var te=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();function ee(t){return!!t.listen}var ne="ngDebugContext",re="ngOriginalError",ie="ngErrorLogger";function oe(t){return t[ne]}function ae(t){return t[re]}function se(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,__spread(e))}var ue=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[ie]||se}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?oe(t)?oe(t):this._findContext(ae(t)):null},t.prototype._findOriginalError=function(t){for(var e=ae(t);e&&ae(e);)e=ae(e);return e},t}(),le=!0,ce=!1;function he(){return ce=!0,le}function fe(){if(ce)throw new Error("Cannot enable prod mode after platform setup.");le=!1}var pe=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},t}(),de=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,ve=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ye(t){return(t=String(t)).match(de)||t.match(ve)?t:(he()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function ge(t){var e,n,r={};try{for(var i=__values(t.split(",")),o=i.next();!o.done;o=i.next()){r[o.value]=!0}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function me(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i={};try{for(var o=__values(n),a=o.next();!a.done;a=o.next()){var s=a.value;for(var u in s)s.hasOwnProperty(u)&&(i[u]=!0)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return i}var be,_e=ge("area,br,col,hr,img,wbr"),we=ge("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ce=ge("rp,rt"),Ee=me(Ce,we),Se=me(_e,me(we,ge("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),me(Ce,ge("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ee),Te=ge("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ie=ge("srcset"),xe=me(Te,Ie,ge("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ge("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ke=ge("script,style,template"),Oe=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e=t.nodeName.toLowerCase();if(!Se.hasOwnProperty(e))return this.sanitizedSomething=!0,!ke.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(xe.hasOwnProperty(s)){var u=o.value;Te[s]&&(u=ye(u)),Ie[s]&&(n=u,u=(n=String(n)).split(",").map((function(t){return ye(t.trim())})).join(", ")),this.buf.push(" ",a,'="',De(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();Se.hasOwnProperty(e)&&!_e.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(De(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),Ae=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ne=/([^\#-~ |!])/g;function De(t){return t.replace(/&/g,"&amp;").replace(Ae,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Ne,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Pe(t,e){var n=null;try{be=be||new pe(t);var r=e?String(e):"";n=be.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=be.getInertBodyElement(r)}while(r!==o);var a=new Oe,s=a.sanitizeChildren(Re(n)||n);return he()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=Re(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function Re(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var je=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Me=function(){},Le=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Fe=/^url\(([^)]+)\)$/;function Ue(t){if(!(t=String(t).trim()))return"";var e=t.match(Fe);return e&&ye(e[1])===e[1]||t.match(Le)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(he()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}var Ve=/([A-Z])/g;function He(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}var qe=1,We=0,Be=null,Ke=1,ze=[];function Qe(t,e,n,r,i,o,a,s,u){qt(t)||(a?function(t,e,n,r,i){ze.unshift(t,e,n,r,i)}(t,n,r,i,u):(ze.length&&Ge(),Ye(t,n,r,i,u)));var l=s||Kt(e[i],o);return l&&(e[i]=o),l}function Ge(){for(var t=0;t<ze.length;)Ye(ze[t++],ze[t++],ze[t++],ze[t++],ze[t++]);ze.length=0}function Ye(t,e,n,r,i){var o=!1;if(n){for(var a=!1,s=Bt(t);s<t.length;){var u=Ut(t,s),l=Rt(t,s);if(a=n<=l){n<l&&Ze(t,s,n,i),$e(t,!1,s,r,e);break}s+=3+u}a||(Ze(t,t.length,n,i),$e(t,!1,s,r,e),o=!0)}else $e(t,!0,3,r,e),o=!0;return o}function Ze(t,e,n,r){t.splice(e,0,r?1:0,Ke,n,Be),Ft(t,e,qe)}function $e(t,e,n,r,i){var o=n+3,a=o+Ut(t,n);if(e||a--,"number"==typeof r){for(var s=o;s<=a;s++)if(t[s]===r)return;t.splice(a,0,r),t[n+1]++,Ft(t,n,Lt(t,n)|1<<i)}else null!==r&&null==t[a]&&(t[a]=r)}function Xe(t,e,n,r,i,o,a,s){return i&&r&&(function(t){if(!qt(t)){var e=Yt(t);e&&function(t,e){for(var n=1;n<e.length;n+=2){var r=Jt(e,n);r&&Ye(t,-1,$t(e,n),r,!1)}}(t,e),function(t){Pt(t,1|Dt(t))}(t)}}(r),function(t,e){return t&&e>pt}(r,o))?(function(t,e,n,r,i,o,a){for(var s,u=!0===(s=i)?-1:!1===s?0:s,l=Je,c=(u&Lt(t,3))>0?1:0,h=Bt(t);h<t.length;){var f=Ut(t,h);if(u&Lt(t,h)){for(var p=!1,d=Rt(t,h),v=f-1,y=Vt(t,h,v),g=0;g<v;g++){var m=Vt(t,h,g),b=r[m];if(zt(b)){o(e,n,d,a&&Mt(t,h)?a(d,b,2):b,m),p=!0;break}}if(l){var _=l(t,e,n,r,o,a,c|(p?4:2),d,y);p=p||_}p||o(e,n,d,y)}h+=3+f}l&&l(t,e,n,r,o,a,c)}(r,t,e,n,o,a,s),!0):i}var Je=null,tn=function(t,e,n,r){var i=e.style;r?(r=r.toString(),t&&ee(t)?t.setStyle(e,n,r,te.DashCase):i&&i.setProperty(n,r)):t&&ee(t)?t.removeStyle(e,n,te.DashCase):i&&i.removeProperty(n)},en=function(t,e,n,r){if(""!==n){var i=e.classList;r?t&&ee(t)?t.addClass(e,n):i&&i.add(n):t&&ee(t)?t.removeClass(e,n):i&&i.remove(n)}},nn={},rn=function(t,e,n,r,i,o,a,s,u){var l=!1;if(Ut(t,3)){var c=!0,h=!s;h&&-2&a&&(c=!1,l=!0),c&&(l=function t(e,n,r,i,o,a,s,u,l,c){var h,f=!1;if(l<Ut(e,3)){for(var p=Vt(e,3,l),d=i[p],v=((h=l)>=sn.length&&sn.push(1),sn[h]);v<d.length;){var y=$t(d,v),g=u&&y>u,m=!g&&y===u,b=Jt(d,v),_=zt(b),w=t(e,n,r,i,o,a,g?s:on(s,_,m),g?u:y,l+1,c);if(g){f||(f=w);break}if(!w&&an(s,m)){var C=m&&!_,E=C?c:b,S=C?p:null;o(n,r,y,a?a(y,E,3):E,S),w=!0}f=w&&m,v+=2}if(sn[l]=v,1===d.length||!u)return t(e,n,r,i,o,a,s,u,l+1,c)}return f}(t,e,n,r,i,o,a,s||null,0,u||null)),h&&function(){for(var t=0;t<sn.length;t++)sn[t]=1}()}return l};function on(t,e,n){var r=t;return e||4&t||!(n||1&t)?(r|=4,r&=-3):(r|=2,r&=-5),r}function an(t,e){var n=(1&t)>0;return n?4&t&&e&&(n=!1):2&t&&(n=e),n}var sn=[];function un(t,e,n,r){for(var i=1;i<t.length;i+=2){var o=$t(t,i);if(e<=o){var a=!1;if(o===e){var s=t[i];!r&&zt(s)||(a=!0,Xt(t,i,n))}else a=!0,t.splice(i,0,e,n);return a}}return t.push(e,n),!0}var ln=function(){var t=function(){};return t.__NG_ELEMENT_ID__=function(){return cn()},t}(),cn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},hn=new O("The presence of this token marks an injector as being the root injector."),fn=function(t,e,n){return new mn(t,e,n)},pn=function(){var t=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?fn(t,e,""):fn(t.providers,t.parent,t.name||"")},t}();return t.THROW_IF_NOT_FOUND=N,t.NULL=new V,t.ngInjectableDef=y({token:t,providedIn:"any",factory:function(){return U(A)}}),t.__NG_ELEMENT_ID__=-1,t}(),dn=function(t){return t},vn=[],yn=dn,gn=function(){return Array.prototype.slice.call(arguments)},mn=function(){function t(t,e,n){void 0===e&&(e=pn.NULL),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(pn,{token:pn,fn:dn,deps:vn,value:this,useNew:!1}),r.set(A,{token:A,fn:dn,deps:vn,value:this,useNew:!1}),function t(e,n){if(n)if((n=C(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw _n("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw _n("Unexpected provider",n);var i=C(n.provide),o=function(t){var e=function(t){var e=vn,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6,o=C(n[r]);if(o instanceof Array)for(var a=0,s=o;a<s.length;a++){var u=s[a];u instanceof h||u==h?i|=1:u instanceof p||u==p?i&=-3:u instanceof f||u==f?i&=-5:o=u instanceof c?u.token:C(u)}e.push({token:o,options:i})}}else if(t.useExisting)e=[{token:C(t.useExisting),options:6}];else if(!(n||j in t))throw _n("'deps' required",t);return e}(t),n=dn,r=vn,i=!1,o=C(t.provide);if(j in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=C(t.useClass);else{if("function"!=typeof o)throw _n("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=e.get(i);if(a){if(a.fn!==gn)throw bn(i)}else e.set(i,a={token:n.provide,deps:[],useNew:!1,fn:gn,value:vn});a.deps.push({token:i=n,options:6})}var s=e.get(i);if(s&&s.fn==gn)throw bn(i);e.set(i,o)}}(r,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=d.Default);var r=this._records.get(t);try{return function t(e,n,r,i,o,a){try{return function(e,n,r,i,o,a){var s;if(!n||a&d.SkipSelf)a&d.Self||(s=i.get(e,o,d.Default));else{if((s=n.value)==yn)throw Error("\u0275Circular dependency");if(s===vn){n.value=yn;var u=n.useNew,l=n.fn,c=n.deps,h=vn;if(c.length){h=[];for(var f=0;f<c.length;f++){var p=c[f],v=p.options,y=2&v?r.get(p.token):void 0;h.push(t(p.token,y,r,y||4&v?i:pn.NULL,1&v?null:pn.THROW_IF_NOT_FOUND,d.Default))}}n.value=s=u?new(l.bind.apply(l,__spread([void 0],h))):l.apply(void 0,h)}}return s}(e,n,r,i,o,a)}catch(s){throw s instanceof Error||(s=new Error(s)),(s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(e),n&&n.value==yn&&(n.value=vn),s}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){var i=t.ngTempTokenPath;throw e[R]&&i.unshift(e[R]),t.message=H("\n"+t.message,i,"StaticInjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(i,t,0,this.source)}},t.prototype.toString=function(){var t=[];return this._records.forEach((function(e,n){return t.push(b(n))})),"StaticInjector["+t.join(", ")+"]"},t}();function bn(t){return _n("Cannot mix multi providers and regular providers",t)}function _n(t,e){return new Error(H(t,e,"StaticInjectorError"))}var wn=new O("AnalyzeForEntryComponents");function Cn(t){var e=mt(),n=e[ot];n.firstTemplatePass&&(function(t,e,n){var r=t.expandoInstructions,i=r.length;i>=2&&r[i-2]===e.hostBindings?r[i-1]=r[i-1]+n:r.push(e.hostBindings,n)}(n,gt,t),function(t,e,n){for(var r=0;r<n;r++)e.push(nn),t.blueprint.push(nn),t.data.push(null)}(n,e,t))}var En=null;function Sn(){if(!En){var t=k.Symbol;if(t&&t.iterator)En=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(En=r)}}return En}function Tn(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function In(t,e){var n=kn(t),r=kn(e);return n&&r?function(t,e,n){for(var r=t[Sn()](),i=e[Sn()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,In):!(n||!(t&&("object"==typeof t||"function"==typeof t))||r||!(e&&("object"==typeof e||"function"==typeof e)))||Tn(t,e)}var xn=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}();function kn(t){return!!On(t)&&(Array.isArray(t)||!(t instanceof Map)&&Sn()in t)}function On(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function An(){var t,e;mt()[ot].firstTemplatePass&&(t=bt,e=Mn(),Nt(Fn(t),e),Nt(Ln(t),e))}function Nn(t){var e=It(),n=mt(),r=yt(e,n),i=Ln(r),o=Mn(),a=n[at]++;!o&&function(t){return 0!=(16&t.flags)}(r)&&t!==nn&&(Rn(i,n,r,a,t,!1),t=nn),Pn(e,i,a,t,!1,Vn())}function Dn(t){!function(t,e){var n=mt(),r=yt(t,n),i=Fn(r),o=Mn(),a=n[at]++;!o&&function(t){return 0!=(8&t.flags)}(r)&&e!==nn&&(Rn(i,n,r,a,e,!0),e=nn),Pn(t,i,a,e,!0,Vn())}(It(),t)}function Pn(t,e,n,r,i,o){Je=rn;var a=mt(),s=!1;if(r!==nn){var u=vt(yt(t,a),a),l=a[n];s=Kt(l,r);var c=function(t,e,n){var r=Array.isArray(t)?t:[null];r[0]=e||null;for(var i=1;i<r.length;i+=2)Xt(r,i,null);var o,a=null,s=!1;if("string"==typeof e?e.length&&(a=e.split(/\s+/),s=!0):(a=e?Object.keys(e):null,o=e),a)for(var u=0;u<a.length;u++){var l=a[u];un(r,n?Gt(l):l,!!s||o[l],!0)}return r}(l,r,!i);i?function(t,e,n,r,i,o,a,s){var u=dt(n,Wt(t)),l=We;!Qe(t,e,l,null,i,o,a,s,!1)&&!s||(u.classesBitMask|=1<<l)}(e,a,u,0,n,c,o,s):function(t,e,n,r,i,o,a,s,u){var l=dt(n,Wt(t)),c=We;!Qe(t,e,c,null,i,o,s,u,!0)&&!u||(l.stylesBitMask|=1<<c)}(e,a,u,0,n,c,xt(),o,s)}return s}function Rn(t,e,n,r,i,o){e[r]!==i&&((i||qt(t))&&function(t,e,n){for(var r=t[ot],i=0;i<e.length;){var o=e[i++],a=e[i++],s=e[i++],u=t[o],l=r.data[o];l.setInput?l.setInput(u,n,a,s):u[s]=n}}(e,n.inputs[o?"class":"style"],function(t,e,n){var r,i=e;return t.length>0&&(i=n?Qt(t,((r=e)&&"string"!=typeof r&&(r=Object.keys(r).join(" ")),r||"")):Qt(t,function(t){var e="";if(t)for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];e=Qt(e,i+":"+t[i],";")}return e}(e),";")),i}(function(t){var e=Yt(t);return e&&e[0]||""}(t),i,o)),e[r]=i)}function jn(){var t=It(),e=mt(),n=yt(t,e),r=function(t,e){return 3===t.type?e[st]:null}(n,e),i=vt(n,e),o=Mn(),a=xt();(function(t,e,n,r,i,o,a){var s=n?Wt(n):!!r&&Wt(r),u=Ht(n,o),l=Ht(r,o);ze.length&&(u||l)&&Ge();var c=dt(i,s),h=Xe(t,i,e,n,u,c.classesBitMask,en,null),f=Xe(t,i,e,r,l,c.stylesBitMask,tn,a);h&&f?(lt=null,ht=null,s&&function(t){ct.delete(t)}(i)):s&&function(t,e){ct.set(t,e)}(i,c)})(r,e,Fn(n),Ln(n),i,o,a),wt=null}function Mn(){return Ct+Et}function Ln(t){return Un(t,!1)}function Fn(t){return Un(t,!0)}function Un(t,e){var n=e?t.classes:t.styles;return Zt(n)||(n=[n||[""],0,At,1,0,Ot],e?t.classes=n:t.styles=n),n}function Vn(){return St>0}function Hn(t){return!!t&&"function"==typeof t.then}function qn(t){return!!t&&"function"==typeof t.subscribe}var Wn=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}(),Bn=function(){},Kn=function(){};function zn(t){var e=Error("No component factory found for "+b(t)+". Did you add it to @NgModule.entryComponents?");return e[Qn]=t,e}var Qn="ngComponent",Gn=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw zn(t)},t}(),Yn=function(){var t=function(){};return t.NULL=new Gn,t}(),Zn=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw zn(t);return new $n(e,this._ngModule)},t}(),$n=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return __extends(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(Kn);function Xn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}var Jn=function(){var t=function(t){this.nativeElement=t};return t.__NG_ELEMENT_ID__=function(){return tr(t)},t}(),tr=Xn,er=function(){},nr=function(){},rr=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),ir=function(){var t=function(){};return t.__NG_ELEMENT_ID__=function(){return or()},t}(),or=Xn,ar=function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},sr=new ar("8.2.14"),ur=function(){function t(){}return t.prototype.supports=function(t){return kn(t)},t.prototype.create=function(t){return new cr(t)},t}(),lr=function(t,e){return e},cr=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||lr}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<dr(n,r,i)?e:n,a=dr(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,f=h+c;l<=f&&f<u&&(i[c]=h+1)}i[o.previousIndex]=l-u}}a!==s&&t(o,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!kn(t))throw new Error("Error trying to diff '"+b(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=t[s]),null!==o&&Tn(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Tn(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[Sn()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&Tn(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Tn(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Tn(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Tn(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new hr(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new pr),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pr),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),hr=function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},fr=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Tn(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),pr=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new fr,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function dr(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var vr=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||On(t)},t.prototype.create=function(){return new yr},t}(),yr=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||On(t)))throw new Error("Error trying to diff '"+b(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new gr(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){Tn(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))},t}(),gr=function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},mr=function(){var t=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new h]]}},t.prototype.find=function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t}();return t.ngInjectableDef=y({token:t,providedIn:"root",factory:function(){return new t([new ur])}}),t}(),br=function(){var t=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new h]]}},t.prototype.find=function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}();return t.ngInjectableDef=y({token:t,providedIn:"root",factory:function(){return new t([new vr])}}),t}(),_r=[new vr],wr=new mr([new ur]),Cr=new br(_r),Er=function(){var t=function(){};return t.__NG_ELEMENT_ID__=function(){return Sr(t,Jn)},t}(),Sr=Xn,Tr=function(){var t=function(){};return t.__NG_ELEMENT_ID__=function(){return Ir(t,Jn)},t}(),Ir=Xn;function xr(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return kr(n,e),n}(i,t)}function kr(t,e){t[ne]=e,t[ie]=e.logError.bind(e)}function Or(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function Ar(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function Nr(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Dr(t,e){return t.nodes[e]}function Pr(t,e){return t.nodes[e]}function Rr(t,e){return t.nodes[e]}function jr(t,e){return t.nodes[e]}function Mr(t,e){return t.nodes[e]}var Lr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Fr=function(){},Ur=new Map;function Vr(t){var e=Ur.get(t);return e||(e=b(t)+"_"+Ur.size,Ur.set(t,e)),e}function Hr(t,e,n,r){if(xn.isWrapped(r)){r=xn.unwrap(r);var i=t.def.nodes[e].bindingIndex+n,o=xn.unwrap(t.oldValues[i]);t.oldValues[i]=new xn(o)}return r}var qr="$$undefined",Wr="$$empty";function Br(t){return{id:qr,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var Kr=0;function zr(t,e,n,r){return!(!(2&t.state)&&Tn(t.oldValues[e.bindingIndex+n],r))}function Qr(t,e,n,r){return!!zr(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Gr(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!In(i,r)){var o=e.bindings[n].name;throw xr(Lr.createDebugContext(t,e.nodeIndex),o+": "+i,o+": "+r,0!=(1&t.state))}}function Yr(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Zr(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function $r(t,e,n,r){try{return Yr(33554432&t.def.nodes[e].flags?Pr(t,e).componentView:t),Lr.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Xr(t){return t.parent?Pr(t.parent,t.parentNodeDef.nodeIndex):null}function Jr(t){return t.parent?t.parentNodeDef.parent:null}function ti(t,e){switch(201347067&e.flags){case 1:return Pr(t,e.nodeIndex).renderElement;case 2:return Dr(t,e.nodeIndex).renderText}}function ei(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function ni(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function ri(t){return 1<<t%32}function ii(t){var e={},n=0,r={};return t&&t.forEach((function(t){var i=__read(t,2),o=i[0],a=i[1];"number"==typeof o?(e[o]=a,n|=ri(o)):r[o]=a})),{matchedQueries:e,references:r,matchedQueryIds:n}}function oi(t,e){return t.map((function(t){var n,r,i;return Array.isArray(t)?(i=(n=__read(t,2))[0],r=n[1]):(i=0,r=t),r&&("function"==typeof r||"object"==typeof r)&&e&&Object.defineProperty(r,R,{value:e,configurable:!0}),{flags:i,token:r,tokenKey:Vr(r)}}))}function ai(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Q.Native?Pr(t,n.renderParent.nodeIndex).renderElement:void 0:e}var si=new WeakMap;function ui(t){var e=si.get(t);return e||((e=t((function(){return Fr}))).factory=t,si.set(t,e)),e}function li(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(ti(t,t.def.lastRenderRootNode))),ci(t,e,0,t.def.nodes.length-1,n,r,i)}function ci(t,e,n,r,i,o,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&fi(t,u,e,i,o,a),s+=u.childCount}}function hi(t,e,n,r,i,o){for(var a=t;a&&!ei(a);)a=a.parent;for(var s=a.parent,u=Jr(a),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var h=s.def.nodes[c];h.ngContentIndex===e&&fi(s,h,n,r,i,o),c+=h.childCount}if(!s.parent){var f=t.root.projectableNodes[e];if(f)for(c=0;c<f.length;c++)pi(t,f[c],n,r,i,o)}}function fi(t,e,n,r,i,o){if(8&e.flags)hi(t,e.ngContent.index,n,r,i,o);else{var a=ti(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&pi(t,a,n,r,i,o),32&e.bindingFlags&&pi(Pr(t,e.nodeIndex).componentView,a,n,r,i,o)):pi(t,a,n,r,i,o),16777216&e.flags)for(var s=Pr(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)li(s[u],n,r,i,o);1&e.flags&&!e.element.name&&ci(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function pi(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}var di=/^:([^:]+):(.+)$/;function vi(t){if(":"===t[0]){var e=t.match(di);return[e[1],e[2]]}return["",t]}function yi(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function gi(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,v,y,g,m,b){switch(t){case 1:return e+mi(n)+r;case 2:return e+mi(n)+r+mi(i)+o;case 3:return e+mi(n)+r+mi(i)+o+mi(a)+s;case 4:return e+mi(n)+r+mi(i)+o+mi(a)+s+mi(u)+l;case 5:return e+mi(n)+r+mi(i)+o+mi(a)+s+mi(u)+l+mi(c)+h;case 6:return e+mi(n)+r+mi(i)+o+mi(a)+s+mi(u)+l+mi(c)+h+mi(f)+p;case 7:return e+mi(n)+r+mi(i)+o+mi(a)+s+mi(u)+l+mi(c)+h+mi(f)+p+mi(d)+v;case 8:return e+mi(n)+r+mi(i)+o+mi(a)+s+mi(u)+l+mi(c)+h+mi(f)+p+mi(d)+v+mi(y)+g;case 9:return e+mi(n)+r+mi(i)+o+mi(a)+s+mi(u)+l+mi(c)+h+mi(f)+p+mi(d)+v+mi(y)+g+mi(m)+b;default:throw new Error("Does not support more than 9 expressions")}}function mi(t){return null!=t?t.toString():""}var bi=new Object,_i=Vr(pn),wi=Vr(A),Ci=Vr(q);function Ei(t,e,n,r){return n=C(n),{index:-1,deps:oi(r,b(e)),flags:t,token:e,value:n}}function Si(t){for(var e={},n=[],r=!1,i=0;i<t.length;i++){var o=t[i];o.token===hn&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[Vr(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function Ti(t,e,n){void 0===n&&(n=pn.THROW_IF_NOT_FOUND);var r,i,o=L(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var a=e.tokenKey;switch(a){case _i:case wi:case Ci:return t}var s,u=t._def.providersByKey[a];if(u){var l=t._providers[u.index];return void 0===l&&(l=t._providers[u.index]=Ii(t,u)),l===bi?void 0:l}if((s=g(e.token))&&(r=t,null!=(i=s).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(r,i.providedIn)||"root"===i.providedIn&&r._def.isRoot))){var c=t._providers.length;return t._def.providers[c]=t._def.providersByKey[e.tokenKey]={flags:5120,value:s.factory,deps:[],index:c,token:e.token},t._providers[c]=bi,t._providers[c]=Ii(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{L(o)}}function Ii(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(Ti(t,n[0]));case 2:return new e(Ti(t,n[0]),Ti(t,n[1]));case 3:return new e(Ti(t,n[0]),Ti(t,n[1]),Ti(t,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=Ti(t,n[o]);return new(e.bind.apply(e,__spread([void 0],i)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(Ti(t,n[0]));case 2:return e(Ti(t,n[0]),Ti(t,n[1]));case 3:return e(Ti(t,n[0]),Ti(t,n[1]),Ti(t,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=Ti(t,n[o]);return e.apply(void 0,__spread(i))}}(t,e.value,e.deps);break;case 2048:n=Ti(t,e.deps[0]);break;case 256:n=e.value}return n===bi||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?bi:n}function xi(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,K(n,e),Lr.dirtyParentQueries(r),Oi(r),r}function ki(t,e,n){var r=e?ti(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);li(n,2,i,o,void 0)}function Oi(t){li(t,3,null,null,void 0)}var Ai=new Object;function Ni(t,e,n,r,i,o){return new Di(t,e,n,r,i,o)}var Di=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this)||this).selector=e,s.componentType=n,s._inputs=i,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=r,s}return __extends(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=ui(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=Lr.createRootView(t,e||[],n,i,r,Ai),s=Rr(a,o).instance;return n&&a.renderer.setAttribute(Pr(a,0).renderElement,"ng-version",sr.full),new Pi(a,new Li(a),s)},e}(Kn),Pi=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this)._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return __extends(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new Jn(Pr(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Hi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(Bn);function Ri(t,e,n){return new ji(t,e,n)}var ji=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new Jn(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Hi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Jr(t),t=t.parent;return t?new Hi(t,e):new Hi(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=xi(this._data,t);Lr.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Li(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof $n||(i=o.get(q));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a,s=t;return n=this._view,r=this._data,i=e,o=s._view,a=r.viewContainer._embeddedViews,null==i&&(i=a.length),o.viewContainerParent=n,B(a,i,o),function(t,e){var n=Xr(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(!(4&e.flags)){t.nodeFlags|=4,e.flags|=4;for(var n=e.parent;n;)n.childFlags|=4,n=n.parent}}(e.parent.def,e.parentNodeDef)}}(r,o),Lr.dirtyParentQueries(o),ki(r,i>0?a[i-1]:null,o),s.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,s=this._embeddedViews.indexOf(t._view);return n=this._data,r=s,i=e,o=n.viewContainer._embeddedViews,a=o[r],K(o,r),null==i&&(i=o.length),B(o,i,a),Lr.dirtyParentQueries(a),Oi(a),ki(n,i>0?o[i-1]:null,a),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=xi(this._data,t);e&&Lr.destroyView(e)},t.prototype.detach=function(t){var e=xi(this._data,t);return e?new Li(e):null},t}();function Mi(t){return new Li(t)}var Li=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return li(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Yr(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{Lr.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){Lr.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Lr.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,Oi(this._view),Lr.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function Fi(t,e){return new Ui(t,e)}var Ui=function(t){function e(e,n){var r=this;return(r=t.call(this)||this)._parentView=e,r._def=n,r}return __extends(e,t),e.prototype.createEmbeddedView=function(t){return new Li(Lr.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new Jn(Pr(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(Er);function Vi(t,e){return new Hi(t,e)}var Hi=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=pn.THROW_IF_NOT_FOUND),Lr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Vr(t)},e)},t}();function qi(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=Pr(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Dr(t,n.nodeIndex).renderText;if(20240&n.flags)return Rr(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function Wi(t){return new Bi(t.renderer)}var Bi=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=__read(vi(e),2),r=n[0],i=n[1],o=this.delegate.createElement(i,r);return t&&this.delegate.appendChild(t,o),o},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=__read(vi(e),2),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(t,o,n,i):this.delegate.removeAttribute(t,o,i)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function Ki(t,e,n,r){return new zi(t,e,n,r)}var zi=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Ii(t,i))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=pn.THROW_IF_NOT_FOUND),void 0===n&&(n=d.Default);var r=0;return n&d.SkipSelf?r|=1:n&d.Self&&(r|=4),Ti(this,{token:t,tokenKey:Vr(t),flags:r},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(Yn)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+b(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=t._providers[i];if(o&&o!==bi){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach((function(t){return t()}))},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),Qi=Vr(er),Gi=Vr(ir),Yi=Vr(Jn),Zi=Vr(Tr),$i=Vr(Er),Xi=Vr(ln),Ji=Vr(pn),to=Vr(A);function eo(t,e,n,r,i,o,a,s){var u=[];if(a)for(var l in a){var c=__read(a[l],2),h=c[0],f=c[1];u[h]={flags:8,name:l,nonMinifiedName:f,ns:null,securityContext:null,suffix:null}}var p=[];if(s)for(var d in s)p.push({type:1,propName:d,target:null,eventName:s[d]});return io(t,e|=16384,n,r,i,i,o,u,p)}function no(t,e,n){return io(-1,t|=16,null,0,e,e,n)}function ro(t,e,n,r,i){return io(-1,t,e,0,n,r,i)}function io(t,e,n,r,i,o,a,s,u){var l=ii(n),c=l.matchedQueries,h=l.references,f=l.matchedQueryIds;u||(u=[]),s||(s=[]),o=C(o);var p=oi(a,b(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:yi(s),outputs:u,element:null,provider:{token:i,value:o,deps:p},text:null,query:null,ngContent:null}}function oo(t,e){return lo(t,e)}function ao(t,e){for(var n=t;n.parent&&!ei(n);)n=n.parent;return co(n.parent,Jr(n),!0,e.provider.value,e.provider.deps)}function so(t,e){var n=co(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName];if(!qn(o))throw new Error("@Output "+i.propName+" not initialized in '"+n.constructor.name+"'.");var a=o.subscribe(uo(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=a.unsubscribe.bind(a)}return n}function uo(t,e,n){return function(r){return $r(t,e,n,r)}}function lo(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return co(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(fo(t,e,n,i[0]));case 2:return r(fo(t,e,n,i[0]),fo(t,e,n,i[1]));case 3:return r(fo(t,e,n,i[0]),fo(t,e,n,i[1]),fo(t,e,n,i[2]));default:for(var a=Array(o),s=0;s<o;s++)a[s]=fo(t,e,n,i[s]);return r.apply(void 0,__spread(a))}}(t,e.parent,n,r.value,r.deps);case 2048:return fo(t,e.parent,n,r.deps[0]);case 256:return r.value}}function co(t,e,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(fo(t,e,n,i[0]));case 2:return new r(fo(t,e,n,i[0]),fo(t,e,n,i[1]));case 3:return new r(fo(t,e,n,i[0]),fo(t,e,n,i[1]),fo(t,e,n,i[2]));default:for(var a=new Array(o),s=0;s<o;s++)a[s]=fo(t,e,n,i[s]);return new(r.bind.apply(r,__spread([void 0],a)))}}var ho={};function fo(t,e,n,r,i){if(void 0===i&&(i=pn.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;a===Xi&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var s=t;s;){if(e)switch(a){case Qi:return Wi(po(s,e,n));case Gi:return po(s,e,n).renderer;case Yi:return new Jn(Pr(s,e.nodeIndex).renderElement);case Zi:return Pr(s,e.nodeIndex).viewContainer;case $i:if(e.element.template)return Pr(s,e.nodeIndex).template;break;case Xi:return Mi(po(s,e,n));case Ji:case to:return Vi(s,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[a];if(u){var l=Rr(s,u.nodeIndex);return l||(l={instance:lo(s,u)},s.nodes[u.nodeIndex]=l),l.instance}}n=ei(s),e=Jr(s),s=s.parent,4&r.flags&&(s=null)}var c=o.root.injector.get(r.token,ho);return c!==ho||i===ho?c:o.root.ngModule.injector.get(r.token,i)}function po(t,e,n){var r;if(n)r=Pr(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!ei(r);)r=r.parent;return r}function vo(t,e,n,r,i,o){if(32768&n.flags){var a=Pr(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=xn.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new Wn(s,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function yo(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&e&&mo(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=go(t,a,e,r)),a=a.parent}}function go(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&mo(t,i,o.flags&n,r++),i+=o.childCount}return r}function mo(t,e,n,r){var i=Rr(t,e);if(i){var o=i.instance;o&&(Lr.setCurrentNode(t,e),1048576&n&&Nr(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Nr(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}var bo=new O("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return kt}}),_o={},wo=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),Co=void 0,Eo=["en",[["a","p"],["AM","PM"],Co],[["AM","PM"],Co,Co],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Co,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Co,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Co,"{1} 'at' {0}",Co],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];function So(t){return To(t)[wo.PluralCase]}function To(t){var e=t.toLowerCase().replace(/_/g,"-"),n=_o[e];if(n)return n;var r=e.split("-")[0];if(n=_o[r])return n;if("en"===r)return Eo;throw new Error('Missing locale data for the locale "'+t+'".')}var Io="en-US";function xo(t){null==t&&function(t){throw new Error("ASSERTION ERROR: Expected localeId to be defined")}(),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var ko=function(t){function e(e){void 0===e&&(e=!1);var n=this;return(n=t.call(this)||this).__isAsync=e,n}return __extends(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var o,a=function(t){return null},s=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},n&&(a=this.__isAsync?function(t){setTimeout((function(){return n(t)}))}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=t.prototype.subscribe.call(this,o,a,s);return e instanceof i.a&&e.add(u),u},e}(r.a);function Oo(){return this._results[Sn()]()}var Ao=function(){function t(){this.dirty=!0,this._results=[],this.changes=new ko,this.length=0;var e=Sn(),n=t.prototype;n[e]||(n[e]=Oo)}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),No=new O("Application Initializer"),Do=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Hn(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}},t}(),Po=new O("AppId");function Ro(){return""+jo()+jo()+jo()}function jo(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Mo=new O("Platform Initializer"),Lo=new O("Platform ID"),Fo=new O("appBootstrapListener"),Uo=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}(),Vo=new O("LocaleId"),Ho=!1;function qo(){throw new Error("Runtime compiler is not loaded")}var Wo,Bo,Ko=qo,zo=qo,Qo=qo,Go=qo,Yo=function(){function t(){this.compileModuleSync=Ko,this.compileModuleAsync=zo,this.compileModuleAndAllComponentsSync=Qo,this.compileModuleAndAllComponentsAsync=Go}return t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t}(),Zo=function(){};var $o,Xo=!(!($o=k.wtf)||!(Wo=$o.trace)||(Bo=Wo.events,0));function Jo(t,e){return null}var ta=Xo?function(t,e){return void 0===e&&(e=null),Bo.createScope(t,e)}:function(t,e){return Jo},ea=Xo?function(t,e){return Wo.leaveScope(t,e),e}:function(t,e){return e},na=Promise.resolve(0);function ra(t){"undefined"==typeof Zone?na.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var ia=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ko(!1),this.onMicrotaskEmpty=new ko(!1),this.onStable=new ko(!1),this.onError=new ko(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,i,o,a){try{return ua(e),t.invokeTask(r,i,o,a)}finally{la(e)}},onInvoke:function(t,n,r,i,o,a,s){try{return ua(e),t.invoke(r,i,o,a,s)}finally{la(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,sa(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular((function(){return e.onError.emit(i)})),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,aa,oa,oa);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function oa(){}var aa={};function sa(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function ua(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function la(t){t._nesting--,sa(t)}var ca=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ko,this.onMicrotaskEmpty=new ko,this.onStable=new ko,this.onError=new ko}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),ha=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){e.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){ia.assertNotInAngularZone(),ra((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())ra((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]},t.prototype.addCallback=function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),fa=function(){function t(){this._applications=new Map,va.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),va.findTestabilityInTree(this,t,e)},t}();function pa(t){va=t}var da,va=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),ya=new O("AllowMultipleToken"),ga=function(t,e){this.name=t,this.token=e};function ma(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,i=new O(r);return function(e){void 0===e&&(e=[]);var o=ba();if(!o||o.injector.get(ya,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(da&&!da.destroyed&&!da.injector.get(ya,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");da=t.get(_a);var e=t.get(Mo,null);e&&e.forEach((function(t){return t()}))}(pn.create({providers:a,name:r}))}return function(t){var e=ba();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ba(){return da&&!da.destroyed?da:null}var _a=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,i="noop"===(n=e?e.ngZone:void 0)?new ca:("zone.js"===n?void 0:n)||new ia({enableLongStackTrace:he()}),o=[{provide:ia,useValue:i}];return i.run((function(){var e=pn.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(ue,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return Ho&&xo(n.injector.get(Vo,Io)||Io),n.onDestroy((function(){return Ea(r._modules,n)})),i.runOutsideAngular((function(){return i.onError.subscribe({next:function(t){a.handleError(t)}})})),function(t,e,i){try{var o=((a=n.injector.get(Do)).runInitializers(),a.donePromise.then((function(){return r._moduleDoBootstrap(n),n})));return Hn(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var a}(a,i)}))},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=wa({},e);return function(t,e,n){return t.get(Zo).createCompiler([e]).compileModuleAsync(n)}(this.injector,r,t).then((function(t){return n.bootstrapModuleFactory(t,r)}))},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(Ca);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+b(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function wa(t,e){return Array.isArray(e)?e.reduce(wa,t):Object.assign({},t,e)}var Ca=function(){var t=function(){function t(t,e,n,r,i,u){var l=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=he(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run((function(){l.tick()}))}});var c=new o.a((function(t){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular((function(){t.next(l._stable),t.complete()}))})),h=new o.a((function(t){var e;l._zone.runOutsideAngular((function(){e=l._zone.onStable.subscribe((function(){ia.assertNotInAngularZone(),ra((function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,t.next(!0))}))}))}));var n=l._zone.onUnstable.subscribe((function(){ia.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(a.a)(c,h.pipe(Object(s.a)()))}return t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Kn?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof $n?null:this._injector.get(q),o=n.create(pn.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(ha,null);return a&&o.injector.get(fa).registerApplication(o.location.nativeElement,a),this._loadComponent(o),he()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var e,n,r,i,o=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var a=t._tickScope();try{this._runningTick=!0;try{for(var s=__values(this._views),u=s.next();!u.done;u=s.next()){u.value.detectChanges()}}catch(h){e={error:h}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}if(this._enforceNoNewChanges)try{for(var l=__values(this._views),c=l.next();!c.done;c=l.next()){c.value.checkNoChanges()}}catch(f){r={error:f}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}catch(p){this._zone.runOutsideAngular((function(){return o._exceptionHandler.handleError(p)}))}finally{this._runningTick=!1,ea(a)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;Ea(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Fo,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),Ea(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach((function(t){return t.destroy()}))},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t}();return t._tickScope=ta("ApplicationRef#tick()"),t}();function Ea(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Sa=function(){},Ta=function(){},Ia={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},xa=function(){function t(t,e){this._compiler=t,this._config=e||Ia}return t.prototype.load=function(t){return!Ho&&this._compiler instanceof Yo?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,r=__read(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(t){return t[o]})).then((function(t){return ka(t,i,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))},t.prototype.loadFactory=function(t){var e=__read(t.split("#"),2),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return ka(t,r,i)}))},t}();function ka(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var Oa=function(t,e){this.name=t,this.callback=e},Aa=function(){function t(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof Na&&e.addChild(this)}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),Na=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return __extends(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,r=this,i=this.childNodes.indexOf(t);-1!==i&&((n=this.childNodes).splice.apply(n,__spread([i+1,0],e)),e.forEach((function(e){e.parent&&e.parent.removeChild(e),t.parent=r})))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var n=[];return function t(n,r,i){n.childNodes.forEach((function(n){n instanceof e&&(r(n)&&i.push(n),t(n,r,i))}))}(this,t,n),n},e.prototype.queryAllNodes=function(t){var n=[];return function t(n,r,i){n instanceof e&&n.childNodes.forEach((function(n){r(n)&&i.push(n),n instanceof e&&t(n,r,i)}))}(this,t,n),n},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter((function(t){return t instanceof e}))},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach((function(n){n.name==t&&n.callback(e)}))},e}(Aa),Da=new Map,Pa=function(t){return Da.get(t)||null};function Ra(t){Da.set(t.nativeNode,t)}var ja=ma(null,"core",[{provide:Lo,useValue:"unknown"},{provide:_a,deps:[pn]},{provide:fa,deps:[]},{provide:Uo,deps:[]}]);function Ma(){return wr}function La(){return Cr}function Fa(t){return t?(Ho&&xo(t),t):Io}function Ua(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}var Va=function(t){};function Ha(t,e,n,r,i,o){t|=1;var a=ii(e),s=a.matchedQueries,u=a.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:a.matchedQueryIds,references:u,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?ui(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Fr},provider:null,text:null,query:null,ngContent:null}}function qa(t,e,n,r,i,o,a,s,u,l,c,h){var f,p;void 0===a&&(a=[]),l||(l=Fr);var d=ii(n),v=d.matchedQueries,y=d.references,g=d.matchedQueryIds,m=null,b=null;o&&(f=vi(o),m=(p=__read(f,2))[0],b=p[1]),s=s||[];for(var _=new Array(s.length),w=0;w<s.length;w++){var C=__read(s[w],3),E=C[0],S=C[1],T=C[2],I=__read(vi(S),2),x=I[0],k=I[1],O=void 0,A=void 0;switch(15&E){case 4:A=T;break;case 1:case 8:O=T}_[w]={flags:E,ns:x,name:k,nonMinifiedName:k,securityContext:O,suffix:A}}u=u||[];var N=new Array(u.length);for(w=0;w<u.length;w++){var D=__read(u[w],2),P=D[0],R=D[1];N[w]={type:0,target:P,eventName:R,propName:null}}var j=(a=a||[]).map((function(t){var e=__read(t,2),n=e[0],r=e[1],i=__read(vi(n),2);return[i[0],i[1],r]}));return h=function(t){if(t&&t.id===qr){var e=null!=t.encapsulation&&t.encapsulation!==Q.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Kr++:Wr}return t&&t.id===Wr&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:v,matchedQueryIds:g,references:y,ngContentIndex:r,childCount:i,bindings:_,bindingFlags:yi(_),outputs:N,element:{ns:m,name:b,attrs:j,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:l||Fr},provider:null,text:null,query:null,ngContent:null}}function Wa(t,e,n){var r,i=n.element,o=t.root.selectorOrNode,a=t.renderer;if(t.parent||!o){r=i.name?a.createElement(i.name,i.ns):a.createComment("");var s=ai(t,e,n);s&&a.appendChild(s,r)}else r=a.selectRootElement(o,!!i.componentRendererType&&i.componentRendererType.encapsulation===Q.ShadowDom);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var l=__read(i.attrs[u],3),c=l[0],h=l[1],f=l[2];a.setAttribute(r,h,f,c)}return r}function Ba(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=Ka(t,n.nodeIndex,(h=o.eventName,(c=o.target)?c+":"+h:h)),s=o.target,u=t;"component"===o.target&&(s=null,u=e);var l=u.renderer.listen(s||r,o.eventName,a);t.disposables[n.outputIndex+i]=l}var c,h}function Ka(t,e,n){return function(r){return $r(t,e,n,r)}}function za(t,e,n,r){if(!Qr(t,e,n,r))return!1;var i=e.bindings[n],o=Pr(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(t,i,a,i.ns,s,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(je.STYLE,i);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,a,s,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,s,r)}return!0}function Qa(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:ri(e),bindings:r},ngContent:null}}function Ga(t){for(var e=t.def.nodeMatchedQueries;t.parent&&ni(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++){67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&Mr(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&Mr(t,i).setDirty(),i+=o.childCount}}function Ya(t,e){var n=Mr(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=Za(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=Rr(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Za(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var l=a[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,s=!0}r[l.propName]=c}s&&n.notifyOnChanges()}}function Za(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push($a(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Pr(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(Za(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var h=l[c],f=Xr(h);f&&f===u&&Za(h,0,h.def.nodes.length-1,r,i)}var p=u.template._projectedViews;if(p)for(c=0;c<p.length;c++){var d=p[c];Za(d,0,d.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function $a(t,e,n){if(null!=n)switch(n){case 1:return Pr(t,e.nodeIndex).renderElement;case 0:return new Jn(Pr(t,e.nodeIndex).renderElement);case 2:return Pr(t,e.nodeIndex).template;case 3:return Pr(t,e.nodeIndex).viewContainer;case 4:return Rr(t,e.nodeIndex).instance}}function Xa(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Ja(t,e,n){var r=ai(t,e,n);r&&hi(t,n.ngContent.index,1,r,null,void 0)}function ts(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];i[e[a]]=a}return function(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:64,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:yi(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,t,i)}function es(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function ns(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=ai(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function rs(t,e){return(null!=t?t.toString():"")+e.suffix}function is(t,e,n,r){for(var i=0,o=0,a=0,s=0,u=0,l=null,c=null,h=!1,f=!1,p=null,d=0;d<e.length;d++){var v=e[d];if(v.nodeIndex=d,v.parent=l,v.bindingIndex=i,v.outputIndex=o,v.renderParent=c,a|=v.flags,u|=v.matchedQueryIds,v.element){var y=v.element;y.publicProviders=l?l.element.publicProviders:Object.create(null),y.allProviders=y.publicProviders,h=!1,f=!1,v.element.template&&(u|=v.element.template.nodeMatchedQueries)}if(as(l,v,e.length),i+=v.bindings.length,o+=v.outputs.length,!c&&3&v.flags&&(p=v),20224&v.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var g=0!=(32768&v.flags);0==(8192&v.flags)||g?l.element.publicProviders[Vr(v.provider.token)]=v:(f||(f=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[Vr(v.provider.token)]=v),g&&(l.element.componentProvider=v)}if(l?(l.childFlags|=v.flags,l.directChildFlags|=v.flags,l.childMatchedQueries|=v.matchedQueryIds,v.element&&v.element.template&&(l.childMatchedQueries|=v.element.template.nodeMatchedQueries)):s|=v.flags,v.childCount>0)l=v,os(v)||(c=v);else for(;l&&d===l.nodeIndex+l.childCount;){var m=l.parent;m&&(m.childFlags|=l.childFlags,m.childMatchedQueries|=l.childMatchedQueries),c=(l=m)&&os(l)?l.renderParent:l}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||Fr,updateRenderer:r||Fr,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:p}}function os(t){return 0!=(1&t.flags)&&null===t.element.name}function as(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function ss(t,e,n,r){var i=cs(t.root,t.renderer,t,e,n);return hs(i,t.component,r),fs(i),i}function us(t,e,n){var r=cs(t,t.renderer,null,null,e);return hs(r,n,n),fs(r),r}function ls(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,cs(t.root,i,t,e.element.componentProvider,n)}function cs(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function hs(t,e,n){t.component=e,t.context=n}function fs(t){var e;ei(t)&&(e=Pr(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i],a=void 0;switch(Lr.setCurrentNode(t,i),201347067&o.flags){case 1:var s=Wa(t,e,o),u=void 0;if(33554432&o.flags){var l=ui(o.element.componentView);u=Lr.createComponentView(t,o,l,s)}Ba(t,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?Fi(t,o):void 0},16777216&o.flags&&(a.viewContainer=Ri(t,o,a));break;case 2:a=ns(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:oo(t,o)});break;case 16:a={instance:ao(t,o)};break;case 16384:(a=r[i])||(a={instance:so(t,o)}),32768&o.flags&&hs(Pr(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Ao;break;case 8:Ja(t,e,o),a=void 0}r[i]=a}ws(t,_s.CreateViewNodes),Ts(t,201326592,268435456,0)}function ps(t){ys(t),Lr.updateDirectives(t,1),Cs(t,_s.CheckNoChanges),Lr.updateRenderer(t,1),ws(t,_s.CheckNoChanges),t.state&=-97}function ds(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Ar(t,0,256),ys(t),Lr.updateDirectives(t,0),Cs(t,_s.CheckAndUpdate),Ts(t,67108864,536870912,0);var e=Ar(t,256,512);yo(t,2097152|(e?1048576:0)),Lr.updateRenderer(t,0),ws(t,_s.CheckAndUpdate),Ts(t,134217728,536870912,0),yo(t,8388608|((e=Ar(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Ar(t,768,1024)}function vs(t,e,n,r,i,o,a,s,u,l,c,h,f){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=e.bindings.length,p=!1;return f>0&&za(t,e,0,n)&&(p=!0),f>1&&za(t,e,1,r)&&(p=!0),f>2&&za(t,e,2,i)&&(p=!0),f>3&&za(t,e,3,o)&&(p=!0),f>4&&za(t,e,4,a)&&(p=!0),f>5&&za(t,e,5,s)&&(p=!0),f>6&&za(t,e,6,u)&&(p=!0),f>7&&za(t,e,7,l)&&(p=!0),f>8&&za(t,e,8,c)&&(p=!0),f>9&&za(t,e,9,h)&&(p=!0),p}(t,e,n,r,i,o,a,s,u,l,c,h);case 2:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=!1,p=e.bindings,d=p.length;if(d>0&&Qr(t,e,0,n)&&(f=!0),d>1&&Qr(t,e,1,r)&&(f=!0),d>2&&Qr(t,e,2,i)&&(f=!0),d>3&&Qr(t,e,3,o)&&(f=!0),d>4&&Qr(t,e,4,a)&&(f=!0),d>5&&Qr(t,e,5,s)&&(f=!0),d>6&&Qr(t,e,6,u)&&(f=!0),d>7&&Qr(t,e,7,l)&&(f=!0),d>8&&Qr(t,e,8,c)&&(f=!0),d>9&&Qr(t,e,9,h)&&(f=!0),f){var v=e.text.prefix;d>0&&(v+=rs(n,p[0])),d>1&&(v+=rs(r,p[1])),d>2&&(v+=rs(i,p[2])),d>3&&(v+=rs(o,p[3])),d>4&&(v+=rs(a,p[4])),d>5&&(v+=rs(s,p[5])),d>6&&(v+=rs(u,p[6])),d>7&&(v+=rs(l,p[7])),d>8&&(v+=rs(c,p[8])),d>9&&(v+=rs(h,p[9]));var y=Dr(t,e.nodeIndex).renderText;t.renderer.setValue(y,v)}return f}(t,e,n,r,i,o,a,s,u,l,c,h);case 16384:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=Rr(t,e.nodeIndex),p=f.instance,d=!1,v=void 0,y=e.bindings.length;return y>0&&zr(t,e,0,n)&&(d=!0,v=vo(t,f,e,0,n,v)),y>1&&zr(t,e,1,r)&&(d=!0,v=vo(t,f,e,1,r,v)),y>2&&zr(t,e,2,i)&&(d=!0,v=vo(t,f,e,2,i,v)),y>3&&zr(t,e,3,o)&&(d=!0,v=vo(t,f,e,3,o,v)),y>4&&zr(t,e,4,a)&&(d=!0,v=vo(t,f,e,4,a,v)),y>5&&zr(t,e,5,s)&&(d=!0,v=vo(t,f,e,5,s,v)),y>6&&zr(t,e,6,u)&&(d=!0,v=vo(t,f,e,6,u,v)),y>7&&zr(t,e,7,l)&&(d=!0,v=vo(t,f,e,7,l,v)),y>8&&zr(t,e,8,c)&&(d=!0,v=vo(t,f,e,8,c,v)),y>9&&zr(t,e,9,h)&&(d=!0,v=vo(t,f,e,9,h,v)),v&&p.ngOnChanges(v),65536&e.flags&&Nr(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),d}(t,e,n,r,i,o,a,s,u,l,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=e.bindings,p=!1,d=f.length;if(d>0&&Qr(t,e,0,n)&&(p=!0),d>1&&Qr(t,e,1,r)&&(p=!0),d>2&&Qr(t,e,2,i)&&(p=!0),d>3&&Qr(t,e,3,o)&&(p=!0),d>4&&Qr(t,e,4,a)&&(p=!0),d>5&&Qr(t,e,5,s)&&(p=!0),d>6&&Qr(t,e,6,u)&&(p=!0),d>7&&Qr(t,e,7,l)&&(p=!0),d>8&&Qr(t,e,8,c)&&(p=!0),d>9&&Qr(t,e,9,h)&&(p=!0),p){var v=jr(t,e.nodeIndex),y=void 0;switch(201347067&e.flags){case 32:y=new Array(f.length),d>0&&(y[0]=n),d>1&&(y[1]=r),d>2&&(y[2]=i),d>3&&(y[3]=o),d>4&&(y[4]=a),d>5&&(y[5]=s),d>6&&(y[6]=u),d>7&&(y[7]=l),d>8&&(y[8]=c),d>9&&(y[9]=h);break;case 64:y={},d>0&&(y[f[0].name]=n),d>1&&(y[f[1].name]=r),d>2&&(y[f[2].name]=i),d>3&&(y[f[3].name]=o),d>4&&(y[f[4].name]=a),d>5&&(y[f[5].name]=s),d>6&&(y[f[6].name]=u),d>7&&(y[f[7].name]=l),d>8&&(y[f[8].name]=c),d>9&&(y[f[9].name]=h);break;case 128:var g=n;switch(d){case 1:y=g.transform(n);break;case 2:y=g.transform(r);break;case 3:y=g.transform(r,i);break;case 4:y=g.transform(r,i,o);break;case 5:y=g.transform(r,i,o,a);break;case 6:y=g.transform(r,i,o,a,s);break;case 7:y=g.transform(r,i,o,a,s,u);break;case 8:y=g.transform(r,i,o,a,s,u,l);break;case 9:y=g.transform(r,i,o,a,s,u,l,c);break;case 10:y=g.transform(r,i,o,a,s,u,l,c,h)}}v.value=y}return p}(t,e,n,r,i,o,a,s,u,l,c,h);default:throw"unreachable"}}(t,e,r,i,o,a,s,u,l,c,h,f):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)za(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Qr(t,e,o,n[o])&&(i=!0);if(i){var a="";for(o=0;o<n.length;o++)a+=rs(n[o],r[o]);a=e.text.prefix+a;var s=Dr(t,e.nodeIndex).renderText;t.renderer.setValue(s,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=Rr(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)zr(t,e,s,n[s])&&(o=!0,a=vo(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),65536&e.flags&&Nr(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Qr(t,e,o,n[o])&&(i=!0);if(i){var a=jr(t,e.nodeIndex),s=void 0;switch(201347067&e.flags){case 32:s=n;break;case 64:s={};for(o=0;o<n.length;o++)s[r[o].name]=n[o];break;case 128:var u=n[0],l=n.slice(1);s=u.transform.apply(u,__spread(l))}a.value=s}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function ys(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=Pr(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,Zr(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function gs(t,e,n,r,i,o,a,s,u,l,c,h,f){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,h){var f=e.bindings.length;f>0&&Gr(t,e,0,n),f>1&&Gr(t,e,1,r),f>2&&Gr(t,e,2,i),f>3&&Gr(t,e,3,o),f>4&&Gr(t,e,4,a),f>5&&Gr(t,e,5,s),f>6&&Gr(t,e,6,u),f>7&&Gr(t,e,7,l),f>8&&Gr(t,e,8,c),f>9&&Gr(t,e,9,h)}(t,e,r,i,o,a,s,u,l,c,h,f):function(t,e,n){for(var r=0;r<n.length;r++)Gr(t,e,r,n[r])}(t,e,r),!1}function ms(t,e){if(Mr(t,e.nodeIndex).dirty)throw xr(Lr.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function bs(t){if(!(128&t.state)){if(Cs(t,_s.Destroy),ws(t,_s.Destroy),yo(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=Xr(t);if(e){var n=e.template._projectedViews;n&&(K(n,n.indexOf(t)),Lr.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(Pr(t,n).renderElement):2&r.flags?t.renderer.destroyNode(Dr(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&Mr(t,n).destroy()}}(t),ei(t)&&t.renderer.destroy(),t.state|=128}}var _s=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function ws(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?Es(Pr(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Cs(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=Pr(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)Es(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Es(t,e){var n=t.state;switch(e){case _s.CheckNoChanges:0==(128&n)&&(12==(12&n)?ps(t):64&n&&Ss(t,_s.CheckNoChangesProjectedViews));break;case _s.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ps(t):64&n&&Ss(t,e));break;case _s.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ds(t):64&n&&Ss(t,_s.CheckAndUpdateProjectedViews));break;case _s.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ds(t):64&n&&Ss(t,e));break;case _s.Destroy:bs(t);break;case _s.CreateViewNodes:fs(t)}}function Ss(t,e){Cs(t,e),ws(t,e)}function Ts(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(Lr.setCurrentNode(t,a.nodeIndex),r){case 0:Ya(t,a);break;case 1:ms(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}var Is=!1;function xs(t,e,n,r,i,o){var a=i.injector.get(nr);return us(Os(t,i,a,e,n),r,o)}function ks(t,e,n,r,i,o){var a=i.injector.get(nr),s=Os(t,i,new su(a),e,n),u=Us(r);return ou(Gs.create,us,null,[s,u,o])}function Os(t,e,n,r,i){var o=e.injector.get(Me),a=e.injector.get(ue),s=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:a}}function As(t,e,n,r){var i=Us(n);return ou(Gs.create,ss,null,[t,e,i,r])}function Ns(t,e,n,r){return n=js.get(e.element.componentProvider.provider.token)||Us(n),ou(Gs.create,ls,null,[t,e,n,r])}function Ds(t,e,n,r){return Ki(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===Ps.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach((function(t){var r=Ps.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)})),t.modules.forEach((function(t){Rs.forEach((function(r,i){g(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)}))})),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasOverrides,r=e.hasDeprecatedOverrides;return n?(function(t){for(var e=0;e<t.providers.length;e++){var n=t.providers[e];r&&(n.flags|=4096);var i=Ps.get(n.token);i&&(n.flags=-3841&n.flags|i.flags,n.deps=oi(i.deps),n.value=i.value)}if(Rs.size>0){var o=new Set(t.modules);Rs.forEach((function(e,n){if(o.has(g(n).providedIn)){var i={token:n,flags:e.flags|(r?4096:0),deps:oi(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[Vr(n)]=i}}))}}(t=t.factory((function(){return Fr}))),t):t}(r))}var Ps=new Map,Rs=new Map,js=new Map;function Ms(t){var e;Ps.set(t.token,t),"function"==typeof t.token&&(e=g(t.token))&&"function"==typeof e.providedIn&&Rs.set(t.token,t)}function Ls(t,e){var n=ui(e.viewDefFactory),r=ui(n.nodes[0].element.componentView);js.set(t,r)}function Fs(){Ps.clear(),Rs.clear(),js.clear()}function Us(t){if(0===Ps.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Ps.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory((function(){return Fr}));for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=Ps.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=oi(o.deps),i.value=o.value)}}}}function Vs(t,e,n,r,i,o,a,s,u,l,c,h,f){var p=t.def.nodes[e];return vs(t,p,n,r,i,o,a,s,u,l,c,h,f),224&p.flags?jr(t,e).value:void 0}function Hs(t,e,n,r,i,o,a,s,u,l,c,h,f){var p=t.def.nodes[e];return gs(t,p,n,r,i,o,a,s,u,l,c,h,f),224&p.flags?jr(t,e).value:void 0}function qs(t){return ou(Gs.detectChanges,ds,null,[t])}function Ws(t){return ou(Gs.checkNoChanges,ps,null,[t])}function Bs(t){return ou(Gs.destroy,bs,null,[t])}var Ks,zs,Qs,Gs=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();function Ys(t,e){zs=t,Qs=e}function Zs(t,e,n,r){return Ys(t,e),ou(Gs.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function $s(t,e){if(128&t.state)throw Or(Gs[Ks]);return Ys(t,eu(t,0)),t.def.updateDirectives((function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?Js(t,a,r,i):tu(t,a,r,i),16384&a.flags&&Ys(t,eu(t,n)),224&a.flags?jr(t,a.nodeIndex).value:void 0}),t)}function Xs(t,e){if(128&t.state)throw Or(Gs[Ks]);return Ys(t,nu(t,0)),t.def.updateRenderer((function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?Js(t,a,r,i):tu(t,a,r,i),3&a.flags&&Ys(t,nu(t,n)),224&a.flags?jr(t,a.nodeIndex).value:void 0}),t)}function Js(t,e,n,r){if(vs.apply(void 0,__spread([t,e,n],r))){var i=1===n?r[0]:r;if(16384&e.flags){for(var o={},a=0;a<e.bindings.length;a++){var s=e.bindings[a],u=i[a];8&s.flags&&(o[(f=s.nonMinifiedName,p=void 0,p=f.replace(/[$@]/g,"_"),"ng-reflect-"+(f=p.replace(Ve,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()}))))]=He(u))}var l=e.parent,c=Pr(t,l.nodeIndex).renderElement;if(l.element.name)for(var h in o){null!=(u=o[h])?t.renderer.setAttribute(c,h,u):t.renderer.removeAttribute(c,h)}else t.renderer.setValue(c,"bindings="+JSON.stringify(o,null,2))}}var f,p}function tu(t,e,n,r){gs.apply(void 0,__spread([t,e,n],r))}function eu(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function nu(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var ru=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Jr(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return Pr(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Vi(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){iu(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&iu(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!ei(t);)t=t.parent;return t.parent?Pr(t.parent,Jr(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?ti(this.view,this.nodeDef):ti(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var o=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),a=-1;e.factory((function(){var e;return++a===o?(e=t.error).bind.apply(e,__spread([t],r)):Fr})),a<o&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,__spread(r)))},t}();function iu(t,e,n){for(var r in e.references)n[r]=$a(t,e,e.references[r])}function ou(t,e,n,r){var i,o,a=Ks,s=zs,u=Qs;try{Ks=t;var l=e.apply(n,r);return zs=s,Qs=u,Ks=a,l}catch(c){if(oe(c)||!zs)throw c;throw i=c,o=au(),i instanceof Error||(i=new Error(i.toString())),kr(i,o),i}}function au(){return zs?new ru(zs,Qs):null}var su=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new uu(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),uu=function(){function t(t){this.delegate=t,this.debugContextFactory=au,this.data=this.delegate.data}return t.prototype.createDebugContext=function(t){return this.debugContextFactory(t)},t.prototype.destroyNode=function(t){var e=Pa(t);!function(t){Da.delete(t.nativeNode)}(e),e instanceof Aa&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){var i=new Na(n,null,r);i.name=t,Ra(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Ra(new Aa(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Ra(new Aa(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=Pa(t),r=Pa(e);n&&r&&n instanceof Na&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=Pa(t),i=Pa(e),o=Pa(n);r&&i&&r instanceof Na&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=Pa(t),r=Pa(e);n&&r&&n instanceof Na&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t,e){var n=this.delegate.selectRootElement(t,e),r=au();return r&&Ra(new Na(n,null,r)),n},t.prototype.setAttribute=function(t,e,n,r){var i=Pa(t);i&&i instanceof Na&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=Pa(t);r&&r instanceof Na&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=Pa(t);n&&n instanceof Na&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=Pa(t);n&&n instanceof Na&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=Pa(t);i&&i instanceof Na&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=Pa(t);r&&r instanceof Na&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=Pa(t);r&&r instanceof Na&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=Pa(t);r&&r.listeners.push(new Oa(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function lu(t,e,n){return new cu(t,e,n)}var cu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return __extends(e,t),e.prototype.create=function(t){!function(){if(!Is){Is=!0;var t=he()?{setCurrentNode:Ys,createRootView:ks,createEmbeddedView:As,createComponentView:Ns,createNgModuleRef:Ds,overrideProvider:Ms,overrideComponentView:Ls,clearOverrides:Fs,checkAndUpdateView:qs,checkNoChangesView:Ws,destroyView:Bs,createDebugContext:function(t,e){return new ru(t,e)},handleEvent:Zs,updateDirectives:$s,updateRenderer:Xs}:{setCurrentNode:function(){},createRootView:xs,createEmbeddedView:ss,createComponentView:ls,createNgModuleRef:Ki,overrideProvider:Fr,overrideComponentView:Fr,clearOverrides:Fr,checkAndUpdateView:ds,checkNoChangesView:ps,destroyView:bs,createDebugContext:function(t,e){return new ru(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Vs:Hs,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Vs:Hs,t)}};Lr.setCurrentNode=t.setCurrentNode,Lr.createRootView=t.createRootView,Lr.createEmbeddedView=t.createEmbeddedView,Lr.createComponentView=t.createComponentView,Lr.createNgModuleRef=t.createNgModuleRef,Lr.overrideProvider=t.overrideProvider,Lr.overrideComponentView=t.overrideComponentView,Lr.clearOverrides=t.clearOverrides,Lr.checkAndUpdateView=t.checkAndUpdateView,Lr.checkNoChangesView=t.checkNoChangesView,Lr.destroyView=t.destroyView,Lr.resolveDep=fo,Lr.createDebugContext=t.createDebugContext,Lr.handleEvent=t.handleEvent,Lr.updateDirectives=t.updateDirectives,Lr.updateRenderer=t.updateRenderer,Lr.dirtyParentQueries=Ga}}();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),r={};for(var i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(ui(this._ngModuleDefFactory));return Lr.createNgModuleRef(this.moduleType,t||pn.NULL,this._bootstrapComponents,e)},e}(W)},"90cg":function(t,e,n){"use strict";e.isPromise=function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},"9AGB":function(t,e,n){"use strict";var r=n("w5QO");function i(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:r.noop}e.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(t)},e.pipeFromArray=i},"9ppp":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",(function(){return i})),r.prototype=Object.create(Error.prototype);var i=r},CRDf:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("kJWO"),i=function(t){return function(e){var n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},Cfvw:function(t,e,n){"use strict";var r=n("HDdC"),i=n("c2HN"),o=n("I55L"),a=n("kJWO"),s=n("Lhse"),u=n("yCtX"),l=n("quSY"),c=n("a7t3"),h=n("pLzU"),f=n("CRDf"),p=n("SeVD");function d(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(p.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(e?function(n){var r=new l.a;return r.add(e.schedule((function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}:Object(f.a)(t))}(t,e);if(Object(i.a)(t))return function(t,e){return new r.a(e?function(n){var r=new l.a;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}:Object(c.a)(t))}(t,e);if(Object(o.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[s.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(e?function(n){var r,i=new l.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[s.a](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}:Object(h.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",(function(){return d}))},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(t){return t.complete()}));function o(t){return t?function(t){return new r.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},FWf1:function(t,e,n){var r=n("mrSG").__extends,i=n("pshJ"),o=n("GiSu"),a=n("zB/H"),s=n("p//D"),u=n("n3uD"),l=n("MkmW"),c=function(t){function e(n,r,i){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=o.empty;break;case 1:if(!n){a.destination=o.empty;break}if("object"==typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new h(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new h(a,n,r,i)}return a}return r(e,t),e.prototype[s.rxSubscriber]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(a.Subscription);e.Subscriber=c;var h=function(t){function e(e,n,r,a){var s,u=t.call(this)||this;u._parentSubscriber=e;var l=u;return i.isFunction(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==o.empty&&(l=Object.create(n),i.isFunction(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(u))),u._context=l,u._next=s,u._error=r,u._complete=a,u}return r(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):l.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;l.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.config.useDeprecatedSynchronousErrorHandling)throw n;l.hostReportError(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(l.hostReportError(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(c);e.SafeSubscriber=h},GIw4:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("kDjp");function i(t){return(Object(r.c)(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}},GMZp:function(t,e,n){"use strict";e.isObject=function(t){return null!==t&&"object"==typeof t}},GiSu:function(t,e,n){"use strict";var r=n("n3uD"),i=n("MkmW");e.empty={closed:!0,next:function(t){},error:function(t){if(r.config.useDeprecatedSynchronousErrorHandling)throw t;i.hostReportError(t)},complete:function(){}}},HDdC:function(t,e,n){"use strict";var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),a=n("kJWO"),s=n("mCNh"),u=n("2fFW");n.d(e,"a",(function(){return c}));var l,c=((l=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var a=this.operator,s=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(s.add(a?a.call(s,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.closed,n=t.destination,i=t.isStopped;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=h(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(s.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=h(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t}()).create=function(t){return new l(t)},l);function h(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},HZF8:function(t,e,n){"use strict";var r=n("zfKp");e.isInteropObservable=function(t){return t&&"function"==typeof t[r.observable]}},I1TF:function(t,e,n){"use strict";var r=n("sDu7"),i=n("WEwH"),o=n("b/LO"),a=n("kDjp");function s(t,e){return function(n,r){return Object(a.a)(n,{stringCase:function(){return t.child(n)[e](r)},firebaseCase:function(){return n[e](r)},snapshotCase:function(){return n.ref[e](r)}})}}var u=n("lJxs");function l(t,e){return{query:t,update:s(t.ref,"update"),set:s(t.ref,"set"),push:function(e){return t.ref.push(e)},remove:(n=t.ref,function(t){return t?Object(a.a)(t,{stringCase:function(){return n.child(t).remove()},firebaseCase:function(){return t.remove()},snapshotCase:function(){return t.ref.remove()}}):n.remove()}),snapshotChanges:function(n){var i=Object(r.a)(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(i))},stateChanges:function(n){var r=Object(i.a)(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r))},auditTrail:function(n){var r=Object(o.a)(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r))},valueChanges:function(n){var i=Object(r.a)(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(i)).pipe(Object(u.a)((function(t){return t.map((function(t){return t.payload.val()}))})))}};var n}n.d(e,"a",(function(){return l}))},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";var r=function(){var t=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t}();return t.now=function(){return Date.now()},t}();n.d(e,"a",(function(){return i}));var i=function(t){function e(n,i){void 0===i&&(i=r.now);var o=this;return(o=t.call(this,n,(function(){return e.delegate&&e.delegate!==o?e.delegate.now():i()}))||this).actions=[],o.active=!1,o.scheduled=void 0,o}return __extends(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(r)},Kqap:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(t,e,n))}}var o=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))},t}(),a=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e)||this).accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return __extends(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)},e}(r.a)},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},LBXl:function(t,e,n){"use strict";function r(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}r.prototype=Object.create(Error.prototype),e.UnsubscriptionError=r},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("EY2u"),a=n("XUOw");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(Object(r.a)(n)?t.pop():n=void 0,t.length){case 0:return Object(o.b)(n);case 1:return n?Object(i.a)(t,n):Object(a.a)(t[0]);default:return Object(i.a)(t,n)}}},Lhse:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},MkmW:function(t,e,n){"use strict";e.hostReportError=function(t){setTimeout((function(){throw t}))}},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}))}n.d(e,"a",(function(){return r}))},NSPt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,a=n("mrSG"),s=n("zVF4"),u=n("q/0M"),l=n("S+S0"),c=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),s.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:s.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),h=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return s.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),f=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new c(e)}}catch(n){}return new h},p=f("localStorage"),d=f("sessionStorage"),v=new u.Logger("@firebase/database"),y=(i=1,function(){return i++}),g=function(t){var e=s.stringToByteArray(t),n=new s.Sha1;n.update(e);var r=n.digest();return s.base64.encodeByteArray(r)},m=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++)Array.isArray(t[r])||t[r]&&"object"==typeof t[r]&&"number"==typeof t[r].length?n+=m.apply(null,t[r]):n+="object"==typeof t[r]?s.stringify(t[r]):t[r],n+=" ";return n},b=null,_=!0,w=function(t,e){s.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(v.logLevel=u.LogLevel.VERBOSE,b=v.log.bind(v),e&&d.set("logging_enabled",!0)):"function"==typeof t?b=t:(b=null,d.remove("logging_enabled"))},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===_&&(_=!1,null===b&&!0===d.get("logging_enabled")&&w(!0)),b){var n=m.apply(null,t);b(n)}},E=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];C.apply(void 0,a.__spread([t],e))}},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+m.apply(void 0,a.__spread(t));v.error(n)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+m.apply(void 0,a.__spread(t));throw v.error(n),new Error(n)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+m.apply(void 0,a.__spread(t));v.warn(n)},x=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},k="[MIN_NAME]",O="[MAX_NAME]",A=function(t,e){if(t===e)return 0;if(t===k||e===O)return-1;if(e===k||t===O)return 1;var n=G(t),r=G(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},N=function(t,e){return t===e?0:t<e?-1:1},D=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+s.stringify(e))},P=function(t){if("object"!=typeof t||null===t)return s.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=s.stringify(e[i]),r+=":",r+=P(t[e[i]]);return r+"}"},R=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function j(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var M,L,F,U,V,H,q,W,B,K,z=function(t){var e,n,r,i,o,a,u;for(s.assert(!x(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074)))),a=[],o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse(),u=a.join("");var l="";for(o=0;o<64;o+=8){var c=parseInt(u.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()},Q=new RegExp("^-?(0*)\\d{1,10}$"),G=function(t){if(Q.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Y=function(t){try{t()}catch(e){setTimeout((function(){throw I("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},Z=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},X=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=A(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),J=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=s.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=s.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=s.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),tt="long_polling",et=function(){function t(t,e,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=p.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(s.assert("string"==typeof t,"typeof type must == string"),s.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==tt)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return j(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),nt=function(t){var e=rt(t),n=e.namespace;return"firebase"===e.domain&&T(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&I("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new et(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme,"",n!=e.subdomain),path:new X(e.pathString)}},rt=function(t){var e="",n="",r="",i="",o="",s=!0,u="https",l=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(u=t.substring(0,c-1),t=t.substring(c+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,f)));var p=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=a.__values(t.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):I("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(c=e.indexOf(":"))>=0?(s="https"===u||"wss"===u,l=parseInt(e.substring(c+1),10)):c=t.length;var d=e.split(".");3===d.length?(n=d[1],o=r=d[0].toLowerCase()):2===d.length?n=d[0]:"localhost"===d[0].slice(0,c).toLowerCase()&&(n="localhost"),"ns"in p&&(o=p.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},it=/[\[\].#$\/\u0000-\u001F\u007F]/,ot=/[\[\].#$\u0000-\u001F\u007F]/,at=function(t){return"string"==typeof t&&0!==t.length&&!it.test(t)},st=function(t){return"string"==typeof t&&0!==t.length&&!ot.test(t)},ut=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!x(t)||t&&"object"==typeof t&&s.contains(t,".sv")},lt=function(t,e,n,r,i){i&&void 0===n||ct(s.errorPrefix(t,e,i),n,r)},ct=function(t,e,n){var r=n instanceof X?new J(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(x(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&s.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(j(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!at(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),ct(t,n,r),r.pop()})),i&&o)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},ht=function(t,e,n,r,i){if(!i||void 0!==n){var o=s.errorPrefix(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];j(n,(function(t,e){var n=new X(t);if(ct(o,e,r.child(n)),".priority"===n.getBack()&&!ut(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!at(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(X.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,a)}},ft=function(t,e,n,r){if(!r||void 0!==n){if(x(n))throw new Error(s.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ut(n))throw new Error(s.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},pt=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(s.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},dt=function(t,e,n,r){if(!(r&&void 0===n||at(n)))throw new Error(s.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},vt=function(t,e,n,r){if(!(r&&void 0===n||st(n)))throw new Error(s.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},yt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),vt(t,e,n,r)},gt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},mt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!at(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),st(t)}(r))throw new Error(s.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},bt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(s.errorPrefix(t,e,r)+"must be a boolean.")},_t=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){s.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),s.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new s.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){s.validateArgCount("OnDisconnect.remove",0,1,arguments.length),gt("OnDisconnect.remove",this.path_),s.validateCallback("OnDisconnect.remove",1,t,!0);var e=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){s.validateArgCount("OnDisconnect.set",1,2,arguments.length),gt("OnDisconnect.set",this.path_),lt("OnDisconnect.set",1,t,this.path_,!1),s.validateCallback("OnDisconnect.set",2,e,!0);var n=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){s.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),gt("OnDisconnect.setWithPriority",this.path_),lt("OnDisconnect.setWithPriority",1,t,this.path_,!1),ft("OnDisconnect.setWithPriority",2,e,!1),s.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new s.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(s.validateArgCount("OnDisconnect.update",1,2,arguments.length),gt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,I("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ht("OnDisconnect.update",1,t,this.path_,!1),s.validateCallback("OnDisconnect.update",2,e,!0);var i=new s.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),wt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return s.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Ct=(M="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",L=0,F=[],function(t){var e,n=t===L;L=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=M.charAt(t%64),t=Math.floor(t/64);s.assert(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===F[e];e--)F[e]=0;F[e]++}else for(e=0;e<12;e++)F[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=M.charAt(F[e]);return s.assert(20===i.length,"nextPushId: Length should be 20."),i}),Et=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),St=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Et(k,t),r=new Et(k,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Et.MIN},t}(),Tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return U},set:function(t){U=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return A(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw s.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Et.MIN},e.prototype.maxPost=function(){return new Et(O,U)},e.prototype.makePost=function(t,e){return s.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new Et(t,U)},e.prototype.toString=function(){return".key"},e}(St),It=new Tt,xt=function(t){return"number"==typeof t?"number:"+z(t):"string:"+t},kt=function(t){if(t.isLeafNode()){var e=t.val();s.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&s.contains(e,".sv"),"Priority must be a string or number.")}else s.assert(t===V||t.isEmpty(),"priority of unexpected type.");s.assert(t===V||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ot=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,s.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),kt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return H},set:function(t){H=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(s.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+xt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?z(this.value_):this.value_,this.lazyHash_=g(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(s.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return s.assert(i>=0,"Unknown leaf type: "+n),s.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),At=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?A(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Et.MIN},e.prototype.maxPost=function(){return new Et(O,new Ot("[PRIORITY-POST]",W))},e.prototype.makePost=function(t,e){var n=q(t);return new Et(e,new Ot("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(St)),Nt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Dt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Rt.EMPTY_NODE,this.right=null!=o?o:Rt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r,i;return(i=(r=n(t,(i=this).key))<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Rt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Rt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Pt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Dt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Rt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Dt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Dt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Nt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Nt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Nt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Nt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Pt,t}(),jt=Math.log(2),Mt=function(){function t(t){this.count=parseInt(Math.log(t+1)/jt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Lt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,s=r-e;if(0==s)return null;if(1==s)return o=t[e],a=n?n(o):o,new Dt(a,o.node,Dt.BLACK,null,null);var u=parseInt(s/2,10)+e,l=i(e,u),c=i(u+1,r);return o=t[u],a=n?n(o):o,new Dt(a,o.node,Dt.BLACK,l,c)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var l=i(o+1,s),c=t[o],h=n?n(c):c;u(new Dt(h,c.node,r,null,l))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},l=0;l<e.count;++l){var c=e.nextBitIsOne(),h=Math.pow(2,e.count-(l+1));c?s(h,Dt.BLACK):(s(h,Dt.BLACK),s(h,Dt.RED))}return o}(new Mt(t.length));return new Rt(r||e,o)},Ft={},Ut=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return s.assert(Ft&&At,"ChildrenNode.ts has not been loaded"),B=B||new t({".priority":Ft},{".priority":At})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=s.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Rt?e:null},t.prototype.hasIndex=function(t){return s.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){s.assert(e!==It,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,u=n.getIterator(Et.Wrap),l=u.getNext();l;)o=o||e.isDefinedOn(l.node),i.push(l),l=u.getNext();r=o?Lt(i,e.getCompare()):Ft;var c=e.toString(),h=a.__assign({},this.indexSet_);h[c]=e;var f=a.__assign({},this.indexes_);return f[c]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(s.map(this.indexes_,(function(t,i){var o=s.safeGet(r.indexSet_,i);if(s.assert(o,"Missing index implementation for "+i),t===Ft){if(o.isDefinedOn(e.node)){for(var a=[],u=n.getIterator(Et.Wrap),l=u.getNext();l;)l.name!=e.name&&a.push(l),l=u.getNext();return a.push(e),Lt(a,o.getCompare())}return Ft}var c=n.get(e.name),h=t;return c&&(h=h.remove(new Et(e.name,c))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(s.map(this.indexes_,(function(t){if(t===Ft)return t;var r=n.get(e.name);return r?t.remove(new Et(e.name,r)):t})),this.indexSet_)},t}();function Vt(t,e){return A(t.name,e.name)}function Ht(t,e){return A(t,e)}var qt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&kt(this.priorityNode_),this.children_.isEmpty()&&s.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return K||(K=new t(new Rt(Ht),null,Ut.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||K},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?K:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(s.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r,i=new Et(e,n),o=void 0,a=void 0;return n.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_)),r=o.isEmpty()?K:this.priorityNode_,new t(o,r,a)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;s.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(At,(function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+xt(this.getPriority().val())+":"),this.forEachChild(At,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":g(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Et(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Et(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Et(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Et.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Et.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Wt?-1:0},t.prototype.withIndex=function(e){if(e===It||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===It||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(At),r=e.getIterator(At),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===It?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Wt=new(function(t){function e(){return t.call(this,new Rt(Ht),qt.EMPTY_NODE,Ut.Default)||this}return a.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return qt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(qt));Object.defineProperties(Et,{MIN:{value:new Et(k,qt.EMPTY_NODE)},MAX:{value:new Et(O,Wt)}}),Tt.__EMPTY_NODE=qt.EMPTY_NODE,Ot.__childrenNodeConstructor=qt,V=Wt,W=Wt;var Bt=!0;function Kt(t,e){if(void 0===e&&(e=null),null===t)return qt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),s.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Ot(t,Kt(e));if(t instanceof Array||!Bt){var n=qt.EMPTY_NODE;return j(t,(function(e,r){if(s.contains(t,e)&&"."!==e.substring(0,1)){var i=Kt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Kt(e))}var r=[],i=!1;if(j(t,(function(t,e){if("."!==t.substring(0,1)){var n=Kt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Et(t,n)))}})),0==r.length)return qt.EMPTY_NODE;var o=Lt(r,Vt,(function(t){return t.name}),Ht);if(i){var a=Lt(r,At.getCompare());return new qt(o,Kt(e),new Ut({".priority":a},{".priority":At}))}return new qt(o,Kt(e),Ut.Default)}q=Kt;var zt,Qt,Gt,Yt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?A(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Et.MIN},e.prototype.maxPost=function(){return Et.MAX},e.prototype.makePost=function(t,e){var n=Kt(t);return new Et(e,n)},e.prototype.toString=function(){return".value"},e}(St)),Zt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,s.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return a.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?A(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Kt(t),r=qt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Et(e,r)},e.prototype.maxPost=function(){var t=qt.EMPTY_NODE.updateChild(this.indexPath_,Wt);return new Et(O,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(St),$t=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return s.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return s.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return s.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return s.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){s.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),vt("DataSnapshot.child",1,e,!1);var n=new X(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,At)},t.prototype.hasChild=function(t){s.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),vt("DataSnapshot.hasChild",1,t,!1);var e=new X(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return s.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(s.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),s.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),At))}))},t.prototype.hasChildren=function(){return s.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return s.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return s.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Xt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+s.stringify(this.snapshot.exportVal())},t}(),Jt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),te=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Xt("value",this,new $t(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Jt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),ee=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return s.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Jt(this,t,e):null},t.prototype.createEvent=function(t,e){s.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Xt(t.type,this,new $t(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||e.callbacks_[a]&&this.callbacks_[s]&&e.callbacks_[a]!==this.callbacks_[s])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),ne=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return s.assert(zt,"Reference.ts has not been loaded"),zt},set:function(t){zt=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===It){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=k)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!=O)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===At){if(null!=e&&!ut(e)||null!=n&&!ut(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(s.assert(t.getIndex()instanceof Zt||t.getIndex()===Yt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return s.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){s.validateArgCount("Query.on",2,4,arguments.length),pt("Query.on",1,e,!1),s.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[e]=n,this.onChildEvent(a,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new te(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new ee(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){s.validateArgCount("Query.off",0,3,arguments.length),pt("Query.off",1,t,!0),s.validateCallback("Query.off",2,e,!0),s.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var o=e||null;r=new te(o,null,n||null)}else t&&(e&&((i={})[t]=e),r=new ee(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;s.validateArgCount("Query.once",1,4,arguments.length),pt("Query.once",1,e,!1),s.validateCallback("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,l=new s.Deferred;l.promise.catch((function(){}));var c=function(t){u&&(u=!1,o.off(e,c),n&&n.bind(a.context)(t),l.resolve(t))};return this.on(e,c,(function(t){o.off(e,c),a.cancel&&a.cancel.bind(a.context)(t),l.reject(t)})),l.promise},t.prototype.limitToFirst=function(e){if(s.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(s.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(s.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');vt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new X(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Zt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){s.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(It);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){s.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(At);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){s.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Yt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),s.validateArgCount("Query.startAt",0,2,arguments.length),lt("Query.startAt",1,e,this.path,!0),dt("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),s.validateArgCount("Query.endAt",0,2,arguments.length),lt("Query.endAt",1,e,this.path,!0),dt("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(s.validateArgCount("Query.equalTo",1,2,arguments.length),lt("Query.equalTo",1,t,this.path,!1),dt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return s.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return s.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=P(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(s.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,s.validateCallback(t,3,r.cancel,!0),r.context=n,s.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(s.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),re=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(At,(function(t,e){n.remember(new X(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();return t=t.popFront(),this.children.has(r)&&this.children.get(r).forget(t)&&this.children.delete(r),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new X(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}(),ie=function(t,e,n){return t&&"object"==typeof t?(s.assert(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?oe(t[".sv"],e,n):"object"==typeof t[".sv"]?ae(t[".sv"],e):void s.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},oe=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:s.assert(!1,"Unexpected server value: "+t)}},ae=function(t,e,n){t.hasOwnProperty("increment")||s.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;if("number"!=typeof r&&s.assert(!1,"Unexpected increment value: "+r),!e.isLeafNode())return r;var i=e.getValue();return"number"!=typeof i?r:i+r},se=function(t,e,n){var r,i=t.getPriority().val(),o=ie(i,e.getPriority(),n);if(t.isLeafNode()){var a=t,s=ie(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new Ot(s,Kt(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Ot(o))),u.forEachChild(At,(function(t,i){var o=se(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r},ue=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),le=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,s.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),ce=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ue.ACK_USER_WRITE,this.source=le.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return s.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new X(e));return new t(X.Empty,n,this.revert)}return s.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),he=function(){return Qt||(Qt=new Rt(N)),Qt},fe=function(){function t(t,e){void 0===e&&(e=he()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return j(e,(function(t,e){n=n.set(new X(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:X.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new X(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),o=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(X.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,X.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,X.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(X.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),pe=function(){function t(t,e){this.source=t,this.path=e,this.type=ue.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty):new t(this.source,this.path.popFront())},t}(),de=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ue.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),ve=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ue.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new X(e));return n.isEmpty()?null:n.value?new de(this.source,X.Empty,n.value):new t(this.source,X.Empty,n)}return s.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),ye=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ge=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new ye(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new ye(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new ye(qt.EMPTY_NODE,!1,!1),new ye(qt.EMPTY_NODE,!1,!1)),t}(),me=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),be=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){s.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()==n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(me.childRemovedChange(e,a)):s.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(me.childAddedChange(e,n)):o.trackChildChange(me.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(At,(function(t,r){e.hasChild(t)||n.trackChildChange(me.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(At,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(me.childChangedChange(e,r,i))}else n.trackChildChange(me.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?qt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),_e=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;s.assert(e==me.CHILD_ADDED||e==me.CHILD_CHANGED||e==me.CHILD_REMOVED,"Only child changes supported for tracking"),s.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e==me.CHILD_ADDED&&i==me.CHILD_REMOVED)this.changeMap.set(n,me.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e==me.CHILD_REMOVED&&i==me.CHILD_ADDED)this.changeMap.delete(n);else if(e==me.CHILD_REMOVED&&i==me.CHILD_CHANGED)this.changeMap.set(n,me.childRemovedChange(n,r.oldSnap));else if(e==me.CHILD_CHANGED&&i==me.CHILD_ADDED)this.changeMap.set(n,me.childAddedChange(n,t.snapshotNode));else{if(e!=me.CHILD_CHANGED||i!=me.CHILD_CHANGED)throw s.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,me.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),we=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Ce=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ye(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Ee=function(t,e){this.viewCache=t,this.changes=e},Se=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){s.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),s.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,a,u=new _e;if(n.type===ue.OVERWRITE){var l=n;l.source.fromUser?o=this.applyUserOverwrite_(e,l.path,l.snap,r,i,u):(s.assert(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.getServerCache().isFiltered()&&!l.path.isEmpty(),o=this.applyServerOverwrite_(e,l.path,l.snap,r,i,a,u))}else if(n.type===ue.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(e,c.path,c.children,r,i,u):(s.assert(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,c.path,c.children,r,i,a,u))}else if(n.type===ue.ACK_USER_WRITE){var h=n;o=h.revert?this.revertUserWrite_(e,h.path,r,i,u):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==ue.LISTEN_COMPLETE)throw s.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,u)}var f=u.getChanges();return t.maybeAddValueEvent_(e,o,f),new Ee(o,f)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(me.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,u=void 0;if(e.isEmpty())if(s.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var l=t.getCompleteServerSnap(),c=n.calcCompleteEventChildren(l instanceof qt?l:qt.EMPTY_NODE);a=this.filter_.updateFullNode(t.getEventCache().getNode(),c,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=e.getFront();if(".priority"==f){s.assert(1==e.getLength(),"Can't have a priority with additional path components");var p=o.getNode();u=t.getServerCache().getNode();var d=n.calcEventCacheAfterServerOverwrite(e,p,u);a=null!=d?this.filter_.updatePriority(p,d):o.getNode()}else{var v=e.popFront(),y=void 0;if(o.isCompleteForChild(f)){u=t.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),u);y=null!=g?o.getNode().getImmediateChild(f).updateChild(v,g):o.getNode().getImmediateChild(f)}else y=n.calcCompleteChild(f,t.getServerCache());a=null!=y?this.filter_.updateChild(o.getNode(),f,y,v,r,i):o.getNode()}}return t.updateEventSnap(a,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),l=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=l.updateFullNode(u.getNode(),n,null);else if(l.filtersNodes()&&!u.isFiltered()){var c=u.getNode().updateChild(e,n);s=l.updateFullNode(u.getNode(),c,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),p=u.getNode().getImmediateChild(h).updateChild(f,n);s=".priority"==h?l.updatePriority(u.getNode(),p):l.updateChild(u.getNode(),h,p,f,we,null)}var d=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),l.filtersNodes()),v=new Ce(r,d,i);return this.generateEventCacheAfterServerEvent_(d,e,r,v,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),l=new Ce(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var c=e.getFront();if(".priority"===c)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(c),p=void 0;if(h.isEmpty())p=n;else{var d=l.getCompleteChild(c);p=null!=d?".priority"===h.getBack()&&d.getChild(h.parent()).isEmpty()?d:d.updateChild(h,n):qt.EMPTY_NODE}if(f.equals(p))a=t;else{var v=this.filter_.updateChild(u.getNode(),c,p,h,l,o);a=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach((function(r,l){var c=n.child(r);t.cacheHasChild_(e,c.getFront())&&(u=s.applyUserOverwrite_(u,c,l,i,o,a))})),r.foreach((function(r,l){var c=n.child(r);t.cacheHasChild_(e,c.getFront())||(u=s.applyUserOverwrite_(u,c,l,i,o,a))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,l=t;u=e.isEmpty()?n:fe.Empty.setTree(e,n);var c=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(c.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);l=s.applyServerOverwrite_(l,new X(e),h,r,i,o,a)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!c.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(h,n);l=s.applyServerOverwrite_(l,new X(e),f,r,i,o,a)}})),l},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=fe.Empty;return s.getNode().forEachChild(It,(function(t,e){u=u.set(new X(t),e)})),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var l=fe.Empty;return n.foreach((function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(l=l.set(t,s.getNode().getChild(r)))})),this.applyServerMerge_(t,e,l,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,we,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var a=new Ce(n,t,r),u=t.getEventCache().getNode(),l=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();s.assert(h instanceof qt,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(h)}l=this.filter_.updateFullNode(u,c=c,i)}else{var f=e.getFront(),p=n.calcCompleteChild(f,t.getServerCache());null==p&&t.getServerCache().isCompleteForChild(f)&&(p=u.getImmediateChild(f)),(l=null!=p?this.filter_.updateChild(u,f,p,e.popFront(),a,i):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,qt.EMPTY_NODE,e.popFront(),a,i):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(l=this.filter_.updateFullNode(l,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(X.Empty),t.updateEventSnap(l,o,this.filter_.filtersNodes())},t}(),Te=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===me.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(me.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,me.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,me.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,me.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,me.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,me.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter((function(t){return t.type===e}));a.sort(this.compareChanges_.bind(this)),a.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw s.assertionError("Should only compare child_ events.");var n=new Et(t.childName,t.snapshotNode),r=new Et(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Ie=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new be(n.getIndex()),i=n.getNodeFilter();this.processor_=new Se(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(qt.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(qt.EMPTY_NODE,a.getNode(),null),l=new ye(s,o.isFullyInitialized(),r.filtersNodes()),c=new ye(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new ge(c,l),this.eventGenerator_=new Te(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){s.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)}))}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ue.MERGE&&null!==t.source.queryId&&(s.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),s.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),s.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(At,(function(t,e){n.push(me.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(me.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),xe=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return s.assert(Gt,"Reference.ts has not been loaded"),Gt},set:function(t){s.assert(!Gt,"__referenceConstructor has already been defined"),Gt=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var u=this.views.get(o);return s.assert(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(t,e,n)}var l=[];try{for(var c=a.__values(this.views.values()),h=c.next();!h.done;h=c.next())l=l.concat((u=h.value).applyOperation(t,e,n))}catch(f){r={error:f}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return l},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),a=this.views.get(o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof qt?(s=n.calcCompleteEventChildren(r),u=!1):(s=qt.EMPTY_NODE,u=!1);var l=new ge(new ye(s,u,!1),new ye(r,i,!1));a=new Ie(t,l),this.views.set(o,a)}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,o,s=e.queryIdentifier(),u=[],l=[],c=this.hasCompleteView();if("default"===s)try{for(var h=a.__values(this.views.entries()),f=h.next();!f.done;f=h.next()){var p,d=a.__read(f.value,2),v=d[0];l=l.concat((p=d[1]).removeEventRegistration(n,r)),p.isEmpty()&&(this.views.delete(v),p.getQuery().getQueryParams().loadsAllData()||u.push(p.getQuery()))}}catch(y){i={error:y}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else(p=this.views.get(s))&&(l=l.concat(p.removeEventRegistration(n,r)),p.isEmpty()&&(this.views.delete(s),p.getQuery().getQueryParams().loadsAllData()||u.push(p.getQuery())));return c&&!this.hasCompleteView()&&u.push(new t.__referenceConstructor(e.repo,e.path)),{removed:u,events:l}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=a.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=a.__values(this.views.values()),o=i.next();!o.done;o=i.next())r=r||o.value.getCompleteServerCache(t)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=a.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),ke=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new fe(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=X.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new fe(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return j(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,fe.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(X.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(At,(function(e,n){t.push(new Et(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Et(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new fe(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(s.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}(X.Empty,this.writeTree_,t)},t.Empty=new t(new fe(null)),t}(),Oe=function(){function t(){this.visibleWrites_=ke.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Ae(t,this)},t.prototype.addOverwrite=function(t,e,n,r){s.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){s.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));s.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&a>=0;){var u=this.allWrites_[a];u.visible&&(a>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(o=!0)),a--}return!!i&&(o?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):j(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(X.Empty)?t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e).apply(n||qt.EMPTY_NODE):null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var s=this.visibleWrites_.childCompoundWrite(e);return s.isEmpty()?n:null!=n||s.hasCompleteWrite(X.Empty)?s.apply(n||qt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=qt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(At,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(At,(function(t,e){var r=i.childCompoundWrite(new X(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){s.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(X.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var l=[],c=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&l.length<r;)0!==c(f,n)&&l.push(f),f=h.getNext();return l},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,X.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=ke.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,u=void 0;if(o.snap)n.contains(a)?(u=X.relativePath(n,a),r=r.addWrite(u,o.snap)):a.contains(n)&&(u=X.relativePath(a,n),r=r.addWrite(X.Empty,o.snap.getChild(u)));else{if(!o.children)throw s.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))u=X.relativePath(n,a),r=r.addWrites(u,o.children);else if(a.contains(n))if((u=X.relativePath(a,n)).isEmpty())r=r.addWrites(X.Empty,o.children);else{var l=s.safeGet(o.children,u.getFront());if(l){var c=l.getChild(u.popFront());r=r.addWrite(X.Empty,c)}}}}}return r},t}(),Ae=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Ne=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=fe.Empty,this.pendingWriteTree_=new Oe,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new de(le.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=fe.fromObject(e);return this.applyOperationToSyncPoints_(new ve(le.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=fe.Empty;return null!=n.snap?r=r.set(X.Empty,!0):j(n.children,(function(t,e){r=r.set(new X(t),e)})),this.applyOperationToSyncPoints_(new ce(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new de(le.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=fe.fromObject(e);return this.applyOperationToSyncPoints_(new ve(le.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new pe(le.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=X.relativePath(a,e),l=new de(le.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=X.relativePath(a,e),l=fe.fromObject(n),c=new ve(le.forServerTaggedQuery(s),u,l);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=X.relativePath(o,e),u=new pe(le.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=X.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var a,u=this.syncPointTree_.get(r);u?(o=o||u.hasCompleteView(),i=i||u.getCompleteServerCache(X.Empty)):(u=new xe,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i?a=!0:(a=!1,i=qt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(X.Empty);n&&(i=i.updateImmediateChild(t,n))})));var l=u.viewExistsForQuery(e);if(!l&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);s.assert(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(c,h),this.tagToQueryMap.set(h,c)}var f=this.pendingWriteTree_.childWrites(r),p=u.addEventRegistration(e,n,f,i,a);if(!l&&!o){var d=u.viewForQuery(e);p=p.concat(this.setupListener_(e,d))}return p},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var l=u.removed;s=u.events;var c=-1!==l.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(c&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var v=p[d],y=v.getQuery(),g=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(y),this.tagForQuery_(y),g.hashFn,g.onComplete)}}!h&&l.length>0&&!r&&(c?this.listenProvider_.stopListening(t.queryForListening_(e),null):l.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}))),this.removeTags_(l)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=X.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),j(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),u=this.syncPointTree_.subtree(r);if(i)s.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=u.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),j(n,(function(t,e){r=r.concat(e)})),r})),c=0;c<l.length;++c){var h=l[c];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||qt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return s.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new X(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);s.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(X.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(X.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(X.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var l=n?n.getImmediateChild(a):null,c=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,l,c))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(X.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(X.Empty));var a=[];return e.children.inorderTraversal((function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),l=t.operationForChild(e);l&&(a=a.concat(i.applyOperationDescendantsHelper_(l,o,s,u)))})),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),De=function(){function t(){this.rootNode_=qt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Pe=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';I(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),Re=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),s.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return s.deepCopy(this.counters_)},t}(),je=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Re),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Me=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=a.__assign({},t);return this.last_&&j(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Le=1e4,Fe=3e4,Ue=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Me(t);var n=Le+(Fe-Le)*Math.random();$(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;j(e,(function(e,i){i>0&&s.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),$(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ve=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new He(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),He=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();b&&C("event: "+e.toString()),Y(n)}}},t.prototype.getPath=function(){return this.path_},t}(),qe=function(){function t(t){this.allowedEvents_=t,this.listeners_={},s.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=a.__spread(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){s.assert(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),We=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return a.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return s.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(qe),Be=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||s.isMobileCordova()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return a.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return s.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(qe),Ke=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&Y((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),ze="pLPCommand",Qe="pRTLPCB",Ge=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(t),this.stats_=je.getCollection(e),this.urlFn=function(t){return e.connectionURL(tt,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Ke(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(s.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Ye((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=a.__read(t,5),i=r[0],o=r[1],s=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==i)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=a.__read(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(s.isNodeSdk()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=s.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=s.base64Encode(e),r=R(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!s.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=s.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Ye=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,s.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=y(),window[ze+this.uniqueCallbackIdentifier]=e,window[Qe+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){C("frame writing exception"),u.stack&&C(u.stack),C(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||C("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;s.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){C("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),Ze="",$e=null;"undefined"!=typeof MozWebSocket?$e=MozWebSocket:"undefined"!=typeof WebSocket&&($e=WebSocket);var Xe=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=je.getCollection(n),this.connURL=t.connectionURL_(n,r,i)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!s.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if(s.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+Ze+"/"+process.platform+"/"+(s.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},i=process.env,o=0==this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;o&&(r.proxy={origin:o}),this.mySock=new $e(this.connURL,[],r)}else this.mySock=new $e(this.connURL)}catch(u){this.log_("Error instantiating WebSocket.");var a=u.message||u.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==$e&&!t.forceDisallow_},t.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=s.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(s.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=s.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=R(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Je=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Ge,Xe]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Xe&&Xe.isAvailable(),o=i&&!Xe.previouslyFailed();if(e.webSocketOnly&&(i||I("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Xe];else{var s=this.transports_=[];try{for(var u=a.__values(t.ALL_TRANSPORTS),l=u.next();!l.done;l=u.next()){var c=l.value;c&&c.isAvailable()&&s.push(c)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),tn=function(){function t(t,e,n,r,i,o,a){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new Je(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=$((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=D("t",t),n=D("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=D("t",t),n=D("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=D("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?S("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&I("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),$((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),en=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),nn=1e3,rn=3e5,on=function(t){function e(n,r,i,o,a,u){var l=t.call(this)||this;if(l.repoInfo_=n,l.onDataUpdate_=r,l.onConnectStatus_=i,l.onServerInfoUpdate_=o,l.authTokenProvider_=a,l.authOverride_=u,l.id=e.nextPersistentConnectionId_++,l.log_=E("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=nn,l.maxReconnectDelay_=rn,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,u&&!s.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),We.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&Be.getInstance().on("online",l.onOnline_,l),l}return a.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(s.stringify(i)),s.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),s.assert(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&s.contains(t,"w")){var n=s.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();I("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||s.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=s.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+s.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):S("Unrecognized action received from server: "+s.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;s.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=nn,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=nn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=nn),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,a=this.lastSessionId,u=!1,l=null,c=function(){l?l.close():(u=!0,r())};this.realtime_={close:c,sendRequest:function(t){s.assert(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(e){u?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,l=new tn(i,o.repoInfo_,t,n,r,(function(t){I(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),a))})).then(null,(function(t){o.log_("Failed to get token: "+t),u||(s.CONSTANTS.NODE_ADMIN&&I(t),c())}))}},e.prototype.interrupt=function(t){C("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){C("Resuming connection for reason: "+t),delete this.interruptReasons_[t],s.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=nn,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return P(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new X(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){C("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=a.__values(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,a.__values(s.values())),l=u.next();!l.done;l=u.next())this.sendListen_(l.value)}catch(f){n={error:f}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";s.CONSTANTS.NODE_ADMIN?e="admin_node":s.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+Ze.replace(/\./g,"-")]=1,s.isMobileCordova()?t["framework.cordova"]=1:s.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Be.getInstance().currentlyOnline();return s.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(en),an=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=E("p:rest:"),i.listens_={},i}return a.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(s.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var u=e.getListenId_(t,r),l={};this.listens_[u]=l;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",c,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,r),s.safeGet(o.listens_,u)===l&&i(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(e.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+s.querystring(e);r.log_("Sending REST request for "+a);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=s.jsonEval(u.responseText)}catch(e){I("Failed to parse JSON response for "+a+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&I("Got unsuccessful REST response for "+a+" Status: "+u.status),n(u.status);n=null}},u.open("GET",a,!0),u.send()}))},e}(en),sn=function(){function t(t,e,n,r){var i=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ve,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new re,this.persistentConnection_=null;var o=new Pe(n,r);if(this.stats_=je.getCollection(t),e||Z())this.server_=new an(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var a=n.options.databaseAuthVariableOverride;if(null!=a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{s.stringify(a)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}this.persistentConnection_=new on(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,a),this.server_=this.persistentConnection_}o.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=je.getOrCreateReporter(t,(function(){return new Ue(i.stats_,i.server_)})),this.transactions_init_(),this.infoData_=new De,this.infoSyncTree_=new Ne({startListening:function(t,e,n,r){var o=[],a=i.infoData_.getNode(t.path);return a.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ne({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new X(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new X(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var a=s.map(e,(function(t){return Kt(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var u=Kt(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var l=s.map(e,(function(t){return Kt(t)}));o=this.serverSyncTree_.applyServerMerge(i,l)}else{var c=Kt(e);o=this.serverSyncTree_.applyServerOverwrite(i,c)}var h=i;o.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;j(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new X("/.info/"+t),r=Kt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=Kt(e,n),s=this.serverSyncTree_.calcCompleteEventCache(t),u=se(a,s,o),l=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(t,u,l,!0);this.eventQueue_.queueEvents(c),this.server_.put(t.toString(),a.val(!0),(function(e,n){var o="ok"===e;o||I("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(l,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(j(e,(function(e,n){i=!1;var s=Kt(n);a[e]=se(s,r.serverSyncTree_.calcCompleteEventCache(t),o)})),i)C("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||I("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,e,i)})),j(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=function(t,e,n){var r=new re;return t.forEachTree(new X(""),(function(t,i){var o=e.calcCompleteEventCache(t);s.assert(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),r.remember(t,se(i,o,n))})),r}(this.onDisconnect_,this.serverSyncTree_,e),r=[];n.forEachTree(X.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new re,this.eventQueue_.raiseEventsForChangedPath(X.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Kt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Kt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(s.isEmpty(e))return C("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&j(e,(function(e,n){var i=Kt(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Me(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);j(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),C.apply(void 0,a.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&Y((function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new gn(this))},enumerable:!0,configurable:!0}),t}(),un=function(){function t(e){this.indexedFilter_=new be(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Et(e,n))||(n=qt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=qt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(qt.EMPTY_NODE);var i=this;return e.forEachChild(At,(function(t,e){i.matches(new Et(t,e))||(r=r.updateImmediateChild(t,qt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),ln=function(){function t(t){this.rangedFilter_=new un(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Et(e,n))||(n=qt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=qt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=qt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(qt.EMPTY_NODE);var s=void 0,u=void 0,l=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();l=function(t,e){return c(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&l(s,a)<=0&&(h=!0),h&&o<this.limit_&&l(a,u)<=0?o++:r=r.updateImmediateChild(a.name,qt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var u=t;s.assert(u.numChildren()==this.limit_,"");var l=new Et(e,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),p=r.getChildAfterChild(this.index_,c,this.reverse_);null!=p&&(p.name==e||u.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var d=null==p?1:o(p,l);if(h&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(me.childChangedChange(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(me.childRemovedChange(e,f));var v=u.updateImmediateChild(e,qt.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(me.childAddedChange(p.name,p.node)),v.updateImmediateChild(p.name,p.node)):v}return n.isEmpty()?t:h&&o(c,l)>=0?(null!=i&&(i.trackChildChange(me.childRemovedChange(c.name,c.node)),i.trackChildChange(me.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(c.name,qt.EMPTY_NODE)):t},t}(),cn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=At}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:k},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return s.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==At&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==At},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new be(this.getIndex()):this.hasLimit()?new ln(this):new un(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===At?e=n.PRIORITY_INDEX:this.index_===Yt?e=n.VALUE_INDEX:this.index_===It?e=n.KEY_INDEX:(s.assert(this.index_ instanceof Zt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=s.stringify(e),this.startSet_&&(r[n.START_AT]=s.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+s.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=s.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+s.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),hn=function(t){function e(e,n){if(!(e instanceof sn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,cn.DEFAULT,!1)||this}return a.__extends(e,t),e.prototype.getKey=function(){return s.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return s.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof X||(null===this.path.getFront()?yt("Reference.child",1,t,!1):vt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){s.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){s.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){s.validateArgCount("Reference.set",1,2,arguments.length),gt("Reference.set",this.path),lt("Reference.set",1,t,this.path,!1),s.validateCallback("Reference.set",2,e,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(s.validateArgCount("Reference.update",1,2,arguments.length),gt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,I("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ht("Reference.update",1,t,this.path,!1),s.validateCallback("Reference.update",2,e,!0);var i=new s.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(s.validateArgCount("Reference.setWithPriority",2,3,arguments.length),gt("Reference.setWithPriority",this.path),lt("Reference.setWithPriority",1,t,this.path,!1),ft("Reference.setWithPriority",2,e,!1),s.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new s.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return s.validateArgCount("Reference.remove",0,1,arguments.length),gt("Reference.remove",this.path),s.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(s.validateArgCount("Reference.transaction",1,3,arguments.length),gt("Reference.transaction",this.path),s.validateCallback("Reference.transaction",1,t,!1),s.validateCallback("Reference.transaction",2,e,!0),bt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new s.Deferred;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new wt(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){s.validateArgCount("Reference.setPriority",1,2,arguments.length),gt("Reference.setPriority",this.path),ft("Reference.setPriority",1,t,!1),s.validateCallback("Reference.setPriority",2,e,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){s.validateArgCount("Reference.push",0,2,arguments.length),gt("Reference.push",this.path),lt("Reference.push",1,t,this.path,!0),s.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=Ct(r),o=this.child(i),a=this.child(i);return n=null!=t?o.set(t,e).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return gt("Reference.onDisconnect",this.path),new _t(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(ne);ne.__referenceConstructor=hn,xe.__referenceConstructor=hn;var fn=function(){this.children={},this.childCount=0,this.value=null},pn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new fn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,r=e instanceof X?e:new X(e),i=this;null!==(n=r.getFront());)i=new t(n,i,s.safeGet(i.node_.children,n)||new fn),r=r.popFront();return i},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){s.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;j(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new X(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=s.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),dn=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});sn.MAX_TRANSACTION_RETRIES_=25,sn.prototype.transactions_init_=function(){this.transactionQueueTree_=new pn},sn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new hn(this,t);o.on("value",i);var a={path:t,update:e,onComplete:n,status:null,order:y(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);a.currentInputSnapshot=u;var l=a.update(u.val());if(void 0===l){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var c=new $t(a.currentInputSnapshot,new hn(this,a.path),At);a.onComplete(null,!1,c)}}else{ct("transaction failed: Data returned ",l,a.path),a.status=dn.RUN;var h=this.transactionQueueTree_.subTree(t),f=h.getValue()||[];f.push(a),h.setValue(f);var p=void 0;"object"==typeof l&&null!==l&&s.contains(l,".priority")?(p=s.safeGet(l,".priority"),s.assert(ut(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(this.serverSyncTree_.calcCompleteEventCache(t)||qt.EMPTY_NODE).getPriority().val(),p=p;var d=this.generateServerValues(),v=Kt(l,p),g=se(v,u,d);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=g,a.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(t,g,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,m),this.sendReadyTransactions_()}},sn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||qt.EMPTY_NODE},sn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);s.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===dn.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},sn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),o=i,a=i.hash(),u=0;u<e.length;u++){var l=e[u];s.assert(l.status===dn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=dn.SENT,l.retryCount++;var c=X.relativePath(t,l.path);o=o.updateChild(c,l.currentOutputSnapshotRaw)}var h=o.val(!0),f=t;this.server_.put(f.toString(),h,(function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=dn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new hn(n,e[a].path),l=new $t(s,u,At);o.push(e[a].onComplete.bind(null,null,!0,l))}e[a].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),a=0;a<o.length;a++)Y(o[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status=e[a].status===dn.SENT_NEEDS_ABORT?dn.NEEDS_ABORT:dn.RUN;else for(I("transaction at "+f.toString()+" failed: "+r),a=0;a<e.length;a++)e[a].status=dn.NEEDS_ABORT,e[a].abortReason=r;n.rerunTransactions_(t)}}),a)},sn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},sn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===dn.RUN})).map((function(t){return t.currentWriteId})),o=0;o<t.length;o++){var a=t[o],u=X.relativePath(e,a.path),l=!1,c=void 0;if(s.assert(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===dn.NEEDS_ABORT)l=!0,c=a.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===dn.RUN)if(a.retryCount>=sn.MAX_TRANSACTION_RETRIES_)l=!0,c="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var h=this.getLatestState_(a.path,i);a.currentInputSnapshot=h;var f=t[o].update(h.val());if(void 0!==f){ct("transaction failed: Data returned ",f,a.path);var p=Kt(f);"object"==typeof f&&null!=f&&s.contains(f,".priority")||(p=p.updatePriority(h.getPriority()));var d=a.currentWriteId,v=this.generateServerValues(),y=se(p,h,v);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=y,a.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(d),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(a.path,y,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(d,!0))}else l=!0,c="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],l&&(t[o].status=dn.COMPLETED,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete))if("nodata"===c){var g=new hn(this,t[o].path),m=new $t(t[o].currentInputSnapshot,g,At);n.push(t[o].onComplete.bind(null,null,!1,m))}else n.push(t[o].onComplete.bind(null,new Error(c),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)Y(n[o]);this.sendReadyTransactions_()}},sn.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},sn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},sn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},sn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==dn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},sn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},sn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)e[o].status===dn.SENT_NEEDS_ABORT||(e[o].status===dn.SENT?(s.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=dn.SENT_NEEDS_ABORT,e[o].abortReason="set"):(s.assert(e[o].status===dn.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),o=0;o<n.length;o++)Y(n[o])}};var vn,yn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return vn||(vn=new t),vn},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e,n){var r=n||t.options.databaseURL;void 0===r&&T("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var i=nt(r),o=i.repoInfo,a=void 0;return"undefined"!=typeof process&&(a=process.env.FIREBASE_DATABASE_EMULATOR_HOST),a&&(o=(i=nt(r="http://"+a+"?ns="+o.namespace)).repoInfo),mt("Invalid Firebase Database URL",1,i),i.path.isEmpty()||T("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,t,e).database},t.prototype.deleteRepo=function(t){var e=s.safeGet(this.repos_,t.app.name);e&&s.safeGet(e,t.repoInfo_.toURLString())===t||T("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=s.safeGet(this.repos_,e.name);r||(this.repos_[e.name]=r={});var i=s.safeGet(r,t.toURLString());return i&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new sn(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),gn=function(){function t(t){this.repo_=t,t instanceof sn||T("Don't call new Database() directly - please use firebase.database()."),this.root_=new hn(t,X.Empty),this.INTERNAL=new mn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),s.validateArgCount("database.ref",0,1,arguments.length),t instanceof hn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),s.validateArgCount(e,1,1,arguments.length);var n=nt(t);mt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&T(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&T("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){s.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){s.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},_increment:function(t){return{".sv":{increment:t}}}},t}(),mn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return this.database.checkDeleted_("delete"),yn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),bn=Object.freeze({__proto__:null,forceLongPolling:function(){Xe.forceDisallow(),Ge.forceAllow()},forceWebSockets:function(){Ge.forceDisallow()},isWebSocketsAvailable:function(){return Xe.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),_n=on;on.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},on.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var wn=Object.freeze({__proto__:null,DataConnection:_n,RealTimeConnection:tn,hijackHash:function(t){var e=on.prototype.put;return on.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){on.prototype.put=e}},ConnectionTarget:et,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){yn.getInstance().forceRestClient(t)}}),Cn="@firebase/database",En="0.5.16",Sn=gn.ServerValue;function Tn(e){!function(t){Ze=t}(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new l.Component("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return yn.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:hn,Query:ne,Database:gn,DataSnapshot:$t,enableLogging:w,INTERNAL:bn,ServerValue:Sn,TEST_ACCESS:wn}).setMultipleInstances(!0));e.registerVersion(Cn,En),s.isNodeSdk()&&(t.exports=n)}Tn(o),e.DataSnapshot=$t,e.Database=gn,e.OnDisconnect=_t,e.Query=ne,e.Reference=hn,e.ServerValue=Sn,e.enableLogging=w,e.registerDatabase=Tn},O0a9:function(t,e,n){"use strict";n.r(e);var r=n("PVcy"),i=n("pZk1"),o=n("I1TF"),a=n("sDu7"),s=n("WEwH"),u=n("b/LO"),l=n("hbGf"),c=n("z5t0");n.d(e,"AngularFireDatabase",(function(){return r.a})),n.d(e,"RealtimeDatabaseURL",(function(){return r.b})),n.d(e,"listChanges",(function(){return i.a})),n.d(e,"createListReference",(function(){return o.a})),n.d(e,"snapshotChanges",(function(){return a.a})),n.d(e,"stateChanges",(function(){return s.a})),n.d(e,"auditTrail",(function(){return u.a})),n.d(e,"fromRef",(function(){return l.a})),n.d(e,"AngularFireDatabaseModule",(function(){return c.a}))},OAkW:function(t,e,n){"use strict";e.subscribeToArray=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},PVcy:function(t,e,n){"use strict";n("mrSG");var r=n("kDjp"),i=n("I1TF"),o=n("lJxs"),a=n("hbGf");function s(t){return function(){return Object(a.a)(t,"value")}}var u=n("1XSQ"),l=n("yA/v");n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u.b}));var c=function(){function t(t,e,n,r,i){this.scheduler=new u.a(i,r),this.database=i.runOutsideAngular((function(){return Object(l.e)(t,i,e).database(n||void 0)}))}return t.prototype.list=function(t,e){var n=Object(r.b)(this.database,t),o=n;return e&&(o=e(n)),Object(i.a)(o,this)},t.prototype.object=function(t){var e,n,i=Object(r.b)(this.database,t);return n=this,{query:e=i,snapshotChanges:function(){var t=s(e)();return n.scheduler.keepUnstableUntilFirst(n.scheduler.runOutsideAngular(t))},update:function(t){return e.ref.update(t)},set:function(t){return e.ref.set(t)},remove:function(){return e.ref.remove()},valueChanges:function(){var t=s(e)();return n.scheduler.keepUnstableUntilFirst(n.scheduler.runOutsideAngular(t)).pipe(Object(o.a)((function(t){return t.payload.exists()?t.payload.val():null})))}}},t.prototype.createPushId=function(){return this.database.ref().push().key},t}()},Q1FS:function(t,e,n){"use strict";var r=n("yx2s"),i=n("Xwq/"),o=n("zfKp"),a=n("9AGB"),s=n("n3uD");function u(t){if(t||(t=s.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}e.Observable=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=i.toSubscriber(t,e,n);if(o.add(r?r.call(o,this.source):this.source||s.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),s.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){s.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),r.canReportError(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=u(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[o.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:a.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=u(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}()},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=r.__read(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(u);s.resolve(l)}catch(c){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=s,e.Provider=a},SVse:function(t,e,n){"use strict";n.d(e,"z",(function(){return z})),n.d(e,"s",(function(){return R})),n.d(e,"l",(function(){return G})),n.d(e,"m",(function(){return Q})),n.d(e,"e",(function(){return p})),n.d(e,"q",(function(){return d})),n.d(e,"u",(function(){return g})),n.d(e,"t",(function(){return m})),n.d(e,"v",(function(){return b})),n.d(e,"A",(function(){return Y})),n.d(e,"c",(function(){return st})),n.d(e,"j",(function(){return $})),n.d(e,"k",(function(){return J})),n.d(e,"n",(function(){return nt})),n.d(e,"d",(function(){return ut})),n.d(e,"b",(function(){return at})),n.d(e,"y",(function(){return lt})),n.d(e,"w",(function(){return ht})),n.d(e,"x",(function(){return ft})),n.d(e,"r",(function(){return pt})),n.d(e,"p",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"i",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"f",(function(){return c})),n.d(e,"o",(function(){return h})),n.d(e,"h",(function(){return u}));var r=n("8Y7J"),i=function(){},o=new r.p("Location Initialized"),a=function(){},s=new r.p("appBaseHref"),u=function(){function t(e,n){var i=this;this._subject=new r.m,this._urlChangeListeners=[],this._platformStrategy=e;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=t.stripTrailingSlash(l(o)),this._platformStrategy.onPopState((function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})}))}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.getState=function(){return this._platformLocation.getState()},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,l(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(e,n,r){void 0===n&&(n=""),void 0===r&&(r=null),this._platformStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),r)},t.prototype.replaceState=function(e,n,r){void 0===n&&(n=""),void 0===r&&(r=null),this._platformStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),r)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.onUrlChange=function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))},t.prototype._notifyUrlChangeListeners=function(t,e){void 0===t&&(t=""),this._urlChangeListeners.forEach((function(n){return n(t,e)}))},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function l(t){return t.replace(/\/index.html$/,"")}var c=function(t){function e(e,n){var r=this;return(r=t.call(this)||this)._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return __extends(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=u.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(a),h=function(t){function e(e,n){var r=this;if((r=t.call(this)||this)._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return __extends(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return u.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+u.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(a),f=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),p=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),d=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),v=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),y=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function g(t,e,n){var i=Object(r.rb)(t),o=I([i[r.bb.DayPeriodsFormat],i[r.bb.DayPeriodsStandalone]],e);return I(o,n)}function m(t,e,n){var i=Object(r.rb)(t),o=I([i[r.bb.DaysFormat],i[r.bb.DaysStandalone]],e);return I(o,n)}function b(t,e,n){var i=Object(r.rb)(t),o=I([i[r.bb.MonthsFormat],i[r.bb.MonthsStandalone]],e);return I(o,n)}function _(t,e){return I(Object(r.rb)(t)[r.bb.DateFormat],e)}function w(t,e){return I(Object(r.rb)(t)[r.bb.TimeFormat],e)}function C(t,e){return I(Object(r.rb)(t)[r.bb.DateTimeFormat],e)}function E(t,e){var n=Object(r.rb)(t),i=n[r.bb.NumberSymbols][e];if(void 0===i){if(e===y.CurrencyDecimal)return n[r.bb.NumberSymbols][y.Decimal];if(e===y.CurrencyGroup)return n[r.bb.NumberSymbols][y.Group]}return i}var S=r.sb;function T(t){if(!t[r.bb.ExtraData])throw new Error('Missing extra locale data for the locale "'+t[r.bb.LocaleId]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function I(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function x(t){var e=__read(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}var k=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,O={},A=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,N=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),D=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),P=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function R(t,e,n,i){var o=function(t){if(K(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,n=parseFloat(t);if(!isNaN(t-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var r=__read(t.split("-").map((function(t){return+t})),3),i=r[0],o=r[1],a=r[2];return new Date(i,o-1,a)}if(e=t.match(k))return function(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var a=Number(t[4]||0)-n,s=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,a,s,u,l),e}(e)}var s=new Date(t);if(!K(s))throw new Error('Unable to convert "'+t+'" into a date');return s}(t);e=function t(e,n){var i=function(t){return Object(r.rb)(t)[r.bb.LocaleId]}(e);if(O[i]=O[i]||{},O[i][n])return O[i][n];var o="";switch(n){case"shortDate":o=_(e,v.Short);break;case"mediumDate":o=_(e,v.Medium);break;case"longDate":o=_(e,v.Long);break;case"fullDate":o=_(e,v.Full);break;case"shortTime":o=w(e,v.Short);break;case"mediumTime":o=w(e,v.Medium);break;case"longTime":o=w(e,v.Long);break;case"fullTime":o=w(e,v.Full);break;case"short":var a=t(e,"shortTime"),s=t(e,"shortDate");o=j(C(e,v.Short),[a,s]);break;case"medium":var u=t(e,"mediumTime"),l=t(e,"mediumDate");o=j(C(e,v.Medium),[u,l]);break;case"long":var c=t(e,"longTime"),h=t(e,"longDate");o=j(C(e,v.Long),[c,h]);break;case"full":var f=t(e,"fullTime"),p=t(e,"fullDate");o=j(C(e,v.Full),[f,p])}return o&&(O[i][n]=o),o}(n,e)||e;for(var a,s=[];e;){if(!(a=A.exec(e))){s.push(e);break}var u=(s=s.concat(a.slice(1))).pop();if(!u)break;e=u}var l=o.getTimezoneOffset();i&&(l=B(i,l),o=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(B(e,r)-r))}(o,i));var c="";return s.forEach((function(t){var e=function(t){if(W[t])return W[t];var e;switch(t){case"G":case"GG":case"GGG":e=F(P.Eras,d.Abbreviated);break;case"GGGG":e=F(P.Eras,d.Wide);break;case"GGGGG":e=F(P.Eras,d.Narrow);break;case"y":e=L(D.FullYear,1,0,!1,!0);break;case"yy":e=L(D.FullYear,2,0,!0,!0);break;case"yyy":e=L(D.FullYear,3,0,!1,!0);break;case"yyyy":e=L(D.FullYear,4,0,!1,!0);break;case"M":case"L":e=L(D.Month,1,1);break;case"MM":case"LL":e=L(D.Month,2,1);break;case"MMM":e=F(P.Months,d.Abbreviated);break;case"MMMM":e=F(P.Months,d.Wide);break;case"MMMMM":e=F(P.Months,d.Narrow);break;case"LLL":e=F(P.Months,d.Abbreviated,p.Standalone);break;case"LLLL":e=F(P.Months,d.Wide,p.Standalone);break;case"LLLLL":e=F(P.Months,d.Narrow,p.Standalone);break;case"w":e=q(1);break;case"ww":e=q(2);break;case"W":e=q(1,!0);break;case"d":e=L(D.Date,1);break;case"dd":e=L(D.Date,2);break;case"E":case"EE":case"EEE":e=F(P.Days,d.Abbreviated);break;case"EEEE":e=F(P.Days,d.Wide);break;case"EEEEE":e=F(P.Days,d.Narrow);break;case"EEEEEE":e=F(P.Days,d.Short);break;case"a":case"aa":case"aaa":e=F(P.DayPeriods,d.Abbreviated);break;case"aaaa":e=F(P.DayPeriods,d.Wide);break;case"aaaaa":e=F(P.DayPeriods,d.Narrow);break;case"b":case"bb":case"bbb":e=F(P.DayPeriods,d.Abbreviated,p.Standalone,!0);break;case"bbbb":e=F(P.DayPeriods,d.Wide,p.Standalone,!0);break;case"bbbbb":e=F(P.DayPeriods,d.Narrow,p.Standalone,!0);break;case"B":case"BB":case"BBB":e=F(P.DayPeriods,d.Abbreviated,p.Format,!0);break;case"BBBB":e=F(P.DayPeriods,d.Wide,p.Format,!0);break;case"BBBBB":e=F(P.DayPeriods,d.Narrow,p.Format,!0);break;case"h":e=L(D.Hours,1,-12);break;case"hh":e=L(D.Hours,2,-12);break;case"H":e=L(D.Hours,1);break;case"HH":e=L(D.Hours,2);break;case"m":e=L(D.Minutes,1);break;case"mm":e=L(D.Minutes,2);break;case"s":e=L(D.Seconds,1);break;case"ss":e=L(D.Seconds,2);break;case"S":e=L(D.FractionalSeconds,1);break;case"SS":e=L(D.FractionalSeconds,2);break;case"SSS":e=L(D.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=U(N.Short);break;case"ZZZZZ":e=U(N.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=U(N.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=U(N.Long);break;default:return null}return W[t]=e,e}(t);c+=e?e(o,n,l):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),c}function j(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function M(t,e,n,r,i){void 0===n&&(n="-");var o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var a=String(t);a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function L(t,e,n,r,i){return void 0===n&&(n=0),void 0===r&&(r=!1),void 0===i&&(i=!1),function(o,a){var s,u=function(t,e){switch(t){case D.FullYear:return e.getFullYear();case D.Month:return e.getMonth();case D.Date:return e.getDate();case D.Hours:return e.getHours();case D.Minutes:return e.getMinutes();case D.Seconds:return e.getSeconds();case D.FractionalSeconds:return e.getMilliseconds();case D.Day:return e.getDay();default:throw new Error('Unknown DateType value "'+t+'".')}}(t,o);if((n>0||u>-n)&&(u+=n),t===D.Hours)0===u&&-12===n&&(u=12);else if(t===D.FractionalSeconds)return s=e,M(u,3).substr(0,s);var l=E(a,y.MinusSign);return M(u,e,l,r,i)}}function F(t,e,n,i){return void 0===n&&(n=p.Format),void 0===i&&(i=!1),function(o,a){return function(t,e,n,i,o,a){switch(n){case P.Months:return b(e,o,i)[t.getMonth()];case P.Days:return m(e,o,i)[t.getDay()];case P.DayPeriods:var s=t.getHours(),u=t.getMinutes();if(a){var l,c=function(t){var e=Object(r.rb)(t);return T(e),(e[r.bb.ExtraData][2]||[]).map((function(t){return"string"==typeof t?x(t):[x(t[0]),x(t[1])]}))}(e),h=function(t,e,n){var i=Object(r.rb)(t);T(i);var o=I([i[r.bb.ExtraData][0],i[r.bb.ExtraData][1]],e)||[];return I(o,n)||[]}(e,o,i);if(c.forEach((function(t,e){if(Array.isArray(t)){var n=t[0],r=n.hours,i=n.minutes,o=t[1],a=o.hours,c=o.minutes;s>=r&&u>=i&&(s<a||s===a&&u<c)&&(l=h[e])}else{var f=t.hours,p=t.minutes;f===s&&p===u&&(l=h[e])}})),l)return l}return g(e,o,i)[s<12?0:1];case P.Eras:return function(t,e){return I(Object(r.rb)(t)[r.bb.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(o,a,t,e,n,i)}}function U(t){return function(e,n,r){var i=-1*r,o=E(n,y.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case N.Short:return(i>=0?"+":"")+M(a,2,o)+M(Math.abs(i%60),2,o);case N.ShortGMT:return"GMT"+(i>=0?"+":"")+M(a,1,o);case N.Long:return"GMT"+(i>=0?"+":"")+M(a,2,o)+":"+M(Math.abs(i%60),2,o);case N.Extended:return 0===r?"Z":(i>=0?"+":"")+M(a,2,o)+":"+M(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'+t+'"')}}}var V=0,H=4;function q(t,e){return void 0===e&&(e=!1),function(n,r){var i,o,a,s;if(e){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,l=n.getDate();i=1+Math.floor((l+u)/7)}else{var c=(o=n.getFullYear(),a=new Date(o,V,1).getDay(),new Date(o,0,1+(a<=H?H:H+7)-a)),h=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(H-s.getDay()))).getTime()-c.getTime();i=1+Math.round(h/6048e5)}return M(i,t,E(r,y.MinusSign))}}var W={};function B(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function K(t){return t instanceof Date&&!isNaN(t.valueOf())}var z=new r.p("UseV4Plurals"),Q=function(){},G=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).locale=e,r.deprecatedPluralFn=n,r}return __extends(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):S(e||this.locale)(t)){case f.Zero:return"zero";case f.One:return"one";case f.Two:return"two";case f.Few:return"few";case f.Many:return"many";default:return"other"}},e}(Q);function Y(t,e){var n,r;e=encodeURIComponent(e);try{for(var i=__values(t.split(";")),o=i.next();!o.done;o=i.next()){var a=o.value,s=a.indexOf("="),u=__read(-1==s?[a,""]:[a.slice(0,s),a.slice(s+1)],2),l=u[0],c=u[1];if(l.trim()===e)return decodeURIComponent(c)}}catch(h){n={error:h}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return null}var Z=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),$=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(t.prototype,"ngForOf",{set:function(t){this._ngForOf=t,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new Z(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new X(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){o=e._viewContainer.get(r);e._viewContainer.move(o,i);a=new X(t,o);n.push(a)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t.ngTemplateContextGuard=function(t,e){return!0},t}(),X=function(t,e){this.record=t,this.view=e},J=function(){function t(t,e){this._viewContainer=t,this._context=new tt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){et("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){et("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}(),tt=function(){this.$implicit=null,this.ngIf=null};function et(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+Object(r.Hb)(e)+"'.")}var nt=function(){function t(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return t.prototype.ngOnChanges=function(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)},t.prototype._shouldRecreateView=function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)},t.prototype._hasContextShapeChanged=function(t){var e,n,r=Object.keys(t.previousValue||{}),i=Object.keys(t.currentValue||{});if(r.length===i.length){try{for(var o=__values(i),a=o.next();!a.done;a=o.next()){var s=a.value;if(-1===r.indexOf(s))return!0}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return!1}return!0},t.prototype._updateExistingContext=function(t){var e,n;try{for(var r=__values(Object.keys(t)),i=r.next();!i.done;i=r.next()){var o=i.value;this._viewRef.context[o]=this.ngTemplateOutletContext[o]}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t}(),rt=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),it=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,(function(t){throw t}))},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),ot=new rt,at=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Object(r.yb)(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.P.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,(function(n){return e._updateLatestValue(t,n)}))},t.prototype._selectStrategy=function(e){if(Object(r.xb)(e))return it;if(Object(r.wb)(e))return ot;throw n=t,Error("InvalidPipeArgument: '"+e+"' for pipe '"+Object(r.Hb)(n)+"'");var n},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}(),st=function(){},ut=new r.p("DocumentToken"),lt="browser",ct="server";function ht(t){return t===lt}function ft(t){return t===ct}var pt=function(){var t=function(){};return t.ngInjectableDef=Object(r.Ob)({token:t,providedIn:"root",factory:function(){return new dt(Object(r.Pb)(ut),window,Object(r.Pb)(r.l))}}),t}(),dt=function(){function t(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=function(){return[0,0]}}return t.prototype.setOffset=function(t){this.offset=Array.isArray(t)?function(){return t}:t},t.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},t.prototype.scrollToPosition=function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])},t.prototype.scrollToAnchor=function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='"+t+"']");if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}},t.prototype.setHistoryScrollRestoration=function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}},t.prototype.scrollToElement=function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])},t.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}},t}()},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("HDdC"),i=n("ngJS"),o=n("a7t3"),a=n("pLzU"),s=n("CRDf"),u=n("I55L"),l=n("c2HN"),c=n("XoHu"),h=n("Lhse"),f=n("kJWO"),p=function(t){if(t instanceof r.a)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[f.a])return Object(s.a)(t);if(Object(u.a)(t))return Object(i.a)(t);if(Object(l.a)(t))return Object(o.a)(t);if(t&&"function"==typeof t[h.a])return Object(a.a)(t);var e=Object(c.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VKeD:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}e.getSymbolIterator=r,e.iterator=r(),e.$$iterator=e.iterator},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,s=null,u=t[t.length-1];return Object(i.a)(u)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===s&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(n)(Object(a.a)(t,s))}},Vi6O:function(t,e,n){var r=n("mrSG").__extends;e.InnerSubscriber=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("FWf1").Subscriber)},WEwH:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("hbGf"),i=n("GIw4"),o=n("VRyK");function a(t,e){var n=(e=Object(i.a)(e)).map((function(e){return Object(r.a)(t,e)}));return Object(o.a).apply(void 0,__spread(n))}},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.6.0","app"),t.exports=i},XNiG:function(t,e,n){"use strict";var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).subject=e,r.subscriber=n,r.closed=!1,r}return __extends(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(o.a),u=n("2QA8");n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return h}));var l,c=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).destination=e,n}return __extends(e,t),e}(i.a),h=((l=function(t){function e(){var e=this;return(e=t.call(this)||this).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return __extends(e,t),e.prototype[u.a]=function(){return new c(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s(this,t))},e.prototype.asObservable=function(){var t=new r.a;return t.source=this,t},e}(r.a)).create=function(t,e){return new f(t,e)},l),f=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).destination=e,r.source=n,r}return __extends(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):o.a.EMPTY},e}(h)},XUOw:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t){var e=new r.a((function(e){e.next(t),e.complete()}));return e._isScalar=!0,e.value=t,e}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},"Xwq/":function(t,e,n){"use strict";var r=n("FWf1"),i=n("p//D"),o=n("GiSu");e.toSubscriber=function(t,e,n){if(t){if(t instanceof r.Subscriber)return t;if(t[i.rxSubscriber])return t[i.rxSubscriber]()}return t||e||n?new r.Subscriber(t,e,n):new r.Subscriber(o.empty)}},Y4kR:function(t,e,n){var r=n("mrSG").__extends;e.OuterSubscriber=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("FWf1").Subscriber)},Z5tI:function(t,e,n){"use strict";var r=n("MkmW");e.subscribeToPromise=function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,r.hostReportError),e}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("51Dv"),i=n("SeVD");function o(t,e,n,o,a){if(void 0===a&&(a=new r.a(t,n,o)),!a.closed)return Object(i.a)(e)(a)}},a7t3:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("NJ4a"),i=function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,r.a),e}}},"b/LO":function(t,e,n){"use strict";var r=n("WEwH"),i=n("hbGf"),o=n("Kqap"),a=n("lJxs"),s=n("zp1y"),u=n("7o/Q"),l=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.predicate))},t}(),c=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).predicate=n,r.skipping=!0,r.index=0,r}return __extends(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(n){this.destination.error(n)}},e}(u.a);function h(t,e){return function(t,e){return function(t){return Object(i.a)(t,"value").pipe(Object(a.a)((function(t){var e;return t.payload.forEach((function(t){return e=t.key,!1})),{data:t,lastKeyToLoad:e}})))}(t).pipe(Object(s.a)(e),Object(a.a)((function(t){var e=__read(t,2),n=e[0],r=e[1],i=n.lastKeyToLoad,o=r.map((function(t){return t.key}));return{actions:r,lastKeyToLoad:i,loadedKeys:o}})),(n=function(t){return-1===t.loadedKeys.indexOf(t.lastKeyToLoad)},function(t){return t.lift(new l(n))}),Object(a.a)((function(t){return t.actions})));var n}(t,Object(r.a)(t,e).pipe(Object(o.a)((function(t,e){return __spread(t,[e])}),[])))}n.d(e,"a",(function(){return h}))},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},cSoz:function(t,e,n){"use strict";var r=n("Vi6O"),i=n("6qA3");e.subscribeToResult=function(t,e,n,o,a){if(void 0===a&&(a=new r.InnerSubscriber(t,n,o)),!a.closed)return i.subscribeTo(e)(a)}},e2pG:function(t,e,n){"use strict";var r=n("Q1FS"),i=n("zB/H"),o=n("VKeD"),a=n("poJ0");e.fromIterable=function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.Observable(e?function(n){var r,a=new i.Subscription;return a.add((function(){r&&"function"==typeof r.return&&r.return()})),a.add(e.schedule((function(){r=t[o.iterator](),a.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),a}:a.subscribeToIterable(t))}},eIep:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("l7GE"),i=n("51Dv"),o=n("ZUHj"),a=n("lJxs"),s=n("Cfvw");function u(t,e){return"function"==typeof e?function(n){return n.pipe(u((function(n,r){return Object(s.a)(t(n,r)).pipe(Object(a.a)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new l(t))}}var l=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.project))},t}(),c=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).project=n,r.index=0,r}return __extends(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var a=new i.a(this,void 0,void 0);this.destination.add(a),this.innerSubscription=Object(o.a)(this,t,e,n,a)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(r.a)},eipH:function(t,e,n){"use strict";var r=n("Q1FS"),i=n("zB/H"),o=n("zfKp"),a=n("ozli");e.fromObservable=function(t,e){return new r.Observable(e?function(n){var r=new i.Subscription;return r.add(e.schedule((function(){var i=t[o.observable]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}:a.subscribeToObservable(t))}},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},gTqA:function(t,e,n){"use strict";var r=n("Q1FS"),i=n("90cg"),o=n("yRPT"),a=n("HZF8"),s=n("0alx"),u=n("zzsZ"),l=n("m12A"),c=n("e2pG"),h=n("eipH"),f=n("6qA3");e.from=function(t,e){if(!e)return t instanceof r.Observable?t:new r.Observable(f.subscribeTo(t));if(null!=t){if(a.isInteropObservable(t))return h.fromObservable(t,e);if(i.isPromise(t))return l.fromPromise(t,e);if(o.isArrayLike(t))return u.fromArray(t,e);if(s.isIterable(t)||"string"==typeof t)return c.fromIterable(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},hbGf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("lJxs"),o=n("3E0/"),a=n("w1tV");function s(t,e,n){return void 0===n&&(n="on"),new r.a((function(r){var i=t[n](e,(function(t,e){r.next({snapshot:t,prevKey:e}),"once"==n&&r.complete()}),r.error.bind(r));return"on"==n?{unsubscribe:function(){t.off(e,i)}}:{unsubscribe:function(){}}})).pipe(Object(i.a)((function(t){var n=t.snapshot,r=t.prevKey,i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}})),Object(o.a)(0),Object(a.a)())}},kDjp:function(t,e,n){"use strict";function r(t){return null==t}function i(t){return"function"==typeof t.set}function o(t,e){return i(e)?e:t.ref(e)}function a(t,e){if("string"==typeof t)return e.stringCase();if(i(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}))},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("7o/Q").a)},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}(),a=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e)||this).project=n,i.count=0,i.thisArg=r||i,i}return __extends(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(r.a)},m12A:function(t,e,n){"use strict";var r=n("Q1FS"),i=n("zB/H"),o=n("Z5tI");e.fromPromise=function(t,e){return new r.Observable(e?function(n){var r=new i.Subscription;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}:o.subscribeToPromise(t))}},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("KqfI");function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:r.a}},mbIT:function(t,e,n){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return g})),n.d(e,"__asyncGenerator",(function(){return m})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return _})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return E}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){s("next",t)}function l(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},n3uD:function(t,e,n){"use strict";var r=!1;e.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},ozli:function(t,e,n){"use strict";var r=n("zfKp");e.subscribeToObservable=function(t){return function(e){var n=t[r.observable]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},"p//D":function(t,e,n){"use strict";e.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),e.$$rxSubscriber=e.rxSubscriber},pLzU:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("Lhse"),i=function(t){return function(e){for(var n=t[r.a]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e}}},pZk1:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("hbGf"),i=n("LRne"),o=n("VRyK"),a=n("kDjp"),s=n("eIep"),u=n("Kqap"),l=n("/uUt");function c(t,e){return Object(r.a)(t,"value","once").pipe(Object(s.a)((function(n){var a=[Object(i.a)(n)];return e.forEach((function(e){return a.push(Object(r.a)(t,e))})),Object(o.a).apply(void 0,__spread(a)).pipe(Object(u.a)(f,[]))})),Object(l.a)())}function h(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function f(t,e){var n=e.payload,r=e.prevKey,i=e.key,o=h(t,i),s=function(t,e){if(Object(a.c)(e))return 0;var n=h(t,e);return-1===n?t.length:n+1}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){var u=null;e.payload.forEach((function(e){var n={payload:e,type:"value",prevKey:u,key:e.key};return u=e.key,t=__spread(t,[n]),!1}))}return t;case"child_added":if(o>-1){var l=t[o-1];(l&&l.key||null)!=r&&(t=t.filter((function(t){return t.payload.key!==n.key}))).splice(s,0,e)}else{if(null==r)return __spread([e],t);(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter((function(t){return t.payload.key!==n.key}));case"child_changed":return t.map((function(t){return t.payload.key===i?e:t}));case"child_moved":if(o>-1){var c=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,c),t}return t;default:return t}}},poJ0:function(t,e,n){"use strict";var r=n("VKeD");e.subscribeToIterable=function(t){return function(e){for(var n=t[r.iterator]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e}}},pshJ:function(t,e,n){"use strict";e.isFunction=function(t){return"function"==typeof t}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return u})),n.d(e,"setLogLevel",(function(){return l}));var i=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a=o.INFO,s=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var a=(new Date).toISOString();switch(e){case o.DEBUG:case o.VERBOSE:console.log.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case o.INFO:console.info.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case o.WARN:console.warn.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case o.ERROR:console.error.apply(console,r(["["+a+"]  "+t.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},u=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=s,i.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function l(t){i.forEach((function(e){e.logLevel=t}))}},q3Kh:function(t,e,n){var r=n("mrSG").__extends,i=n("FWf1");e.map=function(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}};var o=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}();e.MapOperator=o;var a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(i.Subscriber)},quSY:function(t,e,n){"use strict";var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");function a(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}a.prototype=Object.create(Error.prototype);var s=a;n.d(e,"a",(function(){return c}));var u,l,c=((l=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,a=this._parents,u=this._unsubscribe,l=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var c=-1,f=a?a.length:0;n;)n.remove(this),n=++c<f&&a[c]||null;if(Object(o.a)(u))try{u.call(this)}catch(d){e=!0,t=d instanceof s?h(d.errors):[d]}if(Object(r.a)(l))for(c=-1,f=l.length;++c<f;){var p=l[c];if(Object(i.a)(p))try{p.unsubscribe()}catch(d){e=!0,t=t||[],d instanceof s?t=t.concat(h(d.errors)):t.push(d)}}if(e)throw new s(t)}},t.prototype.add=function(e){var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){var i=this._subscriptions;i?i.push(n):this._subscriptions=[n]}return n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))},t}()).EMPTY=((u=new l).closed=!0,u),l);function h(t){return t.reduce((function(t,e){return t.concat(e instanceof s?e.errors:e)}),[])}},sDu7:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("pZk1"),i=n("GIw4");function o(t,e){return e=Object(i.a)(e),Object(r.a)(t,e)}},w1tV:function(t,e,n){"use strict";var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),a=n("quSY");function s(){return function(t){return t.lift(new u(t))}}var u=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),l=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).connectable=n,r}return __extends(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(o.a),c=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return __extends(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new f(this.getSubject(),this))),t.closed?(this._connection=null,t=a.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return s()(this)},e}(i.a).prototype,h={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:c._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}},f=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).connectable=n,r}return __extends(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(r.b);function p(){return new r.a}function d(){return function(t){return s()((e=p,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}n.d(e,"a",(function(){return d}))},w5QO:function(t,e,n){"use strict";e.noop=function(){}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("mrSG"),a=n("zVF4"),s=n("S+S0"),u=n("q/0M"),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),c=new a.ErrorFactory("app","Firebase",l),h="@firebase/app",f="[DEFAULT]",p=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.Logger("@firebase/app"),v=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",(function(){return u}),"PUBLIC"));try{for(var l=o.__values(this.firebase_.INTERNAL.components.values()),c=l.next();!c.done;c=l.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var y=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!=typeof s||!s)throw c.create("bad-app-name",{appName:String(s)});if(a.contains(e,s))throw c.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=p[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var l=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&l.push("and"),a&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(l.join(" "))}u(new s.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},apps:null,SDK_VERSION:"7.6.0",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!a.contains(e,t=t||f))throw c.create("no-app",{appName:t});return e[t]}function u(s){var u,l,h=s.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&a.deepExtend(f,s.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,s.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),v=p.next();!v.done;v=p.next())e[v.value]._addComponent(s)}catch(y){u={error:y}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(v);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){a.deepExtend(e,t)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e;return"VERSION"===(null===(e=t.getComponent())||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(a.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=y.initializeApp;y.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),b.apply(void 0,t)};var _=y;!function(t,e){t.INTERNAL.registerComponent(new s.Component("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion(h,"0.5.0",void 0),t.registerVersion("fire-js","")}(_),e.default=_,e.firebase=_},"yA/v":function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"e",(function(){return l})),n.d(e,"a",(function(){return c})),n("mrSG");var r=n("8Y7J"),i=n("Wcq6"),o=n.n(i),a=new r.p("angularfire2.app.options"),s=new r.p("angularfire2.app.nameOrConfig"),u=function(){};function l(t,e,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",o.a.apps.filter((function(t){return t&&t.name===r.name}))[0]||e.runOutsideAngular((function(){return o.a.initializeApp(t,r)}))}var c=function(){function t(){}return t.initializeApp=function(e,n){return{ngModule:t,providers:[{provide:a,useValue:e},{provide:s,useValue:n}]}},t}()},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("quSY"),o=n("ngJS");function a(t,e){return new r.a(e?function(n){var r=new i.a,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:Object(o.a)(t))}},yRPT:function(t,e,n){"use strict";e.isArrayLike=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},yx2s:function(t,e,n){"use strict";var r=n("FWf1");e.canReportError=function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof r.Subscriber?e:null}return!0}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},z5t0:function(t,e,n){"use strict";n("mrSG"),n("NSPt"),n.d(e,"a",(function(){return r}));var r=function(){}},"zB/H":function(t,e,n){"use strict";var r=n("mbIT"),i=n("GMZp"),o=n("pshJ"),a=n("LBXl");function s(t){return t.reduce((function(t,e){return t.concat(e instanceof a.UnsubscriptionError?e.errors:e)}),[])}e.Subscription=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,u=this._parents,l=this._unsubscribe,c=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,f=u?u.length:0;n;)n.remove(this),n=++h<f&&u[h]||null;if(o.isFunction(l))try{l.call(this)}catch(d){e=!0,t=d instanceof a.UnsubscriptionError?s(d.errors):[d]}if(r.isArray(c))for(h=-1,f=c.length;++h<f;){var p=c[h];if(i.isObject(p))try{p.unsubscribe()}catch(d){e=!0,t=t||[],d instanceof a.UnsubscriptionError?t=t.concat(s(d.errors)):t.push(d)}}if(e)throw new a.UnsubscriptionError(t)}},t.prototype.add=function(e){var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){var i=this._subscriptions;i?i.push(n):this._subscriptions=[n]}return n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))},t.EMPTY=((e=new t).closed=!0,e),t}()},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("8Y7J"),i=function(){},o=function(t,e,n){this.userService=t,this.auth=e,e.user$.subscribe((function(e){if(e){t.save(e);var r=localStorage.getItem("returnUrl");n.navigateByUrl(r)}}))},a=n("SVse"),s=n("LRne"),u=n("Cfvw"),l=n("XNiG"),c=n("9ppp"),h=function(t){function e(e){var n=this;return(n=t.call(this)||this)._value=e,n}return __extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new c.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(l.a),f=n("HDdC");function p(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}p.prototype=Object.create(Error.prototype);var d=p,v=n("z+Ro"),y=n("DH7j"),g=n("l7GE"),m=n("ZUHj"),b=n("yCtX"),_={},w=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new C(t,this.resultSelector))},t}(),C=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return __extends(e,t),e.prototype._next=function(t){this.values.push(_),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(m.a)(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===_?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(g.a),E=n("EY2u");function S(t){return new f.a((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(u.a)(n):Object(E.b)()).subscribe(e)}))}var T=n("lJxs"),I=n("bHdf");function x(){return Object(I.a)(1)}var k=n("7o/Q");function O(t,e){return function(n){return n.lift(new A(t,e))}}var A=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new N(t,this.predicate,this.thisArg))},t}(),N=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e)||this).predicate=n,i.thisArg=r,i.count=0,i}return __extends(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(k.a);function D(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}D.prototype=Object.create(Error.prototype);var P=D;function R(t){return function(e){return 0===t?Object(E.b)():e.lift(new j(t))}}var j=function(){function t(t){if(this.total=t,this.total<0)throw new P}return t.prototype.call=function(t,e){return e.subscribe(new M(t,this.total))},t}(),M=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).total=n,r.ring=new Array,r.count=0,r}return __extends(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(k.a),L=n("KqfI"),F=n("n6bG");function U(t,e,n){return function(r){return r.lift(new V(t,e,n))}}var V=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new H(t,this.nextOrObserver,this.error,this.complete))},t}(),H=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e)||this)._tapNext=L.a,o._tapError=L.a,o._tapComplete=L.a,o._tapError=r||L.a,o._tapComplete=i||L.a,Object(F.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||L.a,o._tapError=n.error||L.a,o._tapComplete=n.complete||L.a),o}return __extends(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(k.a),q=function(t){return void 0===t&&(t=W),U({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function W(){return new d}function B(t){return void 0===t&&(t=null),function(e){return e.lift(new K(t))}}var K=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new z(t,this.defaultValue))},t}(),z=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).defaultValue=n,r.isEmpty=!0,r}return __extends(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(k.a),Q=n("SpAZ");function G(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?O((function(e,n){return t(e,n,r)})):Q.a,R(1),n?B(e):q((function(){return new d})))}}var Y=n("51Dv");function Z(t){return function(e){var n=new $(t),r=e.lift(n);return n.caught=r}}var $=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new X(t,this.selector,this.caught))},t}(),X=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e)||this).selector=n,i.caught=r,i}return __extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(i){return void t.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var r=new Y.a(this,void 0,void 0);this.add(r),Object(m.a)(this,n,void 0,void 0,r)}},e}(g.a);function J(t){return function(e){return 0===t?Object(E.b)():e.lift(new tt(t))}}var tt=function(){function t(t){if(this.total=t,this.total<0)throw new P}return t.prototype.call=function(t,e){return e.subscribe(new et(t,this.total))},t}(),et=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).total=n,r.count=0,r}return __extends(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(k.a);function nt(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?O((function(e,n){return t(e,n,r)})):Q.a,J(1),n?B(e):q((function(){return new d})))}}var rt=n("5+tZ"),it=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new ot(t,this.predicate,this.thisArg,this.source))},t}(),ot=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e)||this).predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return __extends(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(k.a),at=n("eIep"),st=n("XUOw"),ut=n("Kqap");function lt(t,e){return Object(rt.a)(t,e,1)}var ct=n("mCNh"),ht=n("quSY"),ft=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new pt(t,this.callback))},t}(),pt=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).add(new ht.a(n)),r}return __extends(e,t),e}(k.a),dt=null;function vt(){return dt}var yt,gt=function(t){function e(){var e=this;(e=t.call(this)||this)._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach((function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])}))}catch(a){e._animationPrefix=null,e._transitionEnd=null}return e}return __extends(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}()),mt={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},bt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_t={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wt=function(){if(r.tb.Node)return r.tb.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}}(),Ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,dt||(dt=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){t[e].apply(t,__spread(n))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return mt},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return wt.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach((function(n){return t.insertBefore(n,e)}))},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&_t.hasOwnProperty(e)&&(e=_t[e]))}return bt[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=Et||(Et=document.querySelector("base"))?Et.getAttribute("href"):null;return null==n?null:(e=n,yt||(yt=document.createElement("a")),yt.setAttribute("href",e),"/"===yt.pathname.charAt(0)?yt.pathname:"/"+yt.pathname)},e.prototype.resetBaseElement=function(){Et=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Object(a.A)(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(gt),Et=null;function St(){return!!window.history.pushState}var Tt=new r.p("TRANSITION_ID"),It=[{provide:r.d,useFactory:function(t,e,n){return function(){n.get(r.e).donePromise.then((function(){var n=vt();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter((function(e){return n.getAttribute(e,"ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[Tt,a.d,r.q],multi:!0}],xt=function(){function t(){}return t.init=function(){Object(r.W)(new t)},t.prototype.addToWindow=function(t){r.tb.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.tb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},r.tb.getAllAngularRootElements=function(){return t.getAllRootElements()},r.tb.frameworkStabilizers||(r.tb.frameworkStabilizers=[]),r.tb.frameworkStabilizers.push((function(t){var e=r.tb.getAllAngularTestabilities(),n=e.length,i=!1,o=function(e){i=i||e,0==--n&&t(i)};e.forEach((function(t){t.whenStable(o)}))}))},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?vt().isShadowRoot(e)?this.findTestabilityInTree(t,vt().getHost(e),!0):this.findTestabilityInTree(t,vt().parentElement(e),!0):null},t}();function kt(t,e){"undefined"!=typeof COMPILED&&COMPILED||((r.tb.ng=r.tb.ng||{})[t]=e)}var Ot={ApplicationRef:r.g,NgZone:r.y};function At(t){return Object(r.T)(t)}var Nt=new r.p("EventManagerPlugins"),Dt=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach((function(t){return t.manager=n})),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}(),Pt=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=vt().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),Rt=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),jt=function(t){function e(e){var n=this;return(n=t.call(this)||this)._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return __extends(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach((function(t){return vt().remove(t)}))},e}(Rt),Mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Lt=/%COMP%/g,Ft="_nghost-%COMP%",Ut="_ngcontent-%COMP%";function Vt(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Vt(t,i,n):(i=i.replace(Lt,t),n.push(i))}return n}function Ht(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var qt=function(){function t(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Wt(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.O.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new zt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case r.O.Native:case r.O.ShadowDom:return new Qt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=Vt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),Wt=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(Mt[e]||e,t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'+t+'" did not match any elements');return e||(n.textContent=""),n},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=Mt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=Mt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,i){i&r.E.DashCase?t.style.setProperty(e,n,i&r.E.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&r.E.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){Kt(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return Kt(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ht(n)):this.eventManager.addEventListener(t,e,Ht(n))},t}(),Bt="@".charCodeAt(0);function Kt(t,e){if(t.charCodeAt(0)===Bt)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var zt=function(t){function e(e,n,r,i){var o=this;(o=t.call(this,e)||this).component=r;var a=Vt(i+"-"+r.id,r.styles,[]);return n.addStyles(a),o.contentAttr=Ut.replace(Lt,i+"-"+r.id),o.hostAttr=Ft.replace(Lt,i+"-"+r.id),o}return __extends(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(Wt),Qt=function(t){function e(e,n,i,o){var a=this;(a=t.call(this,e)||this).sharedStylesHost=n,a.hostEl=i,a.component=o,a.shadowRoot=o.encapsulation===r.O.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=Vt(o.id,o.styles,[]),u=0;u<s.length;u++){var l=document.createElement("style");l.textContent=s[u],a.shadowRoot.appendChild(l)}return a}return __extends(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(Wt),Gt="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},Yt=Gt("addEventListener"),Zt=Gt("removeEventListener"),$t={},Xt="__zone_symbol__propagationStopped",Jt=function(){var t="undefined"!=typeof Zone&&Zone[Gt("BLACK_LISTED_EVENTS")];if(t){var e={};return t.forEach((function(t){e[t]=t})),e}}(),te=function(t){return!!Jt&&Jt.hasOwnProperty(t)},ee=function(t){var e=$t[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==t[Xt];o++){var a;(a=i[o]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},ne=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e)||this).ngZone=n,r&&Object(a.x)(r)||i.patchEvent(),i}return __extends(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Xt]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var i=this,o=n;if(!t[Yt]||r.y.isInAngularZone()&&!te(e))t.addEventListener(e,o,!1);else{var a=$t[e];a||(a=$t[e]=Gt("ANGULAR"+e+"FALSE"));var s=t[a],u=s&&s.length>0;s||(s=t[a]=[]);var l=te(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:l,handler:o});else{for(var c=!1,h=0;h<s.length;h++)if(s[h].handler===o){c=!0;break}c||s.push({zone:l,handler:o})}u||t[Yt](e,ee,!1)}return function(){return i.removeEventListener(t,e,o)}},e.prototype.removeEventListener=function(t,e,n){var r=t[Zt];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=$t[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(t,[e,ee,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(Pt),re={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},ie=new r.p("HammerGestureConfig"),oe=new r.p("HammerLoader"),ae=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),se=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e)||this)._config=n,o.console=r,o.loader=i,o}return __extends(e,t),e.prototype.supports=function(t){return!(!re.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+t+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then((function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=r.addEventListener(t,e,n))})).catch((function(){r.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),a=function(){}})),function(){a()}}return i.runOutsideAngular((function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded((function(){n(t)}))};return o.on(e,a),function(){o.off(e,a),"function"==typeof o.destroy&&o.destroy()}}))},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(Pt),ue=["alt","control","meta","shift"],le={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},ce=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,r){var i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return vt().onAndCancel(t,i.domEventName,o)}))},e.parseEventName=function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=e._normalizeKey(n.pop()),o="";if(ue.forEach((function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")})),o+=i,0!=n.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=vt().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),ue.forEach((function(r){r!=n&&(0,le[r])(t)&&(e+=r+".")})),e+=n},e.eventCallback=function(t,n,r){return function(i){e.getEventFullKey(i)===t&&r.runGuarded((function(){return n(i)}))}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(Pt),he=function(){},fe=function(t){function e(e){var n=this;return(n=t.call(this)||this)._doc=e,n}return __extends(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case r.G.NONE:return e;case r.G.HTML:return e instanceof de?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(r.cb)(this._doc,String(e)));case r.G.STYLE:return e instanceof ve?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(r.db)(e));case r.G.SCRIPT:if(e instanceof ye)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case r.G.URL:return e instanceof me||e instanceof ge?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(r.eb)(String(e)));case r.G.RESOURCE_URL:if(e instanceof me)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof pe)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new de(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new ve(t)},e.prototype.bypassSecurityTrustScript=function(t){return new ye(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new ge(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new me(t)},e}(he),pe=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),de=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(pe),ve=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getTypeName=function(){return"Style"},e}(pe),ye=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getTypeName=function(){return"Script"},e}(pe),ge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getTypeName=function(){return"URL"},e}(pe),me=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(pe),be=[{provide:r.A,useValue:a.y},{provide:r.B,useValue:function(){Ct.makeCurrent(),xt.init()},multi:!0},{provide:a.p,useClass:function(t){function e(e){var n=this;return(n=t.call(this)||this)._doc=e,n._init(),n}return __extends(e,t),e.prototype._init=function(){this.location=vt().getLocation(),this._history=vt().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return vt().getBaseHref(this._doc)},e.prototype.onPopState=function(t){vt().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){vt().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"href",{get:function(){return this.location.href},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this.location.protocol},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostname",{get:function(){return this.location.hostname},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"port",{get:function(){return this.location.port},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){St()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){St()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.prototype.getState=function(){return this._history.state},e}(a.p),deps:[a.d]},{provide:a.d,useFactory:function(){return document},deps:[]}],_e=Object(r.Q)(r.V,"browser",be);function we(){return new r.l}var Ce=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Tt,useExisting:r.c},It]}},t}();"undefined"!=typeof window&&window;var Ee=function(t,e){this.id=t,this.url=e},Se=function(t){function e(e,n,r,i){void 0===r&&(r="imperative"),void 0===i&&(i=null);var o=this;return(o=t.call(this,e,n)||this).navigationTrigger=r,o.restoredState=i,o}return __extends(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(Ee),Te=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).urlAfterRedirects=r,i}return __extends(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(Ee),Ie=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).reason=r,i}return __extends(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(Ee),xe=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).error=r,i}return __extends(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(Ee),ke=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).urlAfterRedirects=r,o.state=i,o}return __extends(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ee),Oe=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).urlAfterRedirects=r,o.state=i,o}return __extends(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ee),Ae=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,n)||this).urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return __extends(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(Ee),Ne=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).urlAfterRedirects=r,o.state=i,o}return __extends(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ee),De=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).urlAfterRedirects=r,o.state=i,o}return __extends(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ee),Pe=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),Re=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),je=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Me=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Le=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Fe=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Ue=function(){function t(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}return t.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},t}(),Ve=function(){},He="primary",qe=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function We(t){return new qe(t)}var Be="ngNavigationCancelingError";function Ke(t){var e=Error("NavigationCancelingError: "+t);return e[Be]=!0,e}function ze(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var Qe=function(t,e){this.routes=t,this.module=e};function Ge(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];Ye(r,Ze(e,r))}}function Ye(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==He)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&Ge(t.children,e)}function Ze(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function $e(t){var e=t.children&&t.children.map($e),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==He&&(n.component=Ve),n}function Xe(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(t[n=r[o]]!==e[n])return!1;return!0}function Je(t){return Array.prototype.concat.apply([],t)}function tn(t){return t.length>0?t[t.length-1]:null}function en(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function nn(t){return Object(r.wb)(t)?t:Object(r.xb)(t)?Object(u.a)(Promise.resolve(t)):Object(s.a)(t)}function rn(t,e,n){return n?function(t,e){return Xe(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!un(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return e[n]===t[n]}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!un(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!un(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!un(n.segments,a)&&!!n.children[He]&&e(n.children[He],r,s)}(e,n,n.segments)}(t.root,e.root)}var on=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=We(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return fn.serialize(this)},t}(),an=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,en(e,(function(t,e){return t.parent=n}))}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return pn(this)},t}(),sn=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=We(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return bn(this)},t}();function un(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function ln(t,e){var n=[];return en(t.children,(function(t,r){r===He&&(n=n.concat(e(t,r)))})),en(t.children,(function(t,r){r!==He&&(n=n.concat(e(t,r)))})),n}var cn=function(){},hn=function(){function t(){}return t.prototype.parse=function(t){var e=new Sn(t);return new on(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n,r;return"/"+function t(e,n){if(!e.hasChildren())return pn(e);if(n){var r=e.children[He]?t(e.children[He],!1):"",i=[];return en(e.children,(function(e,n){n!==He&&i.push(n+":"+t(e,!1))})),i.length>0?r+"("+i.join("//")+")":r}var o=ln(e,(function(n,r){return r===He?[t(e.children[He],!1)]:[r+":"+t(n,!1)]}));return pn(e)+"/("+o.join("//")+")"}(t.root,!0)+(n=t.queryParams,(r=Object.keys(n).map((function(t){var e=n[t];return Array.isArray(e)?e.map((function(e){return vn(t)+"="+vn(e)})).join("&"):vn(t)+"="+vn(e)}))).length?"?"+r.join("&"):"")+("string"==typeof t.fragment?"#"+(e=t.fragment,encodeURI(e)):"")},t}(),fn=new hn;function pn(t){return t.segments.map((function(t){return bn(t)})).join("/")}function dn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vn(t){return dn(t).replace(/%3B/gi,";")}function yn(t){return dn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gn(t){return decodeURIComponent(t)}function mn(t){return gn(t.replace(/\+/g,"%20"))}function bn(t){return""+yn(t.path)+(e=t.parameters,Object.keys(e).map((function(t){return";"+yn(t)+"="+yn(e[t])})).join(""));var e}var _n=/^[^\/()?;=#]+/;function wn(t){var e=t.match(_n);return e?e[0]:""}var Cn=/^[^=?&#]+/,En=/^[^?&#]+/,Sn=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[He]=new an(t,e)),n},t.prototype.parseSegment=function(){var t=wn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new sn(gn(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=wn(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=wn(this.remaining);r&&this.capture(n=r)}t[gn(e)]=gn(n)}},t.prototype.parseQueryParam=function(t){var e=function(t){var e=t.match(Cn);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(En);return e?e[0]:""}(this.remaining);r&&this.capture(n=r)}var i=mn(e),o=mn(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(t[i]=a=[a]),a.push(o)}else t[i]=o}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=wn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=He);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[He]:new an([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),Tn=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=In(t,this._root);return e?e.children.map((function(t){return t.value})):[]},t.prototype.firstChild=function(t){var e=In(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=xn(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))},t.prototype.pathFromRoot=function(t){return xn(t,this._root).map((function(t){return t.value}))},t}();function In(t,e){var n,r;if(t===e.value)return e;try{for(var i=__values(e.children),o=i.next();!o.done;o=i.next()){var a=In(t,o.value);if(a)return a}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return null}function xn(t,e){var n,r;if(t===e.value)return[e];try{for(var i=__values(e.children),o=i.next();!o.done;o=i.next()){var a=xn(t,o.value);if(a.length)return a.unshift(e),a}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return[]}var kn=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function On(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var An=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).snapshot=n,Mn(r,e),r}return __extends(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(Tn);function Nn(t,e){var n=function(t,e){var n=new Rn([],{},{},"",{},He,e,null,t.root,-1,{});return new jn("",new kn(n,[]))}(t,e),r=new h([new sn("",{})]),i=new h({}),o=new h({}),a=new h({}),s=new h(""),u=new Dn(r,i,a,s,o,He,e,n.root);return u.snapshot=n.root,new An(new kn(u,[]),n)}var Dn=function(){function t(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(T.a)((function(t){return We(t)})))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(T.a)((function(t){return We(t)})))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function Pn(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Rn=function(){function t(t,e,n,r,i,o,a,s,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=We(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=We(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map((function(t){return t.toString()})).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),jn=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).url=e,Mn(r,n),r}return __extends(e,t),e.prototype.toString=function(){return Ln(this._root)},e}(Tn);function Mn(t,e){e.value._routerState=t,e.children.forEach((function(e){return Mn(t,e)}))}function Ln(t){var e=t.children.length>0?" { "+t.children.map(Ln).join(", ")+" } ":"";return""+t.value+e}function Fn(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xe(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Xe(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Xe(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Xe(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Un(t,e){var n,r;return Xe(t.params,e.params)&&un(n=t.url,r=e.url)&&n.every((function(t,e){return Xe(t.parameters,r[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||Un(t.parent,e.parent))}function Vn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Hn(t,e,n,r,i){var o={};return r&&en(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new on(n.root===t?e:function t(e,n,r){var i={};return en(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new an(e.segments,i)}(n.root,t,e),o,i)}var qn=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Vn(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(r&&r!==tn(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),Wn=function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n};function Bn(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[He]:""+t}function Kn(t,e,n){if(t||(t=new an([],{})),0===t.segments.length&&t.hasChildren())return zn(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=Bn(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!Zn(s,u,a))return o;r+=2}else{if(!Zn(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new an(t.segments.slice(0,r.pathIndex),{});return o.children[He]=new an(t.segments.slice(r.pathIndex),t.children),zn(o,0,i)}return r.match&&0===i.length?new an(t.segments,{}):r.match&&!t.hasChildren()?Qn(t,e,n):r.match?zn(t,0,i):Qn(t,e,n)}function zn(t,e,n){if(0===n.length)return new an(t.segments,{});var r=function(t){var e,n;return"object"!=typeof t[0]?((e={})[He]=t,e):void 0===t[0].outlets?((n={})[He]=t,n):t[0].outlets}(n),i={};return en(r,(function(n,r){null!==n&&(i[r]=Kn(t.children[r],e,n))})),en(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new an(t.segments,i)}function Qn(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Gn(n[i].outlets);return new an(r,o)}if(0===i&&Vn(n[0]))r.push(new sn(t.segments[e].path,n[0])),i++;else{var a=Bn(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&Vn(s)?(r.push(new sn(a,Yn(s))),i+=2):(r.push(new sn(a,{})),i++)}}return new an(r,{})}function Gn(t){var e={};return en(t,(function(t,n){null!==t&&(e[n]=Qn(new an([],{}),0,t))})),e}function Yn(t){var e={};return en(t,(function(t,n){return e[n]=""+t})),e}function Zn(t,e,n){return t==n.path&&Xe(e,n.parameters)}var $n=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Fn(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=On(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),en(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=On(t),o=t.value.component?r.children:e;en(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=On(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new Fe(t.value.snapshot))})),t.children.length&&this.forwardEvent(new Me(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(Fn(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Xn(a.route)}else{var s=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),u=s?s.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=u,o.outlet&&o.outlet.activateWith(r,u),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,n)},t}();function Xn(t){Fn(t.value),t.children.forEach(Xn)}function Jn(t){return"function"==typeof t}function tr(t){return t instanceof on}var er=function(t){this.segmentGroup=t||null},nr=function(t){this.urlTree=t};function rr(t){return new f.a((function(e){return e.error(new er(t))}))}function ir(t){return new f.a((function(e){return e.error(new nr(t))}))}function or(t){return new f.a((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))}))}var ar=function(){function t(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.w)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,He).pipe(Object(T.a)((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(Z((function(e){if(e instanceof nr)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof er)throw t.noMatchError(e);throw e})))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,He).pipe(Object(T.a)((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(Z((function(t){if(t instanceof er)throw e.noMatchError(t);throw t})))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r,i=t.segments.length>0?new an([],((r={})[He]=t,r)):t;return new on(i,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(T.a)((function(t){return new an([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(s.a)({});var o=[],a=[],u={};return en(n,(function(n,i){var s,l,c=(s=i,l=n,r.expandSegmentGroup(t,e,l,s)).pipe(Object(T.a)((function(t){return u[i]=t})));i===He?o.push(c):a.push(c)})),s.a.apply(null,o.concat(a)).pipe(x(),G(),Object(T.a)((function(){return u})))}(n.children)},t.prototype.expandSegment=function(t,e,n,r,i,o){var a=this;return Object(s.a).apply(void 0,__spread(n)).pipe(Object(T.a)((function(u){return a.expandSegmentAgainstRoute(t,e,n,u,r,i,o).pipe(Z((function(t){if(t instanceof er)return Object(s.a)(null);throw t})))})),x(),nt((function(t){return!!t})),Z((function(t,n){if(t instanceof d||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,r,i))return Object(s.a)(new an([],{}));throw new er(e)}throw t})))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,a){return cr(r)!==o?rr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):rr(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ir(o):this.lineralizeSegments(n,o).pipe(Object(rt.a)((function(n){var o=new an(n,{});return i.expandSegment(t,o,e,n,r,!1)})))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var a=this,s=sr(e,r,i),u=s.matched,l=s.consumedSegments,c=s.lastChild,h=s.positionalParamSegments;if(!u)return rr(e);var f=this.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?ir(f):this.lineralizeSegments(r,f).pipe(Object(rt.a)((function(r){return a.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)})))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(T.a)((function(t){return n._loadedConfig=t,new an(r,{})}))):Object(s.a)(new an(r,{}));var o=sr(e,n,r),a=o.matched,u=o.consumedSegments,l=o.lastChild;if(!a)return rr(e);var c=r.slice(l);return this.getChildConfig(t,n,r).pipe(Object(rt.a)((function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some((function(n){return lr(t,e,n)&&cr(n)!==He}))}(t,n,r)?{segmentGroup:ur(new an(e,function(t,e){var n,r,i={};i[He]=e;try{for(var o=__values(t),a=o.next();!a.done;a=o.next()){var s=a.value;""===s.path&&cr(s)!==He&&(i[cr(s)]=new an([],{}))}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}(r,new an(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return lr(t,e,n)}))}(t,n,r)?{segmentGroup:ur(new an(t.segments,function(t,e,n,r){var i,o,a={};try{for(var s=__values(n),u=s.next();!u.done;u=s.next()){var l=u.value;lr(t,e,l)&&!r[cr(l)]&&(a[cr(l)]=new an([],{}))}}catch(c){i={error:c}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return Object.assign({},r,a)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,u,c,r),a=o.segmentGroup,l=o.slicedSegments;return 0===l.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(Object(T.a)((function(t){return new an(u,t)}))):0===r.length&&0===l.length?Object(s.a)(new an(u,{})):i.expandSegment(n,a,r,l,He,!0).pipe(Object(T.a)((function(t){return new an(u.concat(t.segments),t.children)})))})))},t.prototype.getChildConfig=function(t,e,n){var r=this;return e.children?Object(s.a)(new Qe(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(s.a)(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?Object(u.a)(i).pipe(Object(T.a)((function(r){var i,o=t.get(r);if(function(t){return t&&Jn(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!Jn(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return nn(i)}))).pipe(x(),(r=function(t){return!0===t},function(t){return t.lift(new it(r,void 0,t))})):Object(s.a)(!0)}(t.injector,e,n).pipe(Object(rt.a)((function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(T.a)((function(t){return e._loadedConfig=t,t}))):function(t){return new f.a((function(e){return e.error(Ke("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))}))}(e)}))):Object(s.a)(new Qe([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(s.a)(n);if(r.numberOfChildren>1||!r.children[He])return or(t.redirectTo);r=r.children[He]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new on(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return en(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return en(e.children,(function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)})),new an(o,a)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){var n,r,i=0;try{for(var o=__values(e),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.path===t.path)return e.splice(i),s;i++}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return t},t}();function sr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||ze)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ur(t){if(1===t.numberOfChildren&&t.children[He]){var e=t.children[He];return new an(t.segments.concat(e.segments),e.children)}return t}function lr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function cr(t){return t.outlet||He}var hr=function(t){this.path=t,this.route=this.path[this.path.length-1]},fr=function(t,e){this.component=t,this.route=e};function pr(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function dr(t,e,n){var r=On(t),i=t.value;en(r,(function(t,r){dr(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new fr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var vr=Symbol("INITIAL_VALUE");function yr(){return Object(at.a)((function(t){return(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return Object(v.a)(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(y.a)(t[0])&&(t=t[0]),Object(b.a)(t,r).lift(new w(n))}).apply(void 0,__spread(t.map((function(t){return t.pipe(J(1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n=t[t.length-1];Object(v.a)(n)?t.pop():n=null;var r=t.length;return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return x()(Object(s.a).apply(void 0,__spread(t)))}(1!==r||n?r>0?Object(b.a)(t,n):Object(E.b)(n):Object(st.a)(t[0]),e)}}(vr))})))).pipe(Object(ut.a)((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==vr)return t;if(r===vr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||tr(r))return r}return t}),t)}),vr),O((function(t){return t!==vr})),Object(T.a)((function(t){return tr(t)?t:!0===t})),J(1))}))}function gr(t,e){return null!==t&&e&&e(new Le(t)),Object(s.a)(!0)}function mr(t,e){return null!==t&&e&&e(new je(t)),Object(s.a)(!0)}function br(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(s.a)(!0);var i=r.map((function(r){return S((function(){var i,o=pr(r,e,n);if(function(t){return t&&Jn(t.canActivate)}(o))i=nn(o.canActivate(e,t));else{if(!Jn(o))throw new Error("Invalid CanActivate guard");i=nn(o(e,t))}return i.pipe(nt())}))}));return Object(s.a)(i).pipe(yr())}function _r(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return S((function(){var i=e.guards.map((function(i){var o,a=pr(i,e.node,n);if(function(t){return t&&Jn(t.canActivateChild)}(a))o=nn(a.canActivateChild(r,t));else{if(!Jn(a))throw new Error("Invalid CanActivateChild guard");o=nn(a(r,t))}return o.pipe(nt())}));return Object(s.a)(i).pipe(yr())}))}));return Object(s.a)(i).pipe(yr())}var wr=function(){},Cr=function(){function t(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}return t.prototype.recognize=function(){try{var t=Tr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,He),n=new Rn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},He,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new kn(n,e),i=new jn(this.url,r);return this.inheritParamsAndData(i._root),Object(s.a)(i)}catch(o){return new f.a((function(t){return t.error(o)}))}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=Pn(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,i=ln(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}n[t.value.outlet]=t.value})),i.sort((function(t,e){return t.value.outlet===He?-1:e.value.outlet===He?1:t.value.outlet.localeCompare(e.value.outlet)})),i},t.prototype.processSegment=function(t,e,n,r){var i,o;try{for(var a=__values(t),s=a.next();!s.done;s=a.next()){var u=s.value;try{return this.processSegmentAgainstRoute(u,e,n,r)}catch(l){if(!(l instanceof wr))throw l}}}catch(c){i={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}if(this.noLeftoversInUrl(e,n,r))return[];throw new wr},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new wr;if((t.outlet||He)!==r)throw new wr;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?tn(n).parameters:{};i=new Rn(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kr(t),r,t.component,t,Er(e),Sr(e)+n.length,Or(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new wr;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||ze)(n,t,e);if(!r)throw new wr;var i={};en(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new Rn(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kr(t),r,t.component,t,Er(e),Sr(e)+o.length,Or(t))}var l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),c=Tr(e,o,a,l,this.relativeLinkResolution),h=c.segmentGroup,f=c.slicedSegments;if(0===f.length&&h.hasChildren()){var p=this.processChildren(l,h);return[new kn(i,p)]}if(0===l.length&&0===f.length)return[new kn(i,[])];var d=this.processSegment(l,h,f,He);return[new kn(i,d)]},t}();function Er(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Sr(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Tr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return Ir(t,e,n)&&xr(n)!==He}))}(t,n,r)){var o=new an(e,function(t,e,n,r){var i,o,a={};a[He]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;try{for(var s=__values(n),u=s.next();!u.done;u=s.next()){var l=u.value;if(""===l.path&&xr(l)!==He){var c=new an([],{});c._sourceSegment=t,c._segmentIndexShift=e.length,a[xr(l)]=c}}}catch(h){i={error:h}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a}(t,e,r,new an(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return Ir(t,e,n)}))}(t,n,r)){var a=new an(t.segments,function(t,e,n,r,i,o){var a,s,u={};try{for(var l=__values(r),c=l.next();!c.done;c=l.next()){var h=c.value;if(Ir(t,n,h)&&!i[xr(h)]){var f=new an([],{});f._sourceSegment=t,f._segmentIndexShift="legacy"===o?t.segments.length:e.length,u[xr(h)]=f}}}catch(p){a={error:p}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return Object.assign({},i,u)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new an(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Ir(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function xr(t){return t.outlet||He}function kr(t){return t.data||{}}function Or(t){return t.resolve||{}}function Ar(t,e,n,r){var i=pr(t,e,r);return nn(i.resolve?i.resolve(e,n):i(e,n))}function Nr(t){return function(e){return e.pipe(Object(at.a)((function(e){var n=t(e);return n?Object(u.a)(n).pipe(Object(T.a)((function(){return e}))):Object(u.a)([e])})))}}var Dr=function(){},Pr=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),Rr=new r.p("ROUTES"),jr=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(T.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Qe(Je(i.injector.get(Rr)).map($e),i)})))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Object(u.a)(this.loader.load(t)):nn(t()).pipe(Object(rt.a)((function(t){return t instanceof r.u?Object(s.a)(t):Object(u.a)(e.compiler.compileModuleAsync(t))})))},t}(),Mr=function(){},Lr=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function Fr(t){throw t}function Ur(t,e,n){return e.parse("/")}function Vr(t,e){return Object(s.a)(null)}var Hr=function(){function t(t,e,n,i,o,a,s,u){var c=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new l.a,this.errorHandler=Fr,this.malformedUriErrorHandler=Ur,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Vr,afterPreactivation:Vr},this.urlHandlingStrategy=new Lr,this.routeReuseStrategy=new Pr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.w),this.console=o.get(r.Z);var f=o.get(r.y);this.isNgZoneEnabled=f instanceof r.y,this.resetConfig(u),this.currentUrlTree=new on(new an([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new jr(a,s,(function(t){return c.triggerEvent(new Pe(t))}),(function(t){return c.triggerEvent(new Re(t))})),this.routerState=Nn(this.currentUrlTree,this.rootComponentType),this.transitions=new h({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return t.prototype.setupNavigations=function(t){var e=this,n=this.events;return t.pipe(O((function(t){return 0!==t.id})),Object(T.a)((function(t){return Object.assign({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),Object(at.a)((function(t){var r,i,o,a=!1,l=!1;return Object(s.a)(t).pipe(U((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}})),Object(at.a)((function(t){var r,i,o,a,u=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||u)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(s.a)(t).pipe(Object(at.a)((function(t){var r=e.transitions.getValue();return n.next(new Se(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?E.a:[t]})),Object(at.a)((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,function(t){return t.pipe(Object(at.a)((function(t){return function(t,e,n,r,i){return new ar(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(T.a)((function(e){return Object.assign({},t,{urlAfterRedirects:e})})))})))}),U((function(t){e.currentNavigation=Object.assign({},e.currentNavigation,{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe(Object(rt.a)((function(r){return function(t,e,n,r,i,o){return void 0===i&&(i="emptyOnly"),void 0===o&&(o="legacy"),new Cr(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(T.a)((function(t){return Object.assign({},r,{targetSnapshot:t})})));var a})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),U((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),U((function(t){var r=new ke(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(u&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var l=t.id,c=t.extractedUrl,h=t.source,f=t.restoredState,p=t.extras,d=new Se(l,e.serializeUrl(c),h,f);n.next(d);var v=Nn(c,e.rootComponentType).snapshot;return Object(s.a)(Object.assign({},t,{targetSnapshot:v,urlAfterRedirects:c,extras:Object.assign({},p,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),E.a})),Nr((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),U((function(t){var n=new Oe(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),Object(T.a)((function(t){return Object.assign({},t,{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i,o){void 0===o&&(o={canDeactivateChecks:[],canActivateChecks:[]});var a=On(n);return e.children.forEach((function(e){!function(e,n,r,i,o){void 0===o&&(o={canDeactivateChecks:[],canActivateChecks:[]});var a=e.value,s=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!un(t.url,e.url);case"pathParamsOrQueryParamsChange":return!un(t.url,e.url)||!Xe(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Un(t,e)||!Xe(t.queryParams,e.queryParams);case"paramsChange":default:return!Un(t,e)}}(s,a,a.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new hr(i)):(a.data=s.data,a._resolvedData=s._resolvedData),t(e,n,a.component?u?u.children:null:r,i,o),l&&o.canDeactivateChecks.push(new fr(u&&u.outlet&&u.outlet.component||null,s))}else s&&dr(n,u,o),o.canActivateChecks.push(new hr(i)),t(e,null,a.component?u?u.children:null:r,i,o)}(e,a[e.value.outlet],r,i.concat([e.value]),o),delete a[e.value.outlet]})),en(a,(function(t,e){return dr(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),(i=e.ngModule.injector,o=function(t){return e.triggerEvent(t)},function(t){return t.pipe(Object(rt.a)((function(t){var e=t.targetSnapshot,n=t.currentSnapshot,r=t.guards,a=r.canActivateChecks,l=r.canDeactivateChecks;return 0===l.length&&0===a.length?Object(s.a)(Object.assign({},t,{guardsResult:!0})):function(t,e,n,r){return Object(u.a)(t).pipe(Object(rt.a)((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(s.a)(!0);var a=o.map((function(o){var a,s=pr(o,e,i);if(function(t){return t&&Jn(t.canDeactivate)}(s))a=nn(s.canDeactivate(t,e,n,r));else{if(!Jn(s))throw new Error("Invalid CanDeactivate guard");a=nn(s(t,e,n,r))}return a.pipe(nt())}));return Object(s.a)(a).pipe(yr())}(t.component,t.route,n,e,r)})),nt((function(t){return!0!==t}),!0))}(l,e,n,i).pipe(Object(rt.a)((function(t){return t&&"boolean"==typeof t?function(t,e,n,r){return Object(u.a)(e).pipe(lt((function(e){return Object(u.a)([mr(e.route.parent,r),gr(e.route,r),_r(t,e.path,n),br(t,e.route,n)]).pipe(x(),nt((function(t){return!0!==t}),!0))})),nt((function(t){return!0!==t}),!0))}(e,a,i,o):Object(s.a)(t)})),Object(T.a)((function(e){return Object.assign({},t,{guardsResult:e})})))})))}),U((function(t){if(tr(t.guardsResult)){var n=Ke('Redirecting to "'+e.serializeUrl(t.guardsResult)+'"');throw n.url=t.guardsResult,n}})),U((function(t){var n=new Ae(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),O((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new Ie(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),Nr((function(t){if(t.guards.canActivateChecks.length)return Object(s.a)(t).pipe(U((function(t){var n=new Ne(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),function(t,e){return function(n){return n.pipe(Object(rt.a)((function(n){var r=n.targetSnapshot,i=n.guards.canActivateChecks;return i.length?Object(u.a)(i).pipe(lt((function(n){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(s.a)({});if(1===i.length){var o=i[0];return Ar(t[o],e,n,r).pipe(Object(T.a)((function(t){var e;return(e={})[o]=t,e})))}var a={};return Object(u.a)(i).pipe(Object(rt.a)((function(i){return Ar(t[i],e,n,r).pipe(Object(T.a)((function(t){return a[i]=t,t})))}))).pipe(G(),Object(T.a)((function(){return a})))}(t._resolve,t,e,r).pipe(Object(T.a)((function(e){return t._resolvedData=e,t.data=Object.assign({},t.data,Pn(t,n).resolve),null})))}(n.route,r,t,e)})),function(t,e){return arguments.length>=2?function(n){return Object(ct.a)(Object(ut.a)(t,e),R(1),B(e))(n)}:function(e){return Object(ct.a)(Object(ut.a)((function(e,n,r){return t(e,n,r+1)})),R(1))(e)}}((function(t,e){return t})),Object(T.a)((function(t){return n}))):Object(s.a)(n)})))}}(e.paramsInheritanceStrategy,e.ngModule.injector),U((function(t){var n=new De(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})))})),Nr((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(T.a)((function(t){var n,r,i,o,a=(n=e.routeReuseStrategy,r=t.targetSnapshot,i=t.currentRouterState,o=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){(u=r.value)._futureSnapshot=n.value;var i=function(e,n,r){return n.children.map((function(n){var i,o;try{for(var a=__values(r.children),s=a.next();!s.done;s=a.next()){var u=s.value;if(e.shouldReuseRoute(u.value.snapshot,n.value))return t(e,n,u)}}catch(l){i={error:l}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return t(e,n)}))}(e,n,r);return new kn(u,i)}var o=e.retrieve(n.value);if(o){var a=o.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,a),a}var s,u=new Dn(new h((s=n.value).url),new h(s.params),new h(s.queryParams),new h(s.fragment),new h(s.data),s.outlet,s.component,s);return i=n.children.map((function(n){return t(e,n)})),new kn(u,i)}(n,r._root,i?i._root:void 0),new An(o,r));return Object.assign({},t,{targetRouterState:a})})),U((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),function(t,e,n){return Object(T.a)((function(r){return new $n(e,r.targetRouterState,r.currentRouterState,n).activate(t),r}))}(e.rootContexts,e.routeReuseStrategy,(function(t){return e.triggerEvent(t)})),U({next:function(){a=!0},complete:function(){a=!0}}),(r=function(){if(!a&&!l){e.resetUrlToCurrentUrlTree();var r=new Ie(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID "+t.id+" is not equal to the current navigation id "+e.navigationId);n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new ft(r))}),Z((function(r){if(l=!0,(s=r)&&s[Be]){var i=tr(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new Ie(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),t.resolve(!1),i&&e.navigateByUrl(r.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new xe(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(u){t.reject(u)}}var s;return E.a})))})))},t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.getTransition=function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t},t.prototype.setTransition=function(t){this.transitions.next(Object.assign({},this.getTransition(),t))},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.getCurrentNavigation=function(){return this.currentNavigation},t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){Ge(t),this.config=t.map($e),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,i=e.queryParams,o=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,u=e.preserveFragment;Object(r.U)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,c=u?this.currentUrlTree.fragment:o,h=null;if(s)switch(s){case"merge":h=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=a?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Hn(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new qn(!0,0,t);var e=0,n=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return en(r.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),__spread(t,[{outlets:o}])}if(r.segmentPath)return __spread(t,[r.segmentPath])}return"string"!=typeof r?__spread(t,[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):__spread(t,[r])}),[]);return new qn(n,e,r)}(n);if(o.toRoot())return Hn(e.root,new an([],{}),e,r,i);var a=function(t,e,n){if(t.isAbsolute)return new Wn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Wn(n.snapshot._urlSegment,!0,0);var r=Vn(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Wn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?zn(a.segmentGroup,a.index,o.commands):Kn(a.segmentGroup,a.index,o.commands);return Hn(a.segmentGroup,s,e,r,i)}(l,this.currentUrlTree,t,h,c)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1}),Object(r.U)()&&this.isNgZoneEnabled&&!r.y.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=tr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(tr(t))return rn(this.currentUrlTree,t,e);var n=this.parseUrl(t);return rn(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})},t.prototype.processNavigations=function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Te(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))},t.prototype.scheduleNavigation=function(t,e,n,r){var i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,a=null,s=new Promise((function(t,e){o=t,a=e})),u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))},t.prototype.setBrowserUrl=function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),qr=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe((function(t){t instanceof Te&&r.updateTargetUrlAndHref()}))}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Wr(this.skipLocationChange),replaceUrl:Wr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Wr(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Wr(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();function Wr(t){return""===t||!!t}var Br=function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Kr,this.attachRef=null},Kr=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new Br,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),zr=function(){function t(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.m,this.deactivateEvents=new r.m,this.name=i||He,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Qr(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),Qr=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===Dn?this.route:t===Kr?this.childContexts:this.parent.get(t,e)},t}(),Gr=function(){},Yr=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(Z((function(){return Object(s.a)(null)})))},t}(),Zr=function(){function t(){}return t.prototype.preload=function(t,e){return Object(s.a)(null)},t}(),$r=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new jr(e,n,(function(e){return t.triggerEvent(new Pe(e))}),(function(e){return t.triggerEvent(new Re(e))}))}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(O((function(t){return t instanceof Te})),lt((function(){return t.preload()}))).subscribe((function(){}))},t.prototype.preload=function(){var t=this.injector.get(r.w);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var n,r,i=[];try{for(var o=__values(e),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.loadChildren&&!s.canLoad&&s._loadedConfig){var l=s._loadedConfig;i.push(this.processRoutes(l.module,l.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children))}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return Object(u.a)(i).pipe(Object(I.a)(),Object(T.a)((function(t){})))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(Object(rt.a)((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))},t}(),Xr=function(){function t(t,e,n){void 0===n&&(n={}),this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return t.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},t.prototype.createScrollEvents=function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Se?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Te&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))},t.prototype.consumeScrollEvents=function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Ue&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))},t.prototype.scheduleScrollEvent=function(t,e){this.router.triggerEvent(new Ue(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},t.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},t}(),Jr=new r.p("ROUTER_CONFIGURATION"),ti=new r.p("ROUTER_FORROOT_GUARD"),ei=[a.h,{provide:cn,useClass:hn},{provide:Hr,useFactory:ui,deps:[r.g,cn,Kr,a.h,r.q,r.v,r.i,Rr,Jr,[Mr,new r.z],[Dr,new r.z]]},Kr,{provide:Dn,useFactory:li,deps:[Hr]},{provide:r.v,useClass:r.I},$r,Zr,Yr,{provide:Jr,useValue:{enableTracing:!1}}];function ni(){return new r.x("Router",Hr)}var ri=function(){function t(t,e){}return t.forRoot=function(e,n){return{ngModule:t,providers:[ei,si(e),{provide:ti,useFactory:ai,deps:[[Hr,new r.z,new r.H]]},{provide:Jr,useValue:n||{}},{provide:a.i,useFactory:oi,deps:[a.p,[new r.o(a.a),new r.z],Jr]},{provide:Xr,useFactory:ii,deps:[Hr,a.r,Jr]},{provide:Gr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Zr},{provide:r.x,multi:!0,useFactory:ni},[ci,{provide:r.d,multi:!0,useFactory:hi,deps:[ci]},{provide:pi,useFactory:fi,deps:[ci]},{provide:r.b,multi:!0,useExisting:pi}]]}},t.forChild=function(e){return{ngModule:t,providers:[si(e)]}},t}();function ii(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Xr(t,e,n)}function oi(t,e,n){return void 0===n&&(n={}),n.useHash?new a.f(t,e):new a.o(t,e)}function ai(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function si(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Rr,multi:!0,useValue:t}]}function ui(t,e,n,r,i,o,a,s,u,l,c){void 0===u&&(u={});var h=new Hr(null,e,n,r,i,o,a,Je(s));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=vt();h.events.subscribe((function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function li(t){return t.routerState.root}var ci=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new l.a}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(a.g,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(Hr),i=t.injector.get(Jr);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?Object(s.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Jr),n=this.injector.get($r),i=this.injector.get(Xr),o=this.injector.get(Hr),a=this.injector.get(r.g);t===a.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function hi(t){return t.appInitializer.bind(t)}function fi(t){return t.bootstrapListener.bind(t)}var pi=new r.p("Router Initializer"),di=r.ob({encapsulation:2,styles:[],data:{}});function vi(t){return r.Kb(0,[(t()(),r.qb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.pb(1,212992,null,0,zr,[Kr,r.N,r.j,[8,null],r.h],null,null)],(function(t,e){t(e,1,0)}),null)}var yi=r.mb("ng-component",Ve,(function(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"ng-component",[],null,null,null,vi,di)),r.pb(1,49152,null,0,Ve,[],null,null)],null,null)}),{},{},[]),gi=new r.p("NgValueAccessor"),mi=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),bi=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();function _i(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}var wi=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(_i(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(_i(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}(),Ci=new r.p("NgFormSelectorWarning"),Ei=function(){},Si=function(){function t(){}return t.withConfig=function(e){return{ngModule:t,providers:[{provide:Ci,useValue:e.warnOnDeprecatedNgFormSelector}]}},t}();function Ti(t,e,n,r){return Object(F.a)(n)&&(r=n,n=void 0),r?Ti(t,e,n).pipe(Object(T.a)((function(t){return Object(y.a)(t)?r.apply(void 0,__spread(t)):r(t)}))):new f.a((function(r){!function t(e,n,r,i,o){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),a=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var l=e;e.addListener(n,r),a=function(){return l.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,h=e.length;c<h;c++)t(e[c],n,r,i,o)}i.add(a)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)}))}n("D0XW");var Ii=n("VRyK"),xi=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new ki(t))},t}(),ki=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).hasFirst=!1,n.observables=[],n.subscriptions=[],n}return __extends(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],i=Object(m.a)(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var a=this.subscriptions[o];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(e)},e}(g.a);function Oi(t){return function(e){return e.lift(new Ai(t))}}n("/uUt");var Ai=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new Ni(t),r=Object(m.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),Ni=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).seenValue=!1,n}return __extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(g.a),Di=n("zp1y"),Pi=n("3E0/");function Ri(t){return parseInt(""+t,10)}function ji(t){return null!=t?""+t:""}function Mi(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function Li(t){return null!=t}function Fi(t,e){return t&&t.className&&t.className.split&&t.className.split(/\s+/).indexOf(e)>=0}n("w1tV"),"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var Ui,Vi=function(){},Hi=((Ui=function(){this.dismissible=!0,this.type="warning"}).ngInjectableDef=Object(r.Ob)({factory:function(){return new Ui},token:Ui,providedIn:"root"}),Ui),qi=function(){function t(t,e,n){this._renderer=e,this._element=n,this.close=new r.m,this.dismissible=t.dismissible,this.type=t.type}return t.prototype.closeHandler=function(){this.close.emit(null)},t.prototype.ngOnChanges=function(t){var e=t.type;e&&!e.firstChange&&(this._renderer.removeClass(this._element.nativeElement,"alert-"+e.previousValue),this._renderer.addClass(this._element.nativeElement,"alert-"+e.currentValue))},t.prototype.ngOnInit=function(){this._renderer.addClass(this._element.nativeElement,"alert-"+this.type)},t}(),Wi=function(){},Bi=function(){},Ki=function(){},zi=function(){},Qi=function(){function t(t,e,n){this.year=Mi(t)?t:null,this.month=Mi(e)?e:null,this.day=Mi(n)?n:null}return t.from=function(e){return e instanceof t?e:e?new t(e.year,e.month,e.day):null},t.prototype.equals=function(t){return t&&this.year===t.year&&this.month===t.month&&this.day===t.day},t.prototype.before=function(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day<t.day:this.month<t.month:this.year<t.year)},t.prototype.after=function(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day>t.day:this.month>t.month:this.year>t.year)},t}();function Gi(t){return new Qi(t.getFullYear(),t.getMonth()+1,t.getDate())}function Yi(t){var e=new Date(t.year,t.month-1,t.day,12);return isNaN(e.getTime())||e.setFullYear(t.year),e}function Zi(){return new Ji}var $i,Xi=(($i=function(){}).ngInjectableDef=Object(r.Ob)({factory:Zi,token:$i,providedIn:"root"}),$i),Ji=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getDaysPerWeek=function(){return 7},e.prototype.getMonths=function(){return[1,2,3,4,5,6,7,8,9,10,11,12]},e.prototype.getWeeksPerMonth=function(){return 6},e.prototype.getNext=function(t,e,n){void 0===e&&(e="d"),void 0===n&&(n=1);var r=Yi(t),i=!0,o=r.getMonth();switch(e){case"y":r.setFullYear(r.getFullYear()+n);break;case"m":r.setMonth(o+=n),(o%=12)<0&&(o+=12);break;case"d":r.setDate(r.getDate()+n),i=!1;break;default:return t}return i&&r.getMonth()!==o&&r.setDate(0),Gi(r)},e.prototype.getPrev=function(t,e,n){return void 0===e&&(e="d"),void 0===n&&(n=1),this.getNext(t,e,-n)},e.prototype.getWeekday=function(t){var e=Yi(t).getDay();return 0===e?7:e},e.prototype.getWeekNumber=function(t,e){7===e&&(e=0);var n=Yi(t[(11-e)%7]);n.setDate(n.getDate()+4-(n.getDay()||7));var r=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((r-n.getTime())/864e5)/7)+1},e.prototype.getToday=function(){return Gi(new Date)},e.prototype.isValid=function(t){if(!(t&&Mi(t.year)&&Mi(t.month)&&Mi(t.day)))return!1;if(0===t.year)return!1;var e=Yi(t);return!isNaN(e.getTime())&&e.getFullYear()===t.year&&e.getMonth()+1===t.month&&e.getDate()===t.day},e}(Xi);function to(t,e){return!function(t,e){return!t&&!e||!!t&&!!e&&t.equals(e)}(t,e)}function eo(t,e){return!(!t&&!e||t&&e&&t.year===e.year&&t.month===e.month)}function no(t,e,n){return t&&e&&t.before(e)?e:t&&n&&t.after(n)?n:t}function ro(t,e){var n=e.minDate,r=e.maxDate,i=e.disabled,o=e.markDisabled;return!(!Li(t)||i||o&&o(t,{year:t.year,month:t.month})||n&&t.before(n)||r&&t.after(r))}var io,oo,ao=((io=function(){function t(){}return t.prototype.getDayNumerals=function(t){return""+t.day},t.prototype.getWeekNumerals=function(t){return""+t},t.prototype.getYearNumerals=function(t){return""+t},t}()).ngInjectableDef=Object(r.Ob)({factory:function(){return t=Object(r.Pb)(r.t),new so(t);var t},token:io,providedIn:"root"}),io),so=function(t){function e(e){var n=this;(n=t.call(this)||this)._locale=e;var r=Object(a.t)(e,a.e.Standalone,a.q.Short);return n._weekdaysShort=r.map((function(t,e){return r[(e+1)%7]})),n._monthsShort=Object(a.v)(e,a.e.Standalone,a.q.Abbreviated),n._monthsFull=Object(a.v)(e,a.e.Standalone,a.q.Wide),n}return __extends(e,t),e.prototype.getWeekdayShortName=function(t){return this._weekdaysShort[t-1]},e.prototype.getMonthShortName=function(t){return this._monthsShort[t-1]},e.prototype.getMonthFullName=function(t){return this._monthsFull[t-1]},e.prototype.getDayAriaLabel=function(t){var e=new Date(t.year,t.month-1,t.day);return Object(a.s)(e,"fullDate",this._locale)},e}(ao),uo=function(){function t(t,e){this._calendar=t,this._i18n=e,this._model$=new l.a,this._select$=new l.a,this._state={disabled:!1,displayMonths:1,firstDayOfWeek:1,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectBoxes:{years:[],months:[]},selectedDate:null}}return Object.defineProperty(t.prototype,"model$",{get:function(){return this._model$.pipe(O((function(t){return t.months.length>0})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"select$",{get:function(){return this._select$.pipe(O((function(t){return null!==t})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dayTemplateData",{set:function(t){this._state.dayTemplateData!==t&&this._nextState({dayTemplateData:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{set:function(t){this._state.disabled!==t&&this._nextState({disabled:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMonths",{set:function(t){Mi(t=Ri(t))&&t>0&&this._state.displayMonths!==t&&this._nextState({displayMonths:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstDayOfWeek",{set:function(t){Mi(t=Ri(t))&&t>=0&&this._state.firstDayOfWeek!==t&&this._nextState({firstDayOfWeek:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusVisible",{set:function(t){this._state.focusVisible===t||this._state.disabled||this._nextState({focusVisible:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDate",{set:function(t){var e=this.toValidDate(t,null);to(this._state.maxDate,e)&&this._nextState({maxDate:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markDisabled",{set:function(t){this._state.markDisabled!==t&&this._nextState({markDisabled:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minDate",{set:function(t){var e=this.toValidDate(t,null);to(this._state.minDate,e)&&this._nextState({minDate:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"navigation",{set:function(t){this._state.navigation!==t&&this._nextState({navigation:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outsideDays",{set:function(t){this._state.outsideDays!==t&&this._nextState({outsideDays:t})},enumerable:!0,configurable:!0}),t.prototype.focus=function(t){!this._state.disabled&&this._calendar.isValid(t)&&to(this._state.focusDate,t)&&this._nextState({focusDate:t})},t.prototype.focusMove=function(t,e){this.focus(this._calendar.getNext(this._state.focusDate,t,e))},t.prototype.focusSelect=function(){ro(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})},t.prototype.open=function(t){var e=this.toValidDate(t,this._calendar.getToday());this._state.disabled||this._state.firstDate&&!eo(this._state.firstDate,t)||this._nextState({firstDate:e})},t.prototype.select=function(t,e){void 0===e&&(e={});var n=this.toValidDate(t,null);this._state.disabled||(to(this._state.selectedDate,n)&&this._nextState({selectedDate:n}),e.emitEvent&&ro(n,this._state)&&this._select$.next(n))},t.prototype.toValidDate=function(t,e){var n=Qi.from(t);return void 0===e&&(e=this._calendar.getToday()),this._calendar.isValid(n)?n:e},t.prototype._nextState=function(t){var e=this._updateState(t);this._patchContexts(e),this._state=e,this._model$.next(this._state)},t.prototype._patchContexts=function(t){var e=t.months,n=t.displayMonths,r=t.selectedDate,i=t.focusDate,o=t.focusVisible,a=t.disabled,s=t.outsideDays;t.months.forEach((function(t){t.weeks.forEach((function(u){u.days.forEach((function(u){i&&(u.context.focused=i.equals(u.date)&&o),u.tabindex=!a&&u.date.equals(i)&&i.month===t.number?0:-1,!0===a&&(u.context.disabled=!0),void 0!==r&&(u.context.selected=null!==r&&r.equals(u.date)),t.number!==u.date.month&&(u.hidden="hidden"===s||"collapsed"===s||n>1&&u.date.after(e[0].firstDate)&&u.date.before(e[n-1].lastDate))}))}))}))},t.prototype._updateState=function(t){var e,n,r,i,o=Object.assign({},this._state,t),a=o.firstDate;if(("minDate"in t||"maxDate"in t)&&(function(t,e){if(e&&t&&e.before(t))throw new Error("'maxDate' "+e+" should be greater than 'minDate' "+t)}(o.minDate,o.maxDate),o.focusDate=no(o.focusDate,o.minDate,o.maxDate),o.firstDate=no(o.firstDate,o.minDate,o.maxDate),a=o.focusDate),"disabled"in t&&(o.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(a=o.selectedDate),"focusVisible"in t)return o;if("focusDate"in t&&(o.focusDate=no(o.focusDate,o.minDate,o.maxDate),a=o.focusDate,0!==o.months.length&&!o.focusDate.before(o.firstDate)&&!o.focusDate.after(o.lastDate)))return o;if("firstDate"in t&&(o.firstDate=no(o.firstDate,o.minDate,o.maxDate),a=o.firstDate),a){var s=function(t,e,n,r,i){var o=n.displayMonths,a=n.months,s=a.splice(0,a.length);return Array.from({length:o},(function(n,r){var o=Object.assign(t.getNext(e,"m",r),{day:1});if(a[r]=null,!i){var u=s.findIndex((function(t){return t.firstDate.equals(o)}));-1!==u&&(a[r]=s.splice(u,1)[0])}return o})).forEach((function(e,i){null===a[i]&&(a[i]=function(t,e,n,r,i){void 0===i&&(i={});var o=n.dayTemplateData,a=n.minDate,s=n.maxDate,u=n.firstDayOfWeek,l=n.markDisabled,c=n.outsideDays,h=t.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function(t,e,n){var r=t.getDaysPerWeek(),i=new Qi(e.year,e.month,1),o=t.getWeekday(i)%r;return t.getPrev(i,"d",(r+o-n)%r)}(t,e,u);for(var f=0;f<t.getWeeksPerMonth();f++){var p=i.weeks[f];p||(p=i.weeks[f]={number:0,days:[],collapsed:!0});for(var d=p.days,v=0;v<t.getDaysPerWeek();v++){0===f&&(i.weekdays[v]=t.getWeekday(e));var y=new Qi(e.year,e.month,e.day),g=t.getNext(y),m=r.getDayAriaLabel(y),b=!!(a&&y.before(a)||s&&y.after(s));!b&&l&&(b=l(y,{month:i.number,year:i.year}));var _=y.equals(h),w=o?o(y,{month:i.number,year:i.year}):void 0;null===i.firstDate&&y.month===i.number&&(i.firstDate=y),y.month===i.number&&g.month!==i.number&&(i.lastDate=y);var C=d[v];C||(C=d[v]={}),C.date=y,C.context=Object.assign(C.context||{},{$implicit:y,date:y,data:w,currentMonth:i.number,disabled:b,focused:!1,selected:!1,today:_}),C.tabindex=-1,C.ariaLabel=m,C.hidden=!1,e=g}p.number=t.getWeekNumber(d.map((function(t){return t.date})),u),p.collapsed="collapsed"===c&&d[0].date.month!==i.number&&d[d.length-1].date.month!==i.number}return i}(t,e,n,r,s.shift()||{}))})),a}(this._calendar,a,o,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t);o.months=s,o.firstDate=s.length>0?s[0].firstDate:void 0,o.lastDate=s.length>0?s[s.length-1].lastDate:void 0,"selectedDate"in t&&!ro(o.selectedDate,o)&&(o.selectedDate=null),"firstDate"in t&&(void 0===o.focusDate||o.focusDate.before(o.firstDate)||o.focusDate.after(o.lastDate))&&(o.focusDate=a);var u=!this._state.firstDate||this._state.firstDate.year!==o.firstDate.year,l=!this._state.firstDate||this._state.firstDate.month!==o.firstDate.month;"select"===o.navigation?(("minDate"in t||"maxDate"in t||0===o.selectBoxes.years.length||u)&&(o.selectBoxes.years=function(t,e,n){if(!t)return[];for(var r=e?Math.max(e.year,t.year-500):t.year-10,i=(n?Math.min(n.year,t.year+500):t.year+10)-r+1,o=Array(i),a=0;a<i;a++)o[a]=r+a;return o}(o.firstDate,o.minDate,o.maxDate)),("minDate"in t||"maxDate"in t||0===o.selectBoxes.months.length||u)&&(o.selectBoxes.months=function(t,e,n,r){if(!e)return[];var i=t.getMonths(e.year);if(n&&e.year===n.year){var o=i.findIndex((function(t){return t===n.month}));i=i.slice(o)}if(r&&e.year===r.year){o=i.findIndex((function(t){return t===r.month}));i=i.slice(0,o+1)}return i}(this._calendar,o.firstDate,o.minDate,o.maxDate))):o.selectBoxes={years:[],months:[]},"arrows"!==o.navigation&&"select"!==o.navigation||!(l||u||"minDate"in t||"maxDate"in t||"disabled"in t)||(o.prevDisabled=o.disabled||(e=this._calendar,n=o.firstDate,r=o.minDate,i=Object.assign(e.getPrev(n,"m"),{day:1}),r&&(i.year===r.year&&i.month<r.month||i.year<r.year&&1===r.month)),o.nextDisabled=o.disabled||function(t,e,n){var r=Object.assign(t.getNext(e,"m"),{day:1});return n&&r.after(n)}(this._calendar,o.lastDate,o.maxDate))}return o},t}(),lo=function(){var t={Tab:9,Enter:13,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40};return t[t.Tab]="Tab",t[t.Enter]="Enter",t[t.Escape]="Escape",t[t.Space]="Space",t[t.PageUp]="PageUp",t[t.PageDown]="PageDown",t[t.End]="End",t[t.Home]="Home",t[t.ArrowLeft]="ArrowLeft",t[t.ArrowUp]="ArrowUp",t[t.ArrowRight]="ArrowRight",t[t.ArrowDown]="ArrowDown",t}(),co=function(){function t(t,e){var n=this;this._service=t,this._calendar=e,t.model$.subscribe((function(t){n._minDate=t.minDate,n._maxDate=t.maxDate,n._firstViewDate=t.firstDate,n._lastViewDate=t.lastDate}))}return t.prototype.processKey=function(t){switch(t.which){case lo.PageUp:this._service.focusMove(t.shiftKey?"y":"m",-1);break;case lo.PageDown:this._service.focusMove(t.shiftKey?"y":"m",1);break;case lo.End:this._service.focus(t.shiftKey?this._maxDate:this._lastViewDate);break;case lo.Home:this._service.focus(t.shiftKey?this._minDate:this._firstViewDate);break;case lo.ArrowLeft:this._service.focusMove("d",-1);break;case lo.ArrowUp:this._service.focusMove("d",-this._calendar.getDaysPerWeek());break;case lo.ArrowRight:this._service.focusMove("d",1);break;case lo.ArrowDown:this._service.focusMove("d",this._calendar.getDaysPerWeek());break;case lo.Enter:case lo.Space:this._service.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()},t}(),ho=function(){var t={PREV:0,NEXT:1};return t[t.PREV]="PREV",t[t.NEXT]="NEXT",t}(),fo=((oo=function(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1}).ngInjectableDef=Object(r.Ob)({factory:function(){return new oo},token:oo,providedIn:"root"}),oo);function po(){return new go}var vo,yo=((vo=function(){}).ngInjectableDef=Object(r.Ob)({factory:po,token:vo,providedIn:"root"}),vo),go=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromModel=function(t){return t&&Mi(t.year)&&Mi(t.month)&&Mi(t.day)?{year:t.year,month:t.month,day:t.day}:null},e.prototype.toModel=function(t){return t&&Mi(t.year)&&Mi(t.month)&&Mi(t.day)?{year:t.year,month:t.month,day:t.day}:null},e}(yo),mo=function(){function t(t,e,n,i,o,a,s,u,c){var h=this;this._keyMapService=t,this._service=e,this._calendar=n,this.i18n=i,this._cd=a,this._elementRef=s,this._ngbDateAdapter=u,this._ngZone=c,this._destroyed$=new l.a,this.navigate=new r.m,this.select=new r.m,this.onChange=function(t){},this.onTouched=function(){},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach((function(t){return h[t]=o[t]})),e.select$.pipe(Oi(this._destroyed$)).subscribe((function(t){h.select.emit(t)})),e.model$.pipe(Oi(this._destroyed$)).subscribe((function(t){var e=t.firstDate,n=h.model?h.model.firstDate:null,r=!1;if(e.equals(n)||(h.navigate.emit({current:n?{year:n.year,month:n.month}:null,next:{year:e.year,month:e.month},preventDefault:function(){return r=!0}}),!r||null===n)){var i=t.selectedDate,o=t.focusDate,s=h.model?h.model.focusDate:null;h.model=t,to(i,h._controlValue)&&(h._controlValue=i,h.onTouched(),h.onChange(h._ngbDateAdapter.toModel(i))),to(o,s)&&s&&t.focusVisible&&h.focus(),a.markForCheck()}else h._service.open(n)}))}return t.prototype.focus=function(){var t=this;this._ngZone.onStable.asObservable().pipe(J(1)).subscribe((function(){var e=t._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');e&&e.focus()}))},t.prototype.navigateTo=function(t){this._service.open(Qi.from(t?t.day?t:Object.assign({},t,{day:1}):null))},t.prototype.ngAfterViewInit=function(){var t=this;this._ngZone.runOutsideAngular((function(){var e=Ti(t._monthsEl.nativeElement,"focusin"),n=Ti(t._monthsEl.nativeElement,"focusout");Object(Ii.a)(e,n).pipe(O((function(t){var e=t.target,n=t.relatedTarget;return!(Fi(e,"ngb-dp-day")&&Fi(n,"ngb-dp-day"))})),Oi(t._destroyed$)).subscribe((function(e){var n=e.type;return t._ngZone.run((function(){return t._service.focusVisible="focusin"===n}))}))}))},t.prototype.ngOnDestroy=function(){this._destroyed$.next()},t.prototype.ngOnInit=function(){var t=this;void 0===this.model&&(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach((function(e){return t._service[e]=t[e]})),this.navigateTo(this.startDate))},t.prototype.ngOnChanges=function(t){var e=this;if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter((function(e){return e in t})).forEach((function(t){return e._service[t]=e[t]})),"startDate"in t){var n=t.startDate,r=n.currentValue;eo(n.previousValue,r)&&this.navigateTo(this.startDate)}},t.prototype.onDateSelect=function(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})},t.prototype.onKeyDown=function(t){this._keyMapService.processKey(t)},t.prototype.onNavigateDateSelect=function(t){this._service.open(t)},t.prototype.onNavigateEvent=function(t){switch(t){case ho.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case ho.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._service.disabled=t},t.prototype.writeValue=function(t){this._controlValue=Qi.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)},t}(),bo=function(){function t(t){this.i18n=t,this.select=new r.m}return t.prototype.doSelect=function(t){t.context.disabled||t.hidden||this.select.emit(t.date)},t}(),_o=function(){function t(t){this.i18n=t,this.navigation=ho,this.months=[],this.navigate=new r.m,this.select=new r.m}return t.prototype.onClickPrev=function(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)},t.prototype.onClickNext=function(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)},t}(),wo=function(t,e){return!!e&&e.some((function(e){return e.contains(t)}))},Co=function(t,e){return!e||null!=function(t,e){return e?t.closest(e):null}(t,e)},Eo=!1;"undefined"!=typeof navigator&&(Eo=!!navigator.userAgent&&/iPad|iPhone|iPod/.test(navigator.userAgent));var So=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function To(t){var e=Array.from(t.querySelectorAll(So)).filter((function(t){return-1!==t.tabIndex}));return[e[0],e[e.length-1]]}var Io,xo,ko,Oo,Ao,No=function(t,e,n,r){void 0===r&&(r=!1),t.runOutsideAngular((function(){var t=Ti(e,"focusin").pipe(Oi(n),Object(T.a)((function(t){return t.target})));Ti(e,"keydown").pipe(Oi(n),O((function(t){return t.which===lo.Tab})),Object(Di.a)(t)).subscribe((function(t){var n=__read(t,2),r=n[0],i=n[1],o=__read(To(e),2),a=o[0],s=o[1];i!==a&&i!==e||!r.shiftKey||(s.focus(),r.preventDefault()),i!==s||r.shiftKey||(a.focus(),r.preventDefault())})),r&&Ti(e,"click").pipe(Oi(n),Object(Di.a)(t),Object(T.a)((function(t){return t[1]}))).subscribe((function(t){return t.focus()}))}))},Do=function(){function t(){}return t.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},t.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},t.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},t.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},t.prototype.position=function(t,e){void 0===e&&(e=!0);var n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n={top:(n=t.getBoundingClientRect()).top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{var i=this.offsetParent(t);n=this.offset(t,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},t.prototype.offset=function(t,e){void 0===e&&(e=!0);var n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},t.prototype.positionElements=function(t,e,n,r){var i=__read(n.split("-"),2),o=i[0],a=void 0===o?"top":o,s=i[1],u=void 0===s?"center":s,l=r?this.offset(t,!1):this.position(t,!1),c=this.getAllStyles(e),h=parseFloat(c.marginTop),f=parseFloat(c.marginBottom),p=parseFloat(c.marginLeft),d=parseFloat(c.marginRight),v=0,y=0;switch(a){case"top":v=l.top-(e.offsetHeight+h+f);break;case"bottom":v=l.top+l.height;break;case"left":y=l.left-(e.offsetWidth+p+d);break;case"right":y=l.left+l.width}switch(u){case"top":v=l.top;break;case"bottom":v=l.top+l.height-e.offsetHeight;break;case"left":y=l.left;break;case"right":y=l.left+l.width-e.offsetWidth;break;case"center":"top"===a||"bottom"===a?y=l.left+l.width/2-e.offsetWidth/2:v=l.top+l.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(y)+"px, "+Math.round(v)+"px)";var g=e.getBoundingClientRect(),m=document.documentElement,b=window.innerHeight||m.clientHeight,_=window.innerWidth||m.clientWidth;return g.left>=0&&g.top>=0&&g.right<=_&&g.bottom<=b},t}(),Po=/\s+/,Ro=new Do,jo=function(){function t(t){this.i18n=t}return t.prototype.isMuted=function(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)},t}(),Mo=function(){function t(t,e){this.i18n=t,this._renderer=e,this.select=new r.m,this._month=-1,this._year=-1}return t.prototype.changeMonth=function(t){this.select.emit(new Qi(this.date.year,Ri(t),1))},t.prototype.changeYear=function(t){this.select.emit(new Qi(Ri(t),this.date.month,1))},t.prototype.ngAfterViewChecked=function(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))},t}(),Lo=function(){},Fo=((Io=function(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}).ngInjectableDef=Object(r.Ob)({factory:function(){return new Io},token:Io,providedIn:"root"}),Io),Uo=function(){},Vo=function(t){this.dropdown=t,this.placement="bottom",this.isOpen=!1},Ho=function(){function t(t,e){this.dropdown=t,this._elementRef=e,this.anchorEl=e.nativeElement}return t.prototype.getNativeElement=function(){return this._elementRef.nativeElement},t}(),qo=function(t){function e(e,n){return t.call(this,e,n)||this}return __extends(e,t),e}(Ho),Wo=function(){function t(t,e,n,i,o,a,s){var u=this;this._changeDetector=t,this._document=n,this._ngZone=i,this._elementRef=o,this._renderer=a,this._closed$=new l.a,this._open=!1,this.openChange=new r.m,this.placement=e.placement,this.container=e.container,this.autoClose=e.autoClose,this.display=s?"static":"dynamic",this._zoneSubscription=i.onStable.subscribe((function(){u._positionMenu()}))}return t.prototype.ngAfterContentInit=function(){var t=this;this._ngZone.onStable.pipe(J(1)).subscribe((function(){t._applyPlacementClasses(),t._open&&t._setCloseHandlers()}))},t.prototype.ngOnChanges=function(t){t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.isFirstChange&&this._applyPlacementClasses()},t.prototype.isOpen=function(){return this._open},t.prototype.open=function(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers())},t.prototype._setCloseHandlers=function(){var t=this,e=this._anchor;!function(t,e,n,r,i,o,a,s){var u;n&&t.runOutsideAngular((u=function(){var s=Ti(e,"keydown").pipe(Oi(i),O((function(t){return t.which===lo.Escape})),U((function(t){return t.preventDefault()}))),u=Ti(e,"mousedown").pipe(Object(T.a)((function(t){var e=t.target;return 2!==t.button&&!wo(e,a)&&("inside"===n?wo(e,o)&&Co(e,".dropdown-item,.dropdown-divider"):"outside"===n?!wo(e,o):Co(e,".dropdown-item,.dropdown-divider")||!wo(e,o))})),Oi(i));(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!Object(y.a)(t[0]))return t[0];t=t[0]}return Object(b.a)(t,void 0).lift(new xi)})([s,Ti(e,"mouseup").pipe(Object(Di.a)(u),O((function(t){var e=__read(t,2);return e[0],e[1]})),Object(Pi.a)(0),Oi(i))]).subscribe((function(){return t.run(r)}))},Eo?function(){return setTimeout((function(){return u()}),100)}:u))}(this._ngZone,this._document,this.autoClose,(function(){return t.close()}),this._closed$,this._menu?[this._menuElement.nativeElement]:[],e?[e.getNativeElement()]:[])},t.prototype.close=function(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())},t.prototype.toggle=function(){this.isOpen()?this.close():this.open()},t.prototype.ngOnDestroy=function(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()},t.prototype.onKeyDown=function(t){var e=this,n=t.which,r=this._getMenuElements(),i=-1,o=!1,a=this._isEventFromToggle(t);if(!a&&r.length&&r.forEach((function(n,r){n.contains(t.target)&&(o=!0),n===e._document.activeElement&&(i=r)})),n!==lo.Space&&n!==lo.Enter){if(a||o){if(this.open(),r.length){switch(n){case lo.ArrowDown:i=Math.min(i+1,r.length-1);break;case lo.ArrowUp:if(this._isDropup()&&-1===i){i=r.length-1;break}i=Math.max(i-1,0);break;case lo.Home:i=0;break;case lo.End:i=r.length-1}r[i].focus()}t.preventDefault()}}else!o||!0!==this.autoClose&&"inside"!==this.autoClose||this.close()},t.prototype._isDropup=function(){return this._elementRef.nativeElement.classList.contains("dropup")},t.prototype._isEventFromToggle=function(t){return this._anchor.getNativeElement().contains(t.target)},t.prototype._getMenuElements=function(){var t=this._menu;return null==t?[]:t.menuItems.filter((function(t){return!t.disabled})).map((function(t){return t.elementRef.nativeElement}))},t.prototype._positionMenu=function(){var t=this._menu;this.isOpen()&&t&&this._applyPlacementClasses("dynamic"===this.display?function(t,e,n,r,i){var o,a,s=Array.isArray(n)?n:n.split(Po),u=function(t){var e=__read(t.split("-"),2);e[0],e[1];return[]},l=s.findIndex((function(t){return"auto"===t}));l>=0&&["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].forEach((function(t){null==s.find((function(e){return-1!==e.search("^"+t)}))&&s.splice(l++,1,t)}));var c,h=e.style;h.position="absolute",h.top="0",h.left="0",h["will-change"]="transform";var f=!1;try{for(var p=__values(s),d=p.next();!d.done;d=p.next())if(u(c=d.value),Ro.positionElements(t,e,c,r)){f=!0;break}}catch(v){o={error:v}}finally{try{d&&!d.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}return f||(u(c=s[0]),Ro.positionElements(t,e,c,r)),c}(this._anchor.anchorEl,this._bodyContainer||this._menuElement.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))},t.prototype._getFirstPlacement=function(t){return Array.isArray(t)?t[0]:t.split(" ")[0]},t.prototype._resetContainer=function(){var t=this._renderer,e=this._menuElement;if(e){var n=e.nativeElement;t.appendChild(this._elementRef.nativeElement,n),t.removeStyle(n,"position"),t.removeStyle(n,"transform")}this._bodyContainer&&(t.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)},t.prototype._applyContainer=function(t){if(void 0===t&&(t=null),this._resetContainer(),"body"===t){var e=this._renderer,n=this._menuElement.nativeElement,r=this._bodyContainer=this._bodyContainer||e.createElement("div");e.setStyle(r,"position","absolute"),e.setStyle(n,"position","static"),e.setStyle(r,"z-index","1050"),e.appendChild(r,n),e.appendChild(this._document.body,r)}},t.prototype._applyPlacementClasses=function(t){var e=this._menu;if(e){t||(t=this._getFirstPlacement(this.placement));var n=this._renderer,r=this._elementRef.nativeElement;n.removeClass(r,"dropup"),n.removeClass(r,"dropdown"),e.placement="static"===this.display?null:t;var i=-1!==t.search("^top")?"dropup":"dropdown";n.addClass(r,i);var o=this._bodyContainer;o&&(n.removeClass(o,"dropup"),n.removeClass(o,"dropdown"),n.addClass(o,i))}},t}(),Bo=function(){},Ko=((xo=function(){this.backdrop=!0,this.keyboard=!0}).ngInjectableDef=Object(r.Ob)({factory:function(){return new xo},token:xo,providedIn:"root"}),xo),zo=function(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n},Qo=function(){},Go=((ko=function(){function t(t){this._document=t}return t.prototype.compensate=function(){return this._isPresent()?this._adjustBody(this._getWidth()):Qo},t.prototype._adjustBody=function(t){var e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=r+t+"px",function(){return e.style["padding-right"]=n}},t.prototype._isPresent=function(){var t=this._document.body.getBoundingClientRect();return t.left+t.right<window.innerWidth},t.prototype._getWidth=function(){var t=this._document.createElement("div");t.className="modal-scrollbar-measure";var e=this._document.body;e.appendChild(t);var n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n},t}()).ngInjectableDef=Object(r.Ob)({factory:function(){return new ko(Object(r.Pb)(a.d))},token:ko,providedIn:"root"}),ko),Yo=function(){},Zo=function(){function t(){}return t.prototype.close=function(t){},t.prototype.dismiss=function(t){},t}(),$o=function(){function t(t,e,n,r){var i=this;this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,t.instance.dismissEvent.subscribe((function(t){i.dismiss(t)})),this.result=new Promise((function(t,e){i._resolve=t,i._reject=e})),this.result.then(null,(function(){}))}return Object.defineProperty(t.prototype,"componentInstance",{get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance},enumerable:!0,configurable:!0}),t.prototype.close=function(t){this._windowCmptRef&&(this._resolve(t),this._removeModalElements())},t.prototype._dismiss=function(t){this._reject(t),this._removeModalElements()},t.prototype.dismiss=function(t){var e=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then((function(n){!1!==n&&e._dismiss(t)}),(function(){})):!1!==n&&this._dismiss(t)}else this._dismiss(t)},t.prototype._removeModalElements=function(){var t=this._windowCmptRef.location.nativeElement;if(t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._backdropCmptRef){var e=this._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null},t}(),Xo=function(){var t={BACKDROP_CLICK:0,ESC:1};return t[t.BACKDROP_CLICK]="BACKDROP_CLICK",t[t.ESC]="ESC",t}(),Jo=function(){function t(t,e,n){var i=this;this._document=t,this._elRef=e,this._zone=n,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.m,n.runOutsideAngular((function(){Ti(i._elRef.nativeElement,"keydown").pipe(Oi(i.dismissEvent),O((function(t){return t.which===lo.Escape&&i.keyboard}))).subscribe((function(t){return requestAnimationFrame((function(){t.defaultPrevented||n.run((function(){return i.dismiss(Xo.ESC)}))}))}));var t=Ti(i._elRef.nativeElement,"mousedown").pipe(Oi(i.dismissEvent),Object(T.a)((function(t){return!0===i.backdrop&&i._elRef.nativeElement===t.target})));Ti(i._elRef.nativeElement,"mouseup").pipe(Oi(i.dismissEvent),Object(Di.a)(t),O((function(t){var e=__read(t,2);e[0];return e[1]}))).subscribe((function(){return i._zone.run((function(){return i.dismiss(Xo.BACKDROP_CLICK)}))}))}))}return t.prototype.dismiss=function(t){this.dismissEvent.emit(t)},t.prototype.ngOnInit=function(){this._elWithFocus=this._document.activeElement},t.prototype.ngAfterViewInit=function(){if(!this._elRef.nativeElement.contains(document.activeElement)){var t=this._elRef.nativeElement.querySelector("[ngbAutofocus]"),e=To(this._elRef.nativeElement)[0];(t||e||this._elRef.nativeElement).focus()}},t.prototype.ngOnDestroy=function(){var t,e=this,n=this._document.body,r=this._elWithFocus;t=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular((function(){setTimeout((function(){return t.focus()})),e._elWithFocus=null}))},t}(),ta=((Ao=function(){function t(t,e,n,r,i,o){var a=this;this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=r,this._rendererFactory=i,this._ngZone=o,this._activeWindowCmptHasChanged=new l.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe((function(){if(a._windowCmpts.length){var t=a._windowCmpts[a._windowCmpts.length-1];No(a._ngZone,t.location.nativeElement,a._activeWindowCmptHasChanged),a._revertAriaHidden(),a._setAriaHidden(t.location.nativeElement)}}))}return t.prototype.open=function(t,e,n,r){var i=this,o=Li(r.container)?this._document.querySelector(r.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),u=function(){i._modalRefs.length||(a.removeClass(i._document.body,"modal-open"),i._revertAriaHidden())};if(!o)throw new Error('The specified modal container "'+(r.container||"body")+'" was not found in the DOM.');var l=new Zo,c=this._getContentRef(t,r.injector||e,n,l,r),h=!1!==r.backdrop?this._attachBackdrop(t,o):null,f=this._attachWindowComponent(t,o,c),p=new $o(f,c,h,r.beforeDismiss);return this._registerModalRef(p),this._registerWindowCmpt(f),p.result.then(s,s),p.result.then(u,u),l.close=function(t){p.close(t)},l.dismiss=function(t){p.dismiss(t)},this._applyWindowOptions(f.instance,r),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),h&&h.instance&&this._applyBackdropOptions(h.instance,r),p},t.prototype.dismissAll=function(t){this._modalRefs.forEach((function(e){return e.dismiss(t)}))},t.prototype.hasOpenModals=function(){return this._modalRefs.length>0},t.prototype._attachBackdrop=function(t,e){var n=t.resolveComponentFactory(Yo).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n},t.prototype._attachWindowComponent=function(t,e,n){var r=t.resolveComponentFactory(Jo).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r},t.prototype._applyWindowOptions=function(t,e){this._windowAttributes.forEach((function(n){Li(e[n])&&(t[n]=e[n])}))},t.prototype._applyBackdropOptions=function(t,e){this._backdropAttributes.forEach((function(n){Li(e[n])&&(t[n]=e[n])}))},t.prototype._getContentRef=function(t,e,n,i,o){return n?n instanceof r.K?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,o):new zo([])},t.prototype._createFromTemplateRef=function(t,e){var n=t.createEmbeddedView({$implicit:e,close:function(t){e.close(t)},dismiss:function(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new zo([n.rootNodes],n)},t.prototype._createFromString=function(t){var e=this._document.createTextNode(""+t);return new zo([[e]])},t.prototype._createFromComponent=function(t,e,n,i,o){var a=t.resolveComponentFactory(n),s=r.q.create({providers:[{provide:Zo,useValue:i}],parent:e}),u=a.create(s),l=u.location.nativeElement;return o.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new zo([[l]],u.hostView,u)},t.prototype._setAriaHidden=function(t){var e=this,n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach((function(n){n!==t&&"SCRIPT"!==n.nodeName&&(e._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))})),this._setAriaHidden(n))},t.prototype._revertAriaHidden=function(){this._ariaHiddenValues.forEach((function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")})),this._ariaHiddenValues.clear()},t.prototype._registerModalRef=function(t){var e=this,n=function(){var n=e._modalRefs.indexOf(t);n>-1&&e._modalRefs.splice(n,1)};this._modalRefs.push(t),t.result.then(n,n)},t.prototype._registerWindowCmpt=function(t){var e=this;this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy((function(){var n=e._windowCmpts.indexOf(t);n>-1&&(e._windowCmpts.splice(n,1),e._activeWindowCmptHasChanged.next())}))},t}()).ngInjectableDef=Object(r.Ob)({factory:function(){return new Ao(Object(r.Pb)(r.g),Object(r.Pb)(r.n),Object(r.Pb)(a.d),Object(r.Pb)(Go),Object(r.Pb)(r.D),Object(r.Pb)(r.y))},token:Ao,providedIn:"root"}),Ao),ea=((Oo=function(){function t(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}return t.prototype.open=function(t,e){void 0===e&&(e={});var n=Object.assign({},this._config,e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)},t.prototype.dismissAll=function(t){this._modalStack.dismissAll(t)},t.prototype.hasOpenModals=function(){return this._modalStack.hasOpenModals()},t}()).ngInjectableDef=Object(r.Ob)({factory:function(){return new Oo(Object(r.Pb)(r.j),Object(r.Pb)(r.n),Object(r.Pb)(ta),Object(r.Pb)(Ko))},token:Oo,providedIn:"root"}),Oo),na=function(){},ra=function(){},ia=function(){function t(){}return t.prototype.isTitleTemplate=function(){return this.title instanceof r.K},t}(),oa=function(){},aa=function(){},sa=function(){},ua=function(){},la=function(){},ca=function(){},ha=function(){},fa=function(){},pa=function(){function t(){this.highlightClass="ngb-highlight"}return t.prototype.ngOnChanges=function(t){var e=ji(this.result),n=(Array.isArray(this.term)?this.term:[this.term]).map((function(t){return ji(t).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")})).filter((function(t){return t}));this.parts=n.length?e.split(new RegExp("("+n.join("|")+")","gmi")):[e]},t}(),da=function(){function t(){this.activeIdx=0,this.focusFirst=!0,this.formatter=ji,this.selectEvent=new r.m,this.activeChangeEvent=new r.m}return t.prototype.hasActive=function(){return this.activeIdx>-1&&this.activeIdx<this.results.length},t.prototype.getActive=function(){return this.results[this.activeIdx]},t.prototype.markActive=function(t){this.activeIdx=t,this._activeChanged()},t.prototype.next=function(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()},t.prototype.prev=function(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()},t.prototype.resetActive=function(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()},t.prototype.select=function(t){this.selectEvent.emit(t)},t.prototype.ngOnInit=function(){this.resetActive()},t.prototype._activeChanged=function(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)},t}(),va=function(){},ya=function(){},ga=r.ob({encapsulation:2,styles:["ngb-alert{display:block}"],data:{}});function ma(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.closeHandler()&&r),r}),null,null)),(t()(),r.qb(1,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),r.Ib(-1,null,["\xd7"]))],null,null)}function ba(t){return r.Kb(2,[r.Bb(null,0),(t()(),r.fb(16777216,null,null,1,null,ma)),r.pb(2,16384,null,0,a.k,[r.N,r.K],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,e.component.dismissible)}),null)}var _a=r.mb("ngb-alert",qi,(function(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],null,null,ba,ga)),r.pb(1,638976,null,0,qi,[Hi,r.C,r.k],null,null)],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,r.Cb(e,1).dismissible)}))}),{dismissible:"dismissible",type:"type"},{close:"close"},["*"]),wa=r.ob({encapsulation:2,styles:['ngb-datepicker-month-view{display:block}.ngb-dp-week-number,.ngb-dp-weekday{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default}.ngb-dp-day[tabindex="0"]{z-index:1}'],data:{}});function Ca(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,0,"div",[["class","ngb-dp-weekday ngb-dp-showweek"]],null,null,null,null,null))],null,null)}function Ea(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"div",[["class","ngb-dp-weekday small"],["role","columnheader"]],null,null,null,null,null)),(t()(),r.Ib(1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.component.i18n.getWeekdayShortName(e.context.$implicit))}))}function Sa(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,4,"div",[["class","ngb-dp-week ngb-dp-weekdays"],["role","row"]],null,null,null,null,null)),(t()(),r.fb(16777216,null,null,1,null,Ca)),r.pb(2,16384,null,0,a.k,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.fb(16777216,null,null,1,null,Ea)),r.pb(4,278528,null,0,a.j,[r.N,r.K,r.r],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.showWeekNumbers),t(e,4,0,n.month.weekdays)}),null)}function Ta(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"div",[["class","ngb-dp-week-number small text-muted"]],null,null,null,null,null)),(t()(),r.Ib(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.i18n.getWeekNumerals(e.parent.parent.context.$implicit.number))}))}function Ia(t){return r.Kb(0,[(t()(),r.fb(0,null,null,0))],null,null)}function xa(t){return r.Kb(0,[(t()(),r.fb(16777216,null,null,1,null,Ia)),r.pb(1,540672,null,0,a.n,[r.N],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(t()(),r.fb(0,null,null,0))],(function(t,e){t(e,1,0,e.parent.context.$implicit.context,e.component.dayTemplate)}),null)}function ka(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,2,"div",[["class","ngb-dp-day"],["role","gridcell"]],[[2,"disabled",null],[8,"tabIndex",0],[2,"hidden",null],[2,"ngb-dp-today",null],[1,"aria-label",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.doSelect(t.context.$implicit)&&r),r}),null,null)),(t()(),r.fb(16777216,null,null,1,null,xa)),r.pb(2,16384,null,0,a.k,[r.N,r.K],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,!e.context.$implicit.hidden)}),(function(t,e){t(e,0,0,e.context.$implicit.context.disabled,e.context.$implicit.tabindex,e.context.$implicit.hidden,e.context.$implicit.context.today,e.context.$implicit.ariaLabel)}))}function Oa(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,4,"div",[["class","ngb-dp-week"],["role","row"]],null,null,null,null,null)),(t()(),r.fb(16777216,null,null,1,null,Ta)),r.pb(2,16384,null,0,a.k,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.fb(16777216,null,null,1,null,ka)),r.pb(4,278528,null,0,a.j,[r.N,r.K,r.r],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.showWeekNumbers),t(e,4,0,e.parent.context.$implicit.days)}),null)}function Aa(t){return r.Kb(0,[(t()(),r.fb(16777216,null,null,1,null,Oa)),r.pb(1,16384,null,0,a.k,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.fb(0,null,null,0))],(function(t,e){t(e,1,0,!e.context.$implicit.collapsed)}),null)}function Na(t){return r.Kb(0,[(t()(),r.fb(16777216,null,null,1,null,Sa)),r.pb(1,16384,null,0,a.k,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.fb(16777216,null,null,1,null,Aa)),r.pb(3,278528,null,0,a.j,[r.N,r.K,r.r],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.showWeekdays),t(e,3,0,n.month.weeks)}),null)}var Da=r.ob({encapsulation:2,styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:0 0}[ngbDatepickerDayView].outside{opacity:.5}"],data:{}});function Pa(t){return r.Kb(2,[(t()(),r.Ib(0,null,["",""]))],null,(function(t,e){var n=e.component;t(e,0,0,n.i18n.getDayNumerals(n.date))}))}var Ra=r.ob({encapsulation:2,styles:["ngb-datepicker-navigation{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.right .ngb-dp-navigation-chevron{-webkit-transform:rotate(45deg);transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{-ms-flex-pack:end;justify-content:flex-end}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:-ms-flexbox;display:flex;-ms-flex:1 1 9rem;flex:1 1 9rem}"],data:{}});function ja(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"ngb-datepicker-navigation-select",[["class","ngb-dp-navigation-select"]],null,[[null,"select"]],(function(t,e,n){var r=!0;return"select"===e&&(r=!1!==t.component.select.emit(n)&&r),r}),Ba,Ha)),r.pb(1,8437760,null,0,Mo,[ao,r.C],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],years:[3,"years"]},{select:"select"})],(function(t,e){var n=e.component;t(e,1,0,n.date,n.disabled,n.selectBoxes.months,n.selectBoxes.years)}),null)}function Ma(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function La(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function Fa(t){return r.Kb(0,[(t()(),r.fb(16777216,null,null,1,null,Ma)),r.pb(1,16384,null,0,a.k,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.qb(2,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(t()(),r.Ib(3,null,[" "," "," "])),(t()(),r.fb(16777216,null,null,1,null,La)),r.pb(5,16384,null,0,a.k,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.fb(0,null,null,0))],(function(t,e){var n=e.component;t(e,1,0,e.context.index>0),t(e,5,0,e.context.index!==n.months.length-1)}),(function(t,e){var n=e.component;t(e,3,0,n.i18n.getMonthFullName(e.context.$implicit.number,e.context.$implicit.year),n.i18n.getYearNumerals(e.context.$implicit.year))}))}function Ua(t){return r.Kb(0,[(t()(),r.fb(16777216,null,null,1,null,Fa)),r.pb(1,278528,null,0,a.j,[r.N,r.K,r.r],{ngForOf:[0,"ngForOf"]},null),(t()(),r.fb(0,null,null,0))],(function(t,e){t(e,1,0,e.component.months)}),null)}function Va(t){return r.Kb(2,[(t()(),r.qb(0,0,null,null,2,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null)),(t()(),r.qb(1,0,null,null,1,"button",[["aria-label","Previous month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Previous month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onClickPrev(n)&&r),r}),null,null)),(t()(),r.qb(2,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null)),(t()(),r.fb(16777216,null,null,1,null,ja)),r.pb(4,16384,null,0,a.k,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.fb(16777216,null,null,1,null,Ua)),r.pb(6,16384,null,0,a.k,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.qb(7,0,null,null,2,"div",[["class","ngb-dp-arrow right"]],null,null,null,null,null)),(t()(),r.qb(8,0,null,null,1,"button",[["aria-label","Next month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Next month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onClickNext(n)&&r),r}),null,null)),(t()(),r.qb(9,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,4,0,n.showSelect),t(e,6,0,!n.showSelect)}),(function(t,e){var n=e.component;t(e,1,0,n.prevDisabled),t(e,8,0,n.nextDisabled)}))}var Ha=r.ob({encapsulation:2,styles:["ngb-datepicker-navigation-select>.custom-select{-ms-flex:1 1 auto;flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}"],data:{}});function qa(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,3,"option",[],[[1,"aria-label",0]],null,null,null,null)),r.pb(1,147456,null,0,bi,[r.k,r.C,[8,null]],{value:[0,"value"]},null),r.pb(2,147456,null,0,wi,[r.k,r.C,[8,null]],{value:[0,"value"]},null),(t()(),r.Ib(3,null,["",""]))],(function(t,e){t(e,1,0,e.context.$implicit),t(e,2,0,e.context.$implicit)}),(function(t,e){var n=e.component;t(e,0,0,n.i18n.getMonthFullName(e.context.$implicit,null==n.date?null:n.date.year)),t(e,3,0,n.i18n.getMonthShortName(e.context.$implicit,null==n.date?null:n.date.year))}))}function Wa(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.pb(1,147456,null,0,bi,[r.k,r.C,[8,null]],{value:[0,"value"]},null),r.pb(2,147456,null,0,wi,[r.k,r.C,[8,null]],{value:[0,"value"]},null),(t()(),r.Ib(3,null,["",""]))],(function(t,e){t(e,1,0,e.context.$implicit),t(e,2,0,e.context.$implicit)}),(function(t,e){t(e,3,0,e.component.i18n.getYearNumerals(e.context.$implicit))}))}function Ba(t){return r.Kb(2,[r.Gb(402653184,1,{monthSelect:0}),r.Gb(402653184,2,{yearSelect:0}),(t()(),r.qb(2,0,[[1,0],["month",1]],null,2,"select",[["aria-label","Select month"],["class","custom-select"],["title","Select month"]],[[8,"disabled",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.changeMonth(n.target.value)&&r),r}),null,null)),(t()(),r.fb(16777216,null,null,1,null,qa)),r.pb(4,278528,null,0,a.j,[r.N,r.K,r.r],{ngForOf:[0,"ngForOf"]},null),(t()(),r.qb(5,0,[[2,0],["year",1]],null,2,"select",[["aria-label","Select year"],["class","custom-select"],["title","Select year"]],[[8,"disabled",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.changeYear(n.target.value)&&r),r}),null,null)),(t()(),r.fb(16777216,null,null,1,null,Wa)),r.pb(7,278528,null,0,a.j,[r.N,r.K,r.r],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,4,0,n.months),t(e,7,0,n.years)}),(function(t,e){var n=e.component;t(e,2,0,n.disabled),t(e,5,0,n.disabled)}))}var Ka=r.ob({encapsulation:2,styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month-view{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-months{display:-ms-flexbox;display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],data:{}});function za(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"div",[["class","btn-light"],["ngbDatepickerDayView",""]],[[2,"bg-primary",null],[2,"text-white",null],[2,"text-muted",null],[2,"outside",null],[2,"active",null]],null,null,Pa,Da)),r.pb(1,49152,null,0,jo,[ao],{currentMonth:[0,"currentMonth"],date:[1,"date"],disabled:[2,"disabled"],focused:[3,"focused"],selected:[4,"selected"]},null)],(function(t,e){t(e,1,0,e.context.currentMonth,e.context.date,e.context.disabled,e.context.focused,e.context.selected)}),(function(t,e){t(e,0,0,r.Cb(e,1).selected,r.Cb(e,1).selected,r.Cb(e,1).isMuted(),r.Cb(e,1).isMuted(),r.Cb(e,1).focused)}))}function Qa(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"ngb-datepicker-navigation",[],null,[[null,"navigate"],[null,"select"]],(function(t,e,n){var r=!0,i=t.component;return"navigate"===e&&(r=!1!==i.onNavigateEvent(n)&&r),"select"===e&&(r=!1!==i.onNavigateDateSelect(n)&&r),r}),Va,Ra)),r.pb(1,49152,null,0,_o,[ao],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],showSelect:[3,"showSelect"],prevDisabled:[4,"prevDisabled"],nextDisabled:[5,"nextDisabled"],selectBoxes:[6,"selectBoxes"]},{navigate:"navigate",select:"select"})],(function(t,e){var n=e.component;t(e,1,0,n.model.firstDate,n.model.disabled,n.model.months,"select"===n.model.navigation,n.model.prevDisabled,n.model.nextDisabled,n.model.selectBoxes)}),null)}function Ga(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(t()(),r.Ib(1,null,[" "," "," "]))],null,(function(t,e){var n=e.component;t(e,1,0,n.i18n.getMonthFullName(e.parent.context.$implicit.number,e.parent.context.$implicit.year),n.i18n.getYearNumerals(e.parent.context.$implicit.year))}))}function Ya(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,4,"div",[["class","ngb-dp-month"]],null,null,null,null,null)),(t()(),r.fb(16777216,null,null,1,null,Ga)),r.pb(2,16384,null,0,a.k,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.qb(3,0,null,null,1,"ngb-datepicker-month-view",[["role","grid"]],null,[[null,"select"]],(function(t,e,n){var r=!0;return"select"===e&&(r=!1!==t.component.onDateSelect(n)&&r),r}),Na,wa)),r.pb(4,49152,null,0,bo,[ao],{dayTemplate:[0,"dayTemplate"],month:[1,"month"],showWeekdays:[2,"showWeekdays"],showWeekNumbers:[3,"showWeekNumbers"]},{select:"select"})],(function(t,e){var n=e.component;t(e,2,0,"none"===n.navigation||n.displayMonths>1&&"select"===n.navigation),t(e,4,0,n.dayTemplate||r.Cb(e.parent,1),e.context.$implicit,n.showWeekdays,n.showWeekNumbers)}),null)}function Za(t){return r.Kb(0,[(t()(),r.fb(0,null,null,0))],null,null)}function $a(t){return r.Kb(2,[r.Gb(402653184,1,{_monthsEl:0}),(t()(),r.fb(0,[["dt",2]],null,0,null,za)),(t()(),r.qb(2,0,null,null,2,"div",[["class","ngb-dp-header"]],null,null,null,null,null)),(t()(),r.fb(16777216,null,null,1,null,Qa)),r.pb(4,16384,null,0,a.k,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.qb(5,0,[[1,0],["months",1]],null,2,"div",[["class","ngb-dp-months"]],null,[[null,"keydown"]],(function(t,e,n){var r=!0;return"keydown"===e&&(r=!1!==t.component.onKeyDown(n)&&r),r}),null,null)),(t()(),r.fb(16777216,null,null,1,null,Ya)),r.pb(7,278528,null,0,a.j,[r.N,r.K,r.r],{ngForOf:[0,"ngForOf"]},null),(t()(),r.fb(16777216,null,null,1,null,Za)),r.pb(9,540672,null,0,a.n,[r.N],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],(function(t,e){var n=e.component;t(e,4,0,"none"!==n.navigation),t(e,7,0,n.model.months),t(e,9,0,n.footerTemplate)}),null)}var Xa=r.mb("ngb-datepicker",mo,(function(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,4,"ngb-datepicker",[],null,null,null,$a,Ka)),r.Fb(5120,null,gi,(function(t){return[t]}),[mo]),r.Fb(512,null,uo,uo,[Xi,ao]),r.Fb(512,null,co,co,[uo,Xi]),r.pb(4,4964352,null,0,mo,[co,uo,Xi,ao,fo,r.h,r.k,yo,r.y],null,null)],(function(t,e){t(e,4,0)}),null)}),{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},{navigate:"navigate",select:"select"},[]),Ja=r.ob({encapsulation:2,styles:["ngb-popover-window.bs-popover-bottom>.arrow,ngb-popover-window.bs-popover-top>.arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-bottom-left>.arrow,ngb-popover-window.bs-popover-top-left>.arrow{left:2em}ngb-popover-window.bs-popover-bottom-right>.arrow,ngb-popover-window.bs-popover-top-right>.arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left>.arrow,ngb-popover-window.bs-popover-right>.arrow{top:50%;margin-top:-.5rem}ngb-popover-window.bs-popover-left-top>.arrow,ngb-popover-window.bs-popover-right-top>.arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom>.arrow,ngb-popover-window.bs-popover-right-bottom>.arrow{top:auto;bottom:.7em}"],data:{}});function ts(t){return r.Kb(0,[(t()(),r.Ib(0,null,["",""]))],null,(function(t,e){t(e,0,0,e.component.title)}))}function es(t){return r.Kb(0,[(t()(),r.fb(0,null,null,0))],null,null)}function ns(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,3,"h3",[["class","popover-header"]],null,null,null,null,null)),(t()(),r.fb(0,[["simpleTitle",2]],null,0,null,ts)),(t()(),r.fb(16777216,null,null,1,null,es)),r.pb(3,540672,null,0,a.n,[r.N],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.context,n.isTitleTemplate()?n.title:r.Cb(e,1))}),null)}function rs(t){return r.Kb(2,[(t()(),r.qb(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(t()(),r.fb(16777216,null,null,1,null,ns)),r.pb(2,16384,null,0,a.k,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.qb(3,0,null,null,1,"div",[["class","popover-body"]],null,null,null,null,null)),r.Bb(null,0)],(function(t,e){t(e,2,0,null!=e.component.title)}),null)}var is=r.mb("ngb-popover-window",ia,(function(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"ngb-popover-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,rs,Ja)),r.pb(1,49152,null,0,ia,[],null,null)],null,(function(t,e){t(e,0,0,"popover"+(r.Cb(e,1).popoverClass?" "+r.Cb(e,1).popoverClass:""),r.Cb(e,1).id)}))}),{title:"title",id:"id",popoverClass:"popoverClass",context:"context"},{},["*"]),os=r.ob({encapsulation:2,styles:["ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}"],data:{}});function as(t){return r.Kb(2,[(t()(),r.qb(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(t()(),r.qb(1,0,null,null,1,"div",[["class","tooltip-inner"]],null,null,null,null,null)),r.Bb(null,0)],null,null)}var ss=r.mb("ngb-tooltip-window",ha,(function(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"ngb-tooltip-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,as,os)),r.pb(1,49152,null,0,ha,[],null,null)],null,(function(t,e){t(e,0,0,"tooltip show"+(r.Cb(e,1).tooltipClass?" "+r.Cb(e,1).tooltipClass:""),r.Cb(e,1).id)}))}),{id:"id",tooltipClass:"tooltipClass"},{},["*"]),us=r.ob({encapsulation:2,styles:[],data:{}});function ls(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"ngb-highlight",[],null,null,null,ms,ds)),r.pb(1,573440,null,0,pa,[],{result:[0,"result"],term:[1,"term"]},null)],(function(t,e){var n=e.context.formatter(e.context.result);t(e,1,0,n,e.context.term)}),null)}function cs(t){return r.Kb(0,[(t()(),r.fb(0,null,null,0))],null,null)}function hs(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,3,"button",[["class","dropdown-item"],["role","option"],["type","button"]],[[8,"id",0],[2,"active",null]],[[null,"mouseenter"],[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"mouseenter"===e&&(r=!1!==i.markActive(t.context.index)&&r),"click"===e&&(r=!1!==i.select(t.context.$implicit)&&r),r}),null,null)),(t()(),r.fb(16777216,null,null,2,null,cs)),r.pb(2,540672,null,0,a.n,[r.N],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),r.Eb(3,{result:0,term:1,formatter:2})],(function(t,e){var n=e.component,i=t(e,3,0,e.context.$implicit,n.term,n.formatter);t(e,2,0,i,n.resultTemplate||r.Cb(e.parent,0))}),(function(t,e){var n=e.component;t(e,0,0,n.id+"-"+e.context.index,e.context.index===n.activeIdx)}))}function fs(t){return r.Kb(0,[(t()(),r.fb(0,[["rt",2]],null,0,null,ls)),(t()(),r.fb(16777216,null,null,1,null,hs)),r.pb(2,278528,null,0,a.j,[r.N,r.K,r.r],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.results)}),null)}var ps=r.mb("ngb-typeahead-window",da,(function(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"ngb-typeahead-window",[["class","dropdown-menu show"],["role","listbox"]],[[8,"id",0]],[[null,"mousedown"]],(function(t,e,n){var r=!0;return"mousedown"===e&&(r=!1!==n.preventDefault()&&r),r}),fs,us)),r.pb(1,114688,null,0,da,[],null,null)],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,r.Cb(e,1).id)}))}),{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate"},{selectEvent:"select",activeChangeEvent:"activeChange"},[]),ds=r.ob({encapsulation:2,styles:[".ngb-highlight{font-weight:700}"],data:{}});function vs(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(t()(),r.Ib(1,null,["",""]))],null,(function(t,e){t(e,0,0,e.component.highlightClass),t(e,1,0,e.parent.context.$implicit)}))}function ys(t){return r.Kb(0,[(t()(),r.Ib(0,null,["",""]))],null,(function(t,e){t(e,0,0,e.parent.context.$implicit)}))}function gs(t){return r.Kb(0,[(t()(),r.fb(16777216,null,null,1,null,vs)),r.pb(1,16384,null,0,a.k,[r.N,r.K],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),r.fb(0,[["even",2]],null,0,null,ys))],(function(t,e){t(e,1,0,e.context.odd,r.Cb(e,2))}),null)}function ms(t){return r.Kb(2,[(t()(),r.fb(16777216,null,null,1,null,gs)),r.pb(1,278528,null,0,a.j,[r.N,r.K,r.r],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,1,0,e.component.parts)}),null)}var bs=r.ob({encapsulation:2,styles:[],data:{}});function _s(t){return r.Kb(0,[],null,null)}var ws=r.mb("ngb-modal-backdrop",Yo,(function(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"ngb-modal-backdrop",[["style","z-index: 1050"]],[[8,"className",0]],null,null,_s,bs)),r.pb(1,49152,null,0,Yo,[],null,null)],null,(function(t,e){t(e,0,0,"modal-backdrop fade show"+(r.Cb(e,1).backdropClass?" "+r.Cb(e,1).backdropClass:""))}))}),{backdropClass:"backdropClass"},{},[]),Cs=r.ob({encapsulation:2,styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],data:{}});function Es(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,2,"div",[["role","document"]],[[8,"className",0]],null,null,null,null)),(t()(),r.qb(1,0,null,null,1,"div",[["class","modal-content"]],null,null,null,null,null)),r.Bb(null,0)],null,(function(t,e){var n=e.component;t(e,0,0,"modal-dialog"+(n.size?" modal-"+n.size:"")+(n.centered?" modal-dialog-centered":"")+(n.scrollable?" modal-dialog-scrollable":""))}))}var Ss=r.mb("ngb-modal-window",Jo,(function(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"ngb-modal-window",[["role","dialog"],["tabindex","-1"]],[[8,"className",0],[1,"aria-modal",0],[1,"aria-labelledby",0]],null,null,Es,Cs)),r.pb(1,4440064,null,0,Jo,[a.d,r.k,r.y],null,null)],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,"modal fade show d-block"+(r.Cb(e,1).windowClass?" "+r.Cb(e,1).windowClass:""),!0,r.Cb(e,1).ariaLabelledBy)}))}),{ariaLabelledBy:"ariaLabelledBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass"},{dismissEvent:"dismiss"},["*"]),Ts=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Is=r.ob({encapsulation:0,styles:[[""]],data:{}});function xs(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Ib(-1,null,["home works!"]))],null,null)}var ks=r.mb("app-home",Ts,(function(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"app-home",[],null,null,null,xs,Is)),r.pb(1,114688,null,0,Ts,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Os=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),As=r.ob({encapsulation:0,styles:[[""]],data:{}});function Ns(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Ib(-1,null,["products works!"]))],null,null)}var Ds=r.mb("app-products",Os,(function(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"app-products",[],null,null,null,Ns,As)),r.pb(1,114688,null,0,Os,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Ps=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Rs=r.ob({encapsulation:0,styles:[[""]],data:{}});function js(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Ib(-1,null,["shopping-cart works!"]))],null,null)}var Ms=r.mb("app-shopping-cart",Ps,(function(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"app-shopping-cart",[],null,null,null,js,Rs)),r.pb(1,114688,null,0,Ps,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Ls=function(){function t(t){this.auth=t}return t.prototype.login=function(){this.auth.login()},t}(),Fs=n("Wcq6"),Us=n("6aLS"),Vs=(n("mrSG"),n("1XSQ")),Hs=n("yA/v"),qs=function(t,e,n,r){var i=this;this.zone=r;var o=new Vs.a(r,n);this.auth=r.runOutsideAngular((function(){return Object(Hs.e)(t,r,e).auth()})),this.authState=o.keepUnstableUntilFirst(o.runOutsideAngular(new f.a((function(t){return{unsubscribe:i.auth.onAuthStateChanged(t)}})))),this.user=o.keepUnstableUntilFirst(o.runOutsideAngular(new f.a((function(t){return{unsubscribe:i.auth.onIdTokenChanged(t)}})))),this.idToken=this.user.pipe(Object(at.a)((function(t){return t?Object(u.a)(t.getIdToken()):Object(s.a)(null)}))),this.idTokenResult=this.user.pipe(Object(at.a)((function(t){return t?Object(u.a)(t.getIdTokenResult()):Object(s.a)(null)})))};n("6233");var Ws,Bs,Ks=n("PVcy"),zs=((Bs=function(){function t(t){this.db=t}return t.prototype.save=function(t){this.db.object("/users/"+t.uid).update({name:t.displayName,email:t.email})},t.prototype.get=function(t){return this.db.object("/users/"+t).valueChanges()},t}()).ngInjectableDef=r.Ob({factory:function(){return new Bs(r.Pb(Ks.a))},token:Bs,providedIn:"root"}),Bs),Qs=((Ws=function(){function t(t,e,n,r){this.afAuth=t,this.route=e,this.router=n,this.userService=r,this.user$=t.authState}return t.prototype.login=function(){var t=this.route.snapshot.queryParamMap.get("returnURL")||"/";localStorage.setItem("returnUrl",t),this.afAuth.auth.signInWithRedirect(new Fs.auth.GoogleAuthProvider)},t.prototype.logout=function(){this.afAuth.auth.signOut()},Object.defineProperty(t.prototype,"appUser$",{get:function(){var t=this;return this.user$.pipe(Object(Us.switchMap)((function(e){return e?t.userService.get(e.uid):Object(s.a)(null)})))},enumerable:!0,configurable:!0}),t}()).ngInjectableDef=r.Ob({factory:function(){return new Ws(r.Pb(qs),r.Pb(Dn),r.Pb(Hr),r.Pb(zs))},token:Ws,providedIn:"root"}),Ws),Gs=r.ob({encapsulation:0,styles:[[""]],data:{}});function Ys(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.login()&&r),r}),null,null)),(t()(),r.Ib(-1,null,["Login with Google"]))],null,null)}var Zs=r.mb("app-login",Ls,(function(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"app-login",[],null,null,null,Ys,Gs)),r.pb(1,49152,null,0,Ls,[Qs],null,null)],null,null)}),{},{},[]),$s=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Xs=r.ob({encapsulation:0,styles:[[""]],data:{}});function Js(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Ib(-1,null,["check-out works!"]))],null,null)}var tu=r.mb("app-check-out",$s,(function(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"app-check-out",[],null,null,null,Js,Xs)),r.pb(1,114688,null,0,$s,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),eu=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),nu=r.ob({encapsulation:0,styles:[[""]],data:{}});function ru(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Ib(-1,null,["my-orders works!"]))],null,null)}var iu=r.mb("app-my-orders",eu,(function(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"app-my-orders",[],null,null,null,ru,nu)),r.pb(1,114688,null,0,eu,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),ou=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),au=r.ob({encapsulation:0,styles:[[""]],data:{}});function su(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Ib(-1,null,["order-success works!"]))],null,null)}var uu=r.mb("app-order-success",ou,(function(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"app-order-success",[],null,null,null,su,au)),r.pb(1,114688,null,0,ou,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),lu=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),cu=r.ob({encapsulation:0,styles:[[""]],data:{}});function hu(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,2,"a",[["class","btn btn-primary"],["routerLink","/admin/products/new"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Cb(t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.pb(1,671744,null,0,qr,[Hr,Dn,a.i],{routerLink:[0,"routerLink"]},null),(t()(),r.Ib(-1,null,["New Product"]))],(function(t,e){t(e,1,0,"/admin/products/new")}),(function(t,e){t(e,0,0,r.Cb(e,1).target,r.Cb(e,1).href)}))}var fu,pu=r.mb("app-admin-products",lu,(function(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"app-admin-products",[],null,null,null,hu,cu)),r.pb(1,114688,null,0,lu,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),du=function(){function t(t){this.categories$=t.getAll()}return t.prototype.ngOnInit=function(){},t}(),vu=((fu=function(){function t(t){this.db=t}return t.prototype.getAll=function(){return this.db.list("/categories",(function(t){return t.orderByChild("name")})).snapshotChanges().pipe(Object(T.a)((function(t){return t.map((function(t){return Object.assign({key:t.payload.key},t.payload.val())}))})))},t}()).ngInjectableDef=r.Ob({factory:function(){return new fu(r.Pb(Ks.a))},token:fu,providedIn:"root"}),fu),yu=r.ob({encapsulation:0,styles:[[""]],data:{}});function gu(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"option",[],[[8,"value",0]],null,null,null,null)),(t()(),r.Ib(1,null,[" "," "]))],null,(function(t,e){t(e,0,0,e.context.$implicit.key),t(e,1,0,e.context.$implicit.name)}))}function mu(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,26,"form",[],null,null,null,null,null)),(t()(),r.qb(1,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.qb(2,0,null,null,1,"label",[["for","title"]],null,null,null,null,null)),(t()(),r.Ib(-1,null,["Title"])),(t()(),r.qb(4,0,null,null,0,"input",[["class","form-control"],["id","title"],["type","text"]],null,null,null,null,null)),(t()(),r.qb(5,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.qb(6,0,null,null,1,"label",[["for","price"]],null,null,null,null,null)),(t()(),r.Ib(-1,null,["Price"])),(t()(),r.qb(8,0,null,null,4,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.qb(9,0,null,null,3,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),r.qb(10,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(t()(),r.Ib(-1,null,["HNL"])),(t()(),r.qb(12,0,null,null,0,"input",[["class","form-control"],["id","price"],["type","number"]],null,null,null,null,null)),(t()(),r.qb(13,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.qb(14,0,null,null,1,"label",[["for","category"]],null,null,null,null,null)),(t()(),r.Ib(-1,null,["Category"])),(t()(),r.qb(16,0,null,null,4,"select",[["class","form-control"],["id","category"]],null,null,null,null,null)),(t()(),r.qb(17,0,null,null,0,"option",[["value",""]],null,null,null,null,null)),(t()(),r.fb(16777216,null,null,2,null,gu)),r.pb(19,278528,null,0,a.j,[r.N,r.K,r.r],{ngForOf:[0,"ngForOf"]},null),r.Db(131072,a.b,[r.h]),(t()(),r.qb(21,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.qb(22,0,null,null,1,"label",[["for","imageUrl"]],null,null,null,null,null)),(t()(),r.Ib(-1,null,["image URL"])),(t()(),r.qb(24,0,null,null,0,"input",[["class","form-control"],["id","imageUrl"],["type","text"]],null,null,null,null,null)),(t()(),r.qb(25,0,null,null,1,"button",[["class","btn btn-primary"]],null,null,null,null,null)),(t()(),r.Ib(-1,null,["Save"]))],(function(t,e){var n=e.component;t(e,19,0,r.Jb(e,19,0,r.Cb(e,20).transform(n.categories$)))}),null)}var bu=r.mb("app-product-form",du,(function(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"app-product-form",[],null,null,null,mu,yu)),r.pb(1,114688,null,0,du,[vu],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),_u=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),wu=r.ob({encapsulation:0,styles:[[""]],data:{}});function Cu(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Ib(-1,null,["admin-orders works!"]))],null,null)}var Eu=r.mb("app-admin-orders",_u,(function(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"app-admin-orders",[],null,null,null,Cu,wu)),r.pb(1,114688,null,0,_u,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Su=function(){function t(t){var e=this;this.auth=t,t.appUser$.subscribe((function(t){return e.appUser=t}))}return t.prototype.logout=function(){this.auth.logout()},t}(),Tu=r.ob({encapsulation:0,styles:[[".dropdown-toggle[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function Iu(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r.qb(1,0,null,null,2,"a",[["class","nav-link"],["routerLink","/login"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Cb(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.pb(2,671744,null,0,qr,[Hr,Dn,a.i],{routerLink:[0,"routerLink"]},null),(t()(),r.Ib(-1,null,["Login"]))],(function(t,e){t(e,2,0,"/login")}),(function(t,e){t(e,1,0,r.Cb(e,2).target,r.Cb(e,2).href)}))}function xu(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,6,null,null,null,null,null,null,null)),(t()(),r.qb(1,0,null,null,2,"a",[["class","dropdown-item"],["routerLink","/admin/orders"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Cb(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.pb(2,671744,null,0,qr,[Hr,Dn,a.i],{routerLink:[0,"routerLink"]},null),(t()(),r.Ib(-1,null,["Manage Orders"])),(t()(),r.qb(4,0,null,null,2,"a",[["class","dropdown-item"],["routerLink","/admin/products"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Cb(t,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.pb(5,671744,null,0,qr,[Hr,Dn,a.i],{routerLink:[0,"routerLink"]},null),(t()(),r.Ib(-1,null,["Manage Products"]))],(function(t,e){t(e,2,0,"/admin/orders"),t(e,5,0,"/admin/products")}),(function(t,e){t(e,1,0,r.Cb(e,2).target,r.Cb(e,2).href),t(e,4,0,r.Cb(e,5).target,r.Cb(e,5).href)}))}function ku(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,18,"li",[["class","nav-item dropdown"],["ngbDropdown",""]],[[2,"show",null]],null,null,null,null)),r.pb(1,1720320,null,3,Wo,[r.h,Fo,a.d,r.y,r.k,r.C,[2,Uo]],null,null),r.Gb(603979776,1,{_menu:0}),r.Gb(603979776,2,{_menuElement:0}),r.Gb(603979776,3,{_anchor:0}),(t()(),r.qb(5,0,null,null,3,"a",[["aria-expanded","false"],["aria-haspopup","true"],["class","nav-link dropdown-toggle dropdown-toggle"],["data-toggle","dropdown"],["id","dropdown01"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Cb(t,6).dropdown.toggle()&&i),"keydown.ArrowUp"===e&&(i=!1!==r.Cb(t,6).dropdown.onKeyDown(n)&&i),"keydown.ArrowDown"===e&&(i=!1!==r.Cb(t,6).dropdown.onKeyDown(n)&&i),"keydown.Home"===e&&(i=!1!==r.Cb(t,6).dropdown.onKeyDown(n)&&i),"keydown.End"===e&&(i=!1!==r.Cb(t,6).dropdown.onKeyDown(n)&&i),i}),null,null)),r.pb(6,16384,null,0,qo,[Wo,r.k],null,null),r.Fb(2048,[[3,4]],Ho,null,[qo]),(t()(),r.Ib(8,null,[" "," "])),(t()(),r.qb(9,0,[[2,0]],null,9,"div",[["aria-labelledby","dropdown01"],["class","dropdown-menu"],["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"],[null,"keydown.Enter"],[null,"keydown.Space"]],(function(t,e,n){var i=!0;return"keydown.ArrowUp"===e&&(i=!1!==r.Cb(t,10).dropdown.onKeyDown(n)&&i),"keydown.ArrowDown"===e&&(i=!1!==r.Cb(t,10).dropdown.onKeyDown(n)&&i),"keydown.Home"===e&&(i=!1!==r.Cb(t,10).dropdown.onKeyDown(n)&&i),"keydown.End"===e&&(i=!1!==r.Cb(t,10).dropdown.onKeyDown(n)&&i),"keydown.Enter"===e&&(i=!1!==r.Cb(t,10).dropdown.onKeyDown(n)&&i),"keydown.Space"===e&&(i=!1!==r.Cb(t,10).dropdown.onKeyDown(n)&&i),i}),null,null)),r.pb(10,16384,[[1,4]],1,Vo,[Wo],null,null),r.Gb(603979776,4,{menuItems:1}),(t()(),r.qb(12,0,null,null,2,"a",[["class","dropdown-item"],["routerLink","/my/orders"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Cb(t,13).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.pb(13,671744,null,0,qr,[Hr,Dn,a.i],{routerLink:[0,"routerLink"]},null),(t()(),r.Ib(-1,null,["My Orders"])),(t()(),r.fb(16777216,null,null,1,null,xu)),r.pb(16,16384,null,0,a.k,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(t()(),r.qb(17,0,null,null,1,"a",[["class","dropdown-item"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.logout()&&r),r}),null,null)),(t()(),r.Ib(-1,null,["Log Out"]))],(function(t,e){var n=e.component;t(e,13,0,"/my/orders"),t(e,16,0,n.appUser.isAdmin)}),(function(t,e){var n=e.component;t(e,0,0,r.Cb(e,1).isOpen()),t(e,5,0,r.Cb(e,6).dropdown.isOpen()),t(e,8,0,n.appUser.name),t(e,9,0,!0,r.Cb(e,10).dropdown.isOpen(),r.Cb(e,10).placement),t(e,12,0,r.Cb(e,13).target,r.Cb(e,13).href)}))}function Ou(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,15,"nav",[["class","navbar navbar-expand-md navbar-light bg-light fixed-top"]],null,null,null,null,null)),r.pb(1,16384,null,0,Uo,[],null,null),(t()(),r.qb(2,0,null,null,2,"a",[["class","navbar-brand"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Cb(t,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.pb(3,671744,null,0,qr,[Hr,Dn,a.i],{routerLink:[0,"routerLink"]},null),(t()(),r.Ib(-1,null,["O"])),(t()(),r.qb(5,0,null,null,1,"button",[["aria-controls","navbarsExampleDefault"],["aria-expanded","false"],["aria-label","Toggle navigation"],["class","navbar-toggler"],["data-target","#navbarsExampleDefault"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),r.qb(6,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(t()(),r.qb(7,0,null,null,8,"div",[["class","collapse navbar-collapse"],["id","navbarsExampleDefault"]],null,null,null,null,null)),(t()(),r.qb(8,0,null,null,7,"ul",[["class","navbar-nav mr-auto"]],null,null,null,null,null)),(t()(),r.qb(9,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r.qb(10,0,null,null,2,"a",[["class","nav-link"],["routerLink","/shopping-cart"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Cb(t,11).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.pb(11,671744,null,0,qr,[Hr,Dn,a.i],{routerLink:[0,"routerLink"]},null),(t()(),r.Ib(-1,null,["Shopping Cart"])),(t()(),r.fb(0,[["anonymousUser",2]],null,0,null,Iu)),(t()(),r.fb(16777216,null,null,1,null,ku)),r.pb(15,16384,null,0,a.k,[r.N,r.K],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null)],(function(t,e){var n=e.component;t(e,3,0,"/"),t(e,11,0,"/shopping-cart"),t(e,15,0,n.appUser,r.Cb(e,13))}),(function(t,e){t(e,2,0,r.Cb(e,3).target,r.Cb(e,3).href),t(e,10,0,r.Cb(e,11).target,r.Cb(e,11).href)}))}var Au=r.ob({encapsulation:0,styles:[[""]],data:{}});function Nu(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"app-bs-navbar",[],null,null,null,Ou,Tu)),r.pb(1,49152,null,0,Su,[Qs],null,null),(t()(),r.qb(2,0,null,null,2,"main",[["class","container"],["role","main"]],null,null,null,null,null)),(t()(),r.qb(3,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.pb(4,212992,null,0,zr,[Kr,r.N,r.j,[8,null],r.h],null,null)],(function(t,e){t(e,4,0)}),null)}var Du=r.mb("app-root",o,(function(t){return r.Kb(0,[(t()(),r.qb(0,0,null,null,1,"app-root",[],null,null,null,Nu,Au)),r.pb(1,49152,null,0,o,[zs,Qs,Hr],null,null)],null,null)}),{},{},[]),Pu=n("z5t0"),Ru=n("wj3C"),ju=n.n(Ru);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.v(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.o=function(t){var e=this.f();t.La(e.resolve,e.reject)},e.prototype.v=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.La(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.La=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).La(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).La(i(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},a=this||self;function s(t){return"string"==typeof t}function u(t){return"boolean"==typeof t}var l=/^[\w+/_-]+[=]{0,2}$/,c=null;function h(){}function f(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function p(t){return null===t}function d(t){return"array"==f(t)}function v(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function y(t){return"function"==f(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),b=0;function _(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function C(t,e,n){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:w).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var S=Date.now||function(){return+new Date};function T(t,e){function n(){}n.prototype=e.prototype,t.qb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.gd=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function I(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function x(t){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function k(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");x.call(this,n+t[r])}function O(t,e){throw new k("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function A(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function N(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function D(){this.b=this.a=null}T(x,Error),x.prototype.name="CustomError",T(k,x),k.prototype.name="AssertionError",A.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var P=new A((function(){return new j}),(function(t){t.reset()}));function R(){var t=Ht,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function j(){this.next=this.b=this.a=null}function M(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;O("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}D.prototype.add=function(t,e){var n=P.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},j.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},j.prototype.reset=function(){this.next=this.b=this.a=null};var L=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},F=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=s(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},U=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=s(t)?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},V=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function H(t,e){return 0<=L(t,e)}function q(t,e){var n;return(n=0<=(e=L(t,e)))&&Array.prototype.splice.call(t,e,1),n}function W(t,e){!function(t,e){for(var n=s(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function B(t){return Array.prototype.concat.apply([],arguments)}function K(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function z(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function Q(t){for(var e in t)return!1;return!0}function G(t){var e,n={};for(e in t)n[e]=t[e];return n}var Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Y.length;o++)n=Y[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function $(t,e){this.a=t===tt&&e||"",this.b=J}function X(t){return t instanceof $&&t.constructor===$&&t.b===J?t.a:(O("expected object of type Const, got '"+t+"'"),"type_error:Const")}$.prototype.qa=!0,$.prototype.pa=function(){return this.a},$.prototype.toString=function(){return"Const{"+this.a+"}"};var J={},tt={},et=new $(tt,"");function nt(){this.a="",this.b=st}function rt(t){return t instanceof nt&&t.constructor===nt&&t.b===st?t.a:(O("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function it(t,e){var n=X(t);if(!at.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return ut(t=n.replace(ot,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof $?X(t):encodeURIComponent(String(t))})))}nt.prototype.qa=!0,nt.prototype.pa=function(){return this.a.toString()},nt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var ot=/%{(\w+)}/g,at=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,st={};function ut(t){var e=new nt;return e.a=t,e}var lt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},ct=/&/g,ht=/</g,ft=/>/g,pt=/"/g,dt=/'/g,vt=/\x00/g,yt=/[\x00&<>"']/;function gt(t,e){return-1!=t.indexOf(e)}function mt(t,e){return t<e?-1:t>e?1:0}function bt(){this.a="",this.b=St}function _t(t){return t instanceof bt&&t.constructor===bt&&t.b===St?t.a:(O("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}bt.prototype.qa=!0,bt.prototype.pa=function(){return this.a.toString()},bt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var wt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ct(t){return t instanceof bt?t:(t="object"==typeof t&&t.qa?t.pa():String(t),wt.test(t)||(t="about:invalid#zClosurez"),Tt(t))}var Et,St={};function Tt(t){var e=new bt;return e.a=t,e}Tt("about:blank");t:{var It=a.navigator;if(It){var xt=It.userAgent;if(xt){Et=xt;break t}}Et=""}function kt(t){return gt(Et,t)}function Ot(){this.a="",this.b=Nt}function At(t){return t instanceof Ot&&t.constructor===Ot&&t.b===Nt?t.a:(O("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}Ot.prototype.qa=!0,Ot.prototype.pa=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Nt={};function Dt(t){var e=new Ot;return e.a=t,e}Dt("<!DOCTYPE html>");var Pt,Rt,jt=Dt("");function Mt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Lt(t){return yt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(ct,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(ht,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(ft,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(pt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(dt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(vt,"&#0;"))),t}function Ft(t){a.setTimeout((function(){throw t}),0)}function Ut(t,e){Rt||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);Rt=function(){t.then(qt)}}else Rt=function(){var t=qt;!y(a.setImmediate)||a.Window&&a.Window.prototype&&!kt("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(Pt||(Pt=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!kt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",function(t){var e=ut(X(et));M(t,"HTMLIFrameElement"),t.src=rt(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(At(jt)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=C((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!kt("Trident")&&!kt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).yb;n.yb=null,t()}},function(t){r.next={yb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){a.setTimeout(t,0)}}()),Pt(t)):a.setImmediate(t)}}(),Vt||(Rt(),Vt=!0),Ht.add(t,e)}Dt("<br>");var Vt=!1,Ht=new D;function qt(){for(var t;t=R();){try{t.a.call(t.b)}catch(e){Ft(e)}N(P,t)}Vt=!1}function Wt(t,e){if(this.a=Bt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){ne(n,Kt,t)}),(function(t){if(!(t instanceof le))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}ne(n,zt,t)}))}catch(r){ne(this,zt,r)}}var Bt=0,Kt=2,zt=3;function Qt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Qt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Gt=new A((function(){return new Qt}),(function(t){t.reset()}));function Yt(t,e,n){var r=Gt.get();return r.g=t,r.b=e,r.f=n,r}function Zt(t){if(t instanceof Wt)return t;var e=new Wt(h);return ne(e,Kt,t),e}function $t(t){return new Wt((function(e,n){n(t)}))}function Xt(t,e,n){re(t,e,n,null)||Ut(E(e,t))}function Jt(t){return new Wt((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Gb:!0,value:o}:{Gb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Xt(t[o],E(i,o,!0),E(i,o,!1));else e(r)}))}function te(t,e){t.b||t.a!=Kt&&t.a!=zt||ie(t),t.f?t.f.next=e:t.b=e,t.f=e}function ee(t,e,n,r){var i=Yt(null,null,null);return i.a=new Wt((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof le?o(e):t(i)}catch(a){o(a)}}:o})),i.a.c=t,te(t,i),i.a}function ne(t,e,n){t.a==Bt&&(t===n&&(e=zt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,re(n,t.Oc,t.Pc,t)||(t.i=n,t.a=e,t.c=null,ie(t),e!=zt||n instanceof le||function(t,e){t.g=!0,Ut((function(){t.g&&ue.call(null,e)}))}(t,n)))}function re(t,e,n,r){if(t instanceof Wt)return te(t,Yt(e||h,n||null,r)),!0;if(I(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(y(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function ie(t){t.h||(t.h=!0,Ut(t.Zb,t))}function oe(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function ae(t,e,n,r){if(n==zt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,se(e,n,r);else try{e.c?e.g.call(e.f):se(e,n,r)}catch(i){ue.call(null,i)}N(Gt,e)}function se(t,e,n){e==Kt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Wt.prototype.then=function(t,e,n){return ee(this,y(t)?t:null,y(e)?e:null,n)},Wt.prototype.$goog_Thenable=!0,(t=Wt.prototype).ka=function(t,e){return(t=Yt(t,t,e)).c=!0,te(this,t),this},t.s=function(t,e){return ee(this,null,t,e)},t.cancel=function(t){this.a==Bt&&Ut((function(){!function t(e,n){if(e.a==Bt)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==Bt&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):oe(r),ae(r,o,zt,n)))}e.c=null}else ne(e,zt,n)}(this,new le(t))}),this)},t.Oc=function(t){this.a=Bt,ne(this,Kt,t)},t.Pc=function(t){this.a=Bt,ne(this,zt,t)},t.Zb=function(){for(var t;t=oe(this);)ae(this,t,this.a,this.i);this.h=!1};var ue=Ft;function le(t){x.call(this,t)}function ce(){0!=he&&(fe[this[m]||(this[m]=++b)]=this),this.va=this.va,this.la=this.la}T(le,x),le.prototype.name="cancel";var he=0,fe={};function pe(t){if(!t.va&&(t.va=!0,t.za(),0!=he)){var e=t[m]||(t[m]=++b);if(0!=he&&t.la&&0<t.la.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete fe[e]}}function de(t){return de[" "](t),t}ce.prototype.va=!1,ce.prototype.za=function(){if(this.la)for(;this.la.length;)this.la.shift()()},de[" "]=h;var ve,ye,ge=kt("Opera"),me=kt("Trident")||kt("MSIE"),be=kt("Edge"),_e=be||me,we=kt("Gecko")&&!(gt(Et.toLowerCase(),"webkit")&&!kt("Edge"))&&!(kt("Trident")||kt("MSIE"))&&!kt("Edge"),Ce=gt(Et.toLowerCase(),"webkit")&&!kt("Edge");function Ee(){var t=a.document;return t?t.documentMode:void 0}t:{var Se="",Te=(ye=Et,we?/rv:([^\);]+)(\)|;)/.exec(ye):be?/Edge\/([\d\.]+)/.exec(ye):me?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ye):Ce?/WebKit\/(\S+)/.exec(ye):ge?/(?:Version)[ \/]?(\S+)/.exec(ye):void 0);if(Te&&(Se=Te?Te[1]:""),me){var Ie=Ee();if(null!=Ie&&Ie>parseFloat(Se)){ve=String(Ie);break t}}ve=Se}var xe,ke={};function Oe(t){return function(t,e){var n=ke;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=lt(String(ve)).split("."),r=lt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=mt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||mt(0==a[2].length,0==s[2].length)||mt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}xe=a.document&&me?Ee():void 0;var Ae=Object.freeze||function(t){return t},Ne=!me||9<=Number(xe),De=me&&!Oe("9"),Pe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function Re(t,e){this.type=t,this.b=this.target=e,this.Mb=!0}function je(t,e){if(Re.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(we){t:{try{de(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:Me[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Re.prototype.preventDefault=function(){this.Mb=!1},T(je,Re);var Me=Ae({2:"touch",3:"pen",4:"mouse"});je.prototype.preventDefault=function(){je.qb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,De)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},je.prototype.f=function(){return this.a};var Le="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Ue(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Pa=i,this.key=++Fe,this.ta=this.Ka=!1}function Ve(t){t.ta=!0,t.listener=null,t.proxy=null,t.src=null,t.Pa=null}function He(t){this.src=t,this.a={},this.b=0}function qe(t,e){var n=e.type;n in t.a&&q(t.a[n],e)&&(Ve(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function We(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ta&&o.listener==e&&o.capture==!!n&&o.Pa==r)return i}return-1}He.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=We(t,e,r,i);return-1<a?(e=t[a],n||(e.Ka=!1)):((e=new Ue(e,this.src,o,!!r,i)).Ka=n,t.push(e)),e};var Be="closure_lm_"+(1e6*Math.random()|0),Ke={};function ze(t,e,n,r,i){if(r&&r.once)Ge(t,e,n,r,i);else if(d(e))for(var o=0;o<e.length;o++)ze(t,e[o],n,r,i);else n=rn(n),t&&t[Le]?an(t,e,n,g(r)?!!r.capture:!!r,i):Qe(t,e,n,!1,r,i)}function Qe(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,s=en(t);if(s||(t[Be]=s=new He(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=tn,e=Ne?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Pe||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent($e(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function Ge(t,e,n,r,i){if(d(e))for(var o=0;o<e.length;o++)Ge(t,e[o],n,r,i);else n=rn(n),t&&t[Le]?sn(t,e,n,g(r)?!!r.capture:!!r,i):Qe(t,e,n,!0,r,i)}function Ye(t,e,n,r,i){if(d(e))for(var o=0;o<e.length;o++)Ye(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=rn(n),t&&t[Le]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=We(o=t.a[e],n,r,i))&&(Ve(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=en(t))&&(e=t.a[e.toString()],t=-1,e&&(t=We(e,n,r,i)),(n=-1<t?e[t]:null)&&Ze(n))}function Ze(t){if("number"!=typeof t&&t&&!t.ta){var e=t.src;if(e&&e[Le])qe(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($e(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=en(e))?(qe(n,t),0==n.b&&(n.src=null,e[Be]=null)):Ve(t)}}}function $e(t){return t in Ke?Ke[t]:Ke[t]="on"+t}function Xe(t,e,n,r){var i=!0;if((t=en(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ta&&(o=Je(o,r),i=i&&!1!==o)}return i}function Je(t,e){var n=t.listener,r=t.Pa||t.src;return t.Ka&&Ze(t),n.call(r,e)}function tn(t,e){if(t.ta)return!0;if(!Ne){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new je(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=Xe(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=Xe(r[i],t,!1,e),n=n&&o}return n}return Je(t,new je(e,this))}function en(t){return(t=t[Be])instanceof He?t:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function rn(t){return y(t)?t:(t[nn]||(t[nn]=function(e){return t.handleEvent(e)}),t[nn])}function on(){ce.call(this),this.u=new He(this),this.Sb=this,this.Xa=null}function an(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function sn(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function un(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ta&&a.capture==n){var s=a.listener,u=a.Pa||a.src;a.Ka&&qe(t.u,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Mb}function ln(t,e,n){if(y(t))n&&(t=C(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=C(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function cn(t){var e=null;return new Wt((function(n,r){-1==(e=ln((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw a.clearTimeout(e),t}))}function hn(t){if(t.U&&"function"==typeof t.U)return t.U();if(s(t))return t.split("");if(v(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function fn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.U||"function"!=typeof t.U){if(v(t)||s(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function pn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof pn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function dn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];vn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)vn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function vn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}T(on,ce),on.prototype[Le]=!0,on.prototype.addEventListener=function(t,e,n,r){ze(this,t,e,n,r)},on.prototype.removeEventListener=function(t,e,n,r){Ye(this,t,e,n,r)},on.prototype.dispatchEvent=function(t){var e,n=this.Xa;if(n)for(e=[];n;n=n.Xa)e.push(n);n=this.Sb;var r=t.type||t;if(s(t))t=new Re(t,n);else if(t instanceof Re)t.target=t.target||n;else{var i=t;Z(t=new Re(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=un(a,r,!0,t)&&i}if(i=un(a=t.b=n,r,!0,t)&&i,i=un(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=un(a=t.b=e[o],r,!1,t)&&i;return i},on.prototype.za=function(){if(on.qb.za.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ve(n[r]);delete e.a[t],e.b--}}this.Xa=null},(t=pn.prototype).U=function(){dn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return dn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return vn(this.b,t)?this.b[t]:e},t.set=function(t,e){vn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var yn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function gn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof gn?(this.h=void 0!==e?e:t.h,mn(this,t.f),this.i=t.i,this.b=t.b,bn(this,t.l),this.c=t.c,_n(this,Un(t.a)),this.g=t.g):t&&(n=String(t).match(yn))?(this.h=!!e,mn(this,n[1]||"",!0),this.i=Tn(n[2]||""),this.b=Tn(n[3]||"",!0),bn(this,n[4]),this.c=Tn(n[5]||"",!0),_n(this,n[6]||"",!0),this.g=Tn(n[7]||"")):(this.h=!!e,this.a=new Pn(null,this.h))}function mn(t,e,n){t.f=n?Tn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function bn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function _n(t,e,n){e instanceof Pn?(t.a=e,function(t,e){e&&!t.f&&(Rn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Mn(this,e),Fn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=In(e,Nn)),t.a=new Pn(e,t.h))}function wn(t,e,n){t.a.set(e,n)}function Cn(t,e){return t.a.get(e)}function En(t){return t instanceof gn?new gn(t):new gn(t,void 0)}function Sn(t,e){var n=new gn(null,void 0);return mn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Tn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function In(t,e,n){return s(t)?(t=encodeURI(t).replace(e,xn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function xn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}gn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(In(e,kn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(In(e,kn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(In(n,"/"==n.charAt(0)?An:On,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",In(n,Dn)),t.join("")},gn.prototype.resolve=function(t){var e=new gn(this),n=!!t.f;n?mn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)bn(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(gt(i,"./")||gt(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?_n(e,Un(t.a)):n=!!t.g,n&&(e.g=t.g),e};var kn=/[#\/\?@]/g,On=/[#\?:]/g,An=/[#\?]/g,Nn=/[#\?@]/g,Dn=/#/g;function Pn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Rn(t){t.a||(t.a=new pn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function jn(t){var e=fn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Pn(null,void 0);t=hn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];d(o)?Fn(n,i,o):n.add(i,o)}return n}function Mn(t,e){Rn(t),e=Vn(t,e),vn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,vn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&dn(t)))}function Ln(t,e){return Rn(t),e=Vn(t,e),vn(t.a.b,e)}function Fn(t,e,n){Mn(t,e),0<n.length&&(t.c=null,t.a.set(Vn(t,e),K(n)),t.b+=n.length)}function Un(t){var e=new Pn;return e.c=t.c,t.a&&(e.a=new pn(t.a),e.b=t.b),e}function Vn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=Pn.prototype).add=function(t,e){Rn(this),this.c=null,t=Vn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Rn(this),this.a.forEach((function(n,r){F(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.X=function(){Rn(this);for(var t=this.a.U(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.U=function(t){Rn(this);var e=[];if(s(t))Ln(this,t)&&(e=B(e,this.a.get(Vn(this,t))));else{t=this.a.U();for(var n=0;n<t.length;n++)e=B(e,t[n])}return e},t.set=function(t,e){return Rn(this),this.c=null,Ln(this,t=Vn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.U(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.U(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Hn=!me||9<=Number(xe);function qn(t){var e=document;return s(t)?e.getElementById(t):t}function Wn(t,e){z(e,(function(e,n){e&&"object"==typeof e&&e.qa&&(e=e.pa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Bn.hasOwnProperty(n)?t.setAttribute(Bn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var Bn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Kn(t){if(t&&"number"==typeof t.length){if(g(t))return"function"==typeof t.item||"string"==typeof t.item;if(y(t))return"function"==typeof t.item}return!1}function zn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(d(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Zn(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Zn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Qn,t,e),e.join("")}function Qn(){}var Gn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Yn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Zn(t,e){e.push('"',t.replace(Yn,(function(t){var e=Gn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Gn[t]=e),e})),'"')}function $n(){var t=yr();return me&&!!xe&&11==xe||/Edge\/\d+/.test(t)}function Xn(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function Jn(t,e){e=e||a.window;var n="about:blank";t&&(n=_t(Ct(t)).toString()),e.location.href=n}function tr(t){return!!((t=(t||yr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function er(t){t=t||a.window;try{t.close()}catch(e){}}function nr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=yr().toLowerCase(),r&&(e.target=r,gt(n,"crios/")&&(e.target="_blank")),pr(yr())==hr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof bt?n:Ct(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((kt("iPhone")&&!kt("iPod")&&!kt("iPad")||kt("iPad")||kt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(M(a=r.document.createElement("A"),"HTMLAnchorElement"),e instanceof bt||e instanceof bt||(e="object"==typeof e&&e.qa?e.pa():String(e),wt.test(e)||(e="about:invalid#zClosurez"),e=Tt(e)),a.href=_t(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=_t(e).toString(),a&&(_e&&gt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Dt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Lt(t)+'">'),a.document.write(At(t)),a.document.close())):(a=r.open(_t(e).toString(),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var rr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ir=/^[^@]+@[^@]+$/;function or(){var t=null;return new Wt((function(e){"complete"==a.document.readyState?e():(t=function(){e()},Ge(window,"load",t))})).s((function(e){throw Ye(window,"load",t),e}))}function ar(t){return t=t||yr(),!("file:"!==wr()&&"ionic:"!==wr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function sr(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function ur(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function lr(){return ju.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ju.a.INTERNAL.hasOwnProperty("node")?"Node":ur()?"Worker":"Browser"}function cr(){var t=lr();return"ReactNative"===t||"Node"===t}var hr="Firefox",fr="Chrome";function pr(t){var e=t.toLowerCase();return gt(e,"opera/")||gt(e,"opr/")||gt(e,"opios/")?"Opera":gt(e,"iemobile")?"IEMobile":gt(e,"msie")||gt(e,"trident/")?"IE":gt(e,"edge/")?"Edge":gt(e,"firefox/")?hr:gt(e,"silk/")?"Silk":gt(e,"blackberry")?"Blackberry":gt(e,"webos")?"Webos":!gt(e,"safari/")||gt(e,"chrome/")||gt(e,"crios/")||gt(e,"android")?!gt(e,"chrome/")&&!gt(e,"crios/")||gt(e,"edge/")?gt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":fr:"Safari"}var dr={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};function vr(t,e){e=e||[];var n,r=[],i={};for(n in dr)i[dr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=lr())?r=pr(i=yr()):"Worker"===r&&(r=pr(i=yr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function yr(){return a.navigator&&a.navigator.userAgent||""}function gr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function mr(){try{var t=a.localStorage,e=Ir();if(t)return t.setItem(e,"1"),t.removeItem(e),!$n()||!!a.indexedDB}catch(n){return ur()&&!!a.indexedDB}return!1}function br(){return(_r()||"chrome-extension:"===wr()||ar())&&!cr()&&mr()&&!ur()}function _r(){return"http:"===wr()||"https:"===wr()}function wr(){return a.location&&a.location.protocol||null}function Cr(t){return!tr(t=t||yr())&&pr(t)!=hr}function Er(t){return void 0===t?null:zn(t)}function Sr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Tr(t){if(null!==t)return JSON.parse(t)}function Ir(t){return t||Math.floor(1e9*Math.random()).toString()}function xr(t){return"Safari"!=pr(t=t||yr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function kr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Or(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=yr(),e=lr(),this.b=tr(t)||"ReactNative"===e}function Ar(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Nr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Dr(){return!(!gr("fireauth.oauthhelper",a)&&!gr("fireauth.iframe",a))}Or.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!_r()&&"chrome-extension:"!==wr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Pr,Rr={};function jr(t){Rr[t]||(Rr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Mr={};Object.defineProperty(Mr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Mr,"abcd",{configurable:!0,enumerable:!0,value:2}),Pr=2==Mr.abcd}catch(ye){Pr=!1}function Lr(t,e,n){Pr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Fr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Lr(t,n,e[n])}function Ur(t){var e={};return Fr(e,t),e}function Vr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Lr(e,n,Vr(t[n]));return e}function Hr(t){var e={},n=t[Wr],r=t[Br];if(!(t=t[Kr])||t!=qr&&!n)throw Error("Invalid provider user info!");e[Qr]=r||null,e[zr]=n||null,Lr(this,Yr,t),Lr(this,Gr,Vr(e))}var qr="EMAIL_SIGNIN",Wr="email",Br="newEmail",Kr="requestType",zr="email",Qr="fromEmail",Gr="data",Yr="operation";function Zr(t,e){this.code=Xr+t,this.message=e||Jr[t]||""}function $r(t){var e=t&&t.code;return e?new Zr(e.substring(Xr.length),t.message):null}T(Zr,Error),Zr.prototype.A=function(){return{code:this.code,message:this.message}},Zr.prototype.toJSON=function(){return this.A()};var Xr="auth/",Jr={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function ti(t){var e=Cn(t=En(t),ei)||null,n=Cn(t,ni)||null,r=Cn(t,oi)||null;if(r=r&&si[r]||null,!e||!n||!r)throw new Zr("argument-error",ei+", "+ni+"and "+oi+" are required in a valid action code URL.");Fr(this,{apiKey:e,operation:r,code:n,continueUrl:Cn(t,ri)||null,languageCode:Cn(t,ii)||null,tenantId:Cn(t,ai)||null})}var ei="apiKey",ni="oobCode",ri="continueUrl",ii="languageCode",oi="mode",ai="tenantId",si={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:qr,verifyEmail:"VERIFY_EMAIL"};function ui(t){try{return new ti(t)}catch(e){return null}}function li(t){var e=t[di];if(void 0===e)throw new Zr("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Zr("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[ci];if(n&&"object"==typeof n){e=n[gi];var r=n[vi];if(n=n[yi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Zr("argument-error",vi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Zr("argument-error",yi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Zr("argument-error",gi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Zr("missing-android-pkg-name")}}else if(void 0!==n)throw new Zr("argument-error",ci+" property must be a non null object when specified.");if(this.f=null,(e=t[pi])&&"object"==typeof e){if("string"==typeof(e=e[mi])&&e.length)this.f=e;else if(void 0!==e)throw new Zr("argument-error",mi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Zr("argument-error",pi+" property must be a non null object when specified.");if(void 0!==(e=t[fi])&&"boolean"!=typeof e)throw new Zr("argument-error",fi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[hi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Zr("argument-error",hi+" property must be a non empty string when specified.");this.i=t||null}var ci="android",hi="dynamicLinkDomain",fi="handleCodeInApp",pi="iOS",di="url",vi="installApp",yi="minimumVersion",gi="packageName",mi="bundleId";function bi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var _i=null,wi=null;function Ci(t){this.f=t.sub,S(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.c=t.firebase&&t.firebase.tenant||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Ei(t){return(t=Si(t))&&t.sub&&t.iss&&t.aud&&t.exp?new Ci(t):null}function Si(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=wi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!_i){_i={},wi={};for(var t=0;65>t;t++)_i[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),wi[_i[t]]=t,62<=t&&(wi["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(r){}return null}Ci.prototype.R=function(){return this.c},Ci.prototype.g=function(){return this.b};var Ti,Ii={bd:{cb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{cb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{cb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function xi(t){for(var e in Ii)if(Ii[e].id===t)return{firebaseEndpoint:(t=Ii[e]).cb,secureTokenEndpoint:t.ib};return null}Ti=xi("__EID__")?"__EID__":void 0;var ki="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Oi=["client_id","response_type","scope","redirect_uri","state"],Ai={Xc:{Ea:"locale",sa:700,ra:600,Fa:"facebook.com",Qa:Oi},Zc:{Ea:null,sa:500,ra:750,Fa:"github.com",Qa:Oi},$c:{Ea:"hl",sa:515,ra:680,Fa:"google.com",Qa:Oi},fd:{Ea:"lang",sa:485,ra:705,Fa:"twitter.com",Qa:ki},Vc:{Ea:"locale",sa:600,ra:600,Fa:"apple.com",Qa:[]}};function Ni(t){for(var e in Ai)if(Ai[e].Fa==t)return Ai[e];return null}function Di(t){var e={};e["facebook.com"]=Li,e["google.com"]=Ui,e["github.com"]=Fi,e["twitter.com"]=Vi;var n=t&&t[Ri];try{if(n)return e[n]?new e[n](t):new Mi(t);if(void 0!==t[Pi])return new ji(t)}catch(r){}return null}var Pi="idToken",Ri="providerId";function ji(t){var e=t[Ri];if(!e&&t[Pi]){var n=Ei(t[Pi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Lr(this,"providerId",e),Lr(this,"isNewUser",n)}function Mi(t){ji.call(this,t),Lr(this,"profile",Vr((t=Tr(t.rawUserInfo||"{}"))||{}))}function Li(t){if(Mi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Fi(t){if(Mi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Lr(this,"username",this.profile&&this.profile.login||null)}function Ui(t){if(Mi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Vi(t){if(Mi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Lr(this,"username",t.screenName||null)}function Hi(t){var e=En(t),n=Cn(e,"link"),r=Cn(En(n),"link");return e=Cn(e,"deep_link_id"),Cn(En(e),"link")||e||r||n||t}function qi(){}function Wi(t,e){return t.then((function(t){if(t[Oa]){var n=Ei(t[Oa]);if(!n||e!=n.f)throw new Zr("user-mismatch");return t}throw new Zr("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==Xr+"user-not-found"?new Zr("user-mismatch"):t}))}function Bi(t,e){if(!e)throw new Zr("internal-error","failed to construct a credential");this.a=e,Lr(this,"providerId",t),Lr(this,"signInMethod",t)}function Ki(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function zi(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new Bi(t.providerId,t.pendingToken)}catch(e){}return null}function Qi(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Lr(this,"idToken",e.idToken),e.accessToken&&Lr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Lr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Zr("internal-error","failed to construct a credential");Lr(this,"accessToken",e.oauthToken),Lr(this,"secret",e.oauthTokenSecret)}Lr(this,"providerId",t),Lr(this,"signInMethod",n)}function Gi(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:jn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Yi(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Qi(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Zi(t,e){this.Fc=e||[],Fr(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.eb=(Ni(t)||{}).Ea||null,this.bb=null}function $i(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new Zr("argument-error",'SAML provider IDs must be prefixed with "saml."');Zi.call(this,t,[])}function Xi(t){Zi.call(this,t,Oi),this.a=[]}function Ji(){Xi.call(this,"facebook.com")}function to(t){if(!t)throw new Zr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new Ji).credential({accessToken:e})}function eo(){Xi.call(this,"github.com")}function no(t){if(!t)throw new Zr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new eo).credential({accessToken:e})}function ro(){Xi.call(this,"google.com"),this.ya("profile")}function io(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new ro).credential({idToken:n,accessToken:e})}function oo(){Zi.call(this,"twitter.com",ki)}function ao(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Zr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Qi("twitter.com",n,"twitter.com")}function so(t,e,n){this.a=t,this.c=e,Lr(this,"providerId","password"),Lr(this,"signInMethod",n===lo.EMAIL_LINK_SIGN_IN_METHOD?lo.EMAIL_LINK_SIGN_IN_METHOD:lo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function uo(t){return t&&t.email&&t.password?new so(t.email,t.password,t.signInMethod):null}function lo(){Fr(this,{providerId:"password",isOAuthProvider:!1})}function co(t,e){if(!(e=ho(e)))throw new Zr("argument-error","Invalid email link!");return new so(t,e.code,lo.EMAIL_LINK_SIGN_IN_METHOD)}function ho(t){return(t=ui(t=Hi(t)))&&t.operation===qr?t:null}function fo(t){if(!(t.Va&&t.Ua||t.Ha&&t.ba))throw new Zr("internal-error");this.a=t,Lr(this,"providerId","phone"),Lr(this,"signInMethod","phone")}function po(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return F(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new fo(e)}return null}function vo(t){return t.a.Ha&&t.a.ba?{temporaryProof:t.a.Ha,phoneNumber:t.a.ba}:{sessionInfo:t.a.Va,code:t.a.Ua}}function yo(t){try{this.a=t||ju.a.auth()}catch(e){throw new Zr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Fr(this,{providerId:"phone",isOAuthProvider:!1})}function go(t,e){if(!t)throw new Zr("missing-verification-id");if(!e)throw new Zr("missing-verification-code");return new fo({Va:t,Ua:e})}function mo(t){if(t.temporaryProof&&t.phoneNumber)return new fo({Ha:t.temporaryProof,ba:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return io(o,n);case"facebook.com":return to(n);case"github.com":return no(n);case"twitter.com":return ao(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new Bi(e,a):new Qi(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Xi(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function bo(t){if(!t.isOAuthProvider)throw new Zr("invalid-oauth-provider")}function _o(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new Zr("invalid-auth-event");if(this.g&&this.a)throw new Zr("invalid-auth-event");if(this.g&&!this.f)throw new Zr("invalid-auth-event")}function wo(t){return(t=t||{}).type?new _o(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&$r(t.error),t.postBody,t.tenantId):null}function Co(){this.b=null,this.a=[]}T(Mi,ji),T(Li,Mi),T(Fi,Mi),T(Ui,Mi),T(Vi,Mi),Bi.prototype.na=function(t){return Qa(t,Ki(this))},Bi.prototype.b=function(t,e){var n=Ki(this);return n.idToken=e,Ga(t,n)},Bi.prototype.f=function(t,e){return Wi(Ya(t,Ki(this)),e)},Bi.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Qi.prototype.na=function(t){return Qa(t,Gi(this))},Qi.prototype.b=function(t,e){var n=Gi(this);return n.idToken=e,Ga(t,n)},Qi.prototype.f=function(t,e){return Wi(Ya(t,Gi(this)),e)},Qi.prototype.A=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Zi.prototype.Ga=function(t){return this.zb=G(t),this},T($i,Zi),T(Xi,Zi),Xi.prototype.ya=function(t){return H(this.a,t)||this.a.push(t),this},Xi.prototype.Hb=function(){return K(this.a)},Xi.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new Zr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Qi(this.providerId,n,this.providerId)},T(Ji,Xi),Lr(Ji,"PROVIDER_ID","facebook.com"),Lr(Ji,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(eo,Xi),Lr(eo,"PROVIDER_ID","github.com"),Lr(eo,"GITHUB_SIGN_IN_METHOD","github.com"),T(ro,Xi),Lr(ro,"PROVIDER_ID","google.com"),Lr(ro,"GOOGLE_SIGN_IN_METHOD","google.com"),T(oo,Zi),Lr(oo,"PROVIDER_ID","twitter.com"),Lr(oo,"TWITTER_SIGN_IN_METHOD","twitter.com"),so.prototype.na=function(t){return this.signInMethod==lo.EMAIL_LINK_SIGN_IN_METHOD?Ss(t,rs,{email:this.a,oobCode:this.c}):Ss(t,_s,{email:this.a,password:this.c})},so.prototype.b=function(t,e){return this.signInMethod==lo.EMAIL_LINK_SIGN_IN_METHOD?Ss(t,is,{idToken:e,email:this.a,oobCode:this.c}):Ss(t,ds,{idToken:e,email:this.a,password:this.c})},so.prototype.f=function(t,e){return Wi(this.na(t),e)},so.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Fr(lo,{PROVIDER_ID:"password"}),Fr(lo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Fr(lo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),fo.prototype.na=function(t){return t.Wa(vo(this))},fo.prototype.b=function(t,e){var n=vo(this);return n.idToken=e,Ss(t,Cs,n)},fo.prototype.f=function(t,e){var n=vo(this);return n.operation="REAUTH",Wi(t=Ss(t,Es,n),e)},fo.prototype.A=function(){var t={providerId:"phone"};return this.a.Va&&(t.verificationId=this.a.Va),this.a.Ua&&(t.verificationCode=this.a.Ua),this.a.Ha&&(t.temporaryProof=this.a.Ha),this.a.ba&&(t.phoneNumber=this.a.ba),t},yo.prototype.Wa=function(t,e){var n=this.a.b;return Zt(e.verify()).then((function(r){if(!s(r))throw new Zr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return Ss(t,fs,e)}(n,{phoneNumber:t,recaptchaToken:r}).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new Zr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Fr(yo,{PROVIDER_ID:"phone"}),Fr(yo,{PHONE_SIGN_IN_METHOD:"phone"}),_o.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},_o.prototype.R=function(){return this.h},_o.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var Eo,So=null;function To(t){var e="unauthorized-domain",n=void 0,r=En(t);t=r.b,"chrome-extension"==(r=r.f)?n=Mt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Mt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Zr.call(this,e,n)}function Io(t,e,n){Zr.call(this,t,n),(t=e||{}).Ab&&Lr(this,"email",t.Ab),t.ba&&Lr(this,"phoneNumber",t.ba),t.credential&&Lr(this,"credential",t.credential),t.Qb&&Lr(this,"tenantId",t.Qb)}function xo(t){if(t.code){var e=t.code||"";0==e.indexOf(Xr)&&(e=e.substring(Xr.length));var n={credential:mo(t),Qb:t.tenantId};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.ba=t.phoneNumber;else if(!n.credential)return new Zr(e,t.message||void 0);return new Io(e,n,t.message)}return null}function ko(){}function Oo(){}function Ao(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function No(){}function Do(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=C(this.fc,this),this.a.onerror=C(this.Ib,this),this.a.onprogress=C(this.gc,this),this.a.ontimeout=C(this.kc,this)}function Po(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Ro(t,e,n){this.reset(t,e,n,void 0,void 0)}function jo(t){this.f=t,this.b=this.c=this.a=null}function Mo(t,e){this.name=t,this.value=e}T(To,Zr),T(Io,Zr),Io.prototype.A=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.A();return e&&Z(t,e),t},Io.prototype.toJSON=function(){return this.A()},ko.prototype.c=null,T(Oo,ko),Oo.prototype.a=function(){var t=Ao(this);return t?new ActiveXObject(t):new XMLHttpRequest},Oo.prototype.b=function(){var t={};return Ao(this)&&(t[0]=!0,t[1]=!0),t},Eo=new Oo,T(No,ko),No.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Do;throw Error("Unsupported browser")},No.prototype.b=function(){return{}},(t=Do.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Po(this,4)},t.Ib=function(){this.status=500,this.response=this.responseText="",Po(this,4)},t.kc=function(){this.Ib()},t.gc=function(){this.status=200,Po(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ro.prototype.a=null,Ro.prototype.reset=function(t,e,n,r,i){r||S(),delete this.a},Mo.prototype.toString=function(){return this.name};var Lo=new Mo("SEVERE",1e3),Fo=new Mo("WARNING",900),Uo=new Mo("CONFIG",700),Vo=new Mo("FINE",500);jo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(O("Root logger has no level set."),null)}(this).value)for(y(e)&&(e=e()),t=new Ro(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Ho={},qo=null;function Wo(t){var e;if(qo||(qo=new jo(""),Ho[""]=qo,qo.c=Uo),!(e=Ho[t])){e=new jo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=Wo(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,Ho[t]=e}return e}function Bo(t,e){t&&t.log(Vo,e,void 0)}function Ko(t){this.f=t}function zo(t){on.call(this),this.o=t,this.readyState=Qo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Wo("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}T(Ko,ko),Ko.prototype.a=function(){return new zo(this.f)},Ko.prototype.b=function(t){return function(){return t}}({}),T(zo,on);var Qo=0;function Go(t){t.c.read().then(t.ec.bind(t)).catch(t.Oa.bind(t))}function Yo(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,Zo(t)}function Zo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function $o(t){on.call(this),this.headers=new pn,this.B=t||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=Xo,this.v=this.P=!1}(t=zo.prototype).open=function(t,e){if(this.readyState!=Qo)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,Zo(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.jc.bind(this),this.Oa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Yo(this,!1)),this.readyState=Qo},t.jc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,Zo(this)),this.a&&(this.readyState=3,Zo(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.hc.bind(this),this.Oa.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,Go(this)):t.text().then(this.ic.bind(this),this.Oa.bind(this)))))},t.ec=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Yo(this,!0):Zo(this),3==this.readyState&&Go(this)}},t.ic=function(t){this.a&&(this.response=this.responseText=t,Yo(this,!0))},t.hc=function(t){this.a&&(this.response=t,Yo(this,!0))},t.Oa=function(t){var e=this.h;e&&e.log(Fo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&Yo(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Fo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Fo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},T($o,on);var Xo="";$o.prototype.b=Wo("goog.net.XhrIo");var Jo=/^https?$/i,ta=["POST","PUT"];function ea(t){return"content-type"==t.toLowerCase()}function na(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ra(t),oa(t)}function ra(t){t.I||(t.I=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ia(t){if(t.c&&void 0!==o)if(t.w[1]&&4==sa(t)&&2==ua(t))Bo(t.b,la(t,"Local request error detected and ignored"));else if(t.i&&4==sa(t))ln(t.Lb,0,t);else if(t.dispatchEvent("readystatechange"),4==sa(t)){Bo(t.b,la(t,"Request complete")),t.c=!1;try{var e,n=ua(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.l).match(yn)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!Jo.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var l=2<sa(t)?t.a.statusText:""}catch(c){Bo(t.b,"Can not get status: "+c.message),l=""}t.h=l+" ["+ua(t)+"]",ra(t)}}finally{oa(t)}}}function oa(t,e){if(t.a){aa(t);var n=t.a,r=t.w[0]?h:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Lo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function aa(t){t.a&&t.v&&(t.a.ontimeout=null),t.o&&(a.clearTimeout(t.o),t.o=null)}function sa(t){return t.a?t.a.readyState:0}function ua(t){try{return 2<sa(t)?t.a.status:-1}catch(e){return-1}}function la(t,e){return e+" ["+t.O+" "+t.l+" "+ua(t)+"]"}function ca(t){var e=wa;this.g=[],this.v=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function ha(t,e,n){t.a=!0,t.c=n,t.f=!e,va(t)}function fa(t){if(t.a){if(!t.u)throw new ya(t);t.u=!1}}function pa(t,e,n,r){t.g.push([e,n,r]),t.a&&va(t)}function da(t){return V(t.g,(function(t){return y(t[1])}))}function va(t){if(t.h&&t.a&&da(t)){var e=t.h,n=ba[e];n&&(a.clearTimeout(n.a),delete ba[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.o,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(I(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(l){e=l,t.f=!0,da(t)||(n=!0)}}t.c=e,r&&(u=C(t.m,t,!0),r=C(t.m,t,!1),e instanceof ca?(pa(e,u,r),e.w=!0):e.then(u,r)),n&&(e=new ma(e),ba[e.a]=e,t.h=e.a)}function ya(){x.call(this)}function ga(){x.call(this)}function ma(t){this.a=a.setTimeout(C(this.c,this),0),this.b=t}(t=$o.prototype).Ia=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Bo(this.b,la(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Bo(this.b,la(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),oa(this))},t.za=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),oa(this,!0)),$o.qb.za.call(this)},t.Lb=function(){this.va||(this.J||this.i||this.f?ia(this):this.yc())},t.yc=function(){ia(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Xo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Lo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return Bo(this.b,"Can not get response: "+e.message),null}},ca.prototype.cancel=function(t){if(this.a)this.c instanceof ca&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(t=new ga(this),fa(this),ha(this,!1,t))}},ca.prototype.m=function(t,e){this.i=!1,ha(this,t,e)},ca.prototype.then=function(t,e,n){var r,i,o=new Wt((function(t,e){r=t,i=e}));return pa(this,r,(function(t){t instanceof ga?o.cancel():i(t)})),o.then(t,e,n)},ca.prototype.$goog_Thenable=!0,T(ya,x),ya.prototype.message="Deferred has already fired",ya.prototype.name="AlreadyCalledError",T(ga,x),ga.prototype.message="Deferred was canceled",ga.prototype.name="CanceledError",ma.prototype.c=function(){throw delete ba[this.a],this.b};var ba={};function _a(t){var e={},n=e.document||document,r=rt(t).toString(),i=document.createElement("SCRIPT"),o={Nb:i,Ia:void 0},s=new ca(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Ca(i,!0);var t=new Ta(Sa,"Timeout reached for loading script "+r);fa(s),ha(s,!1,t)}),h),o.Ia=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ca(i,e.hd||!1,u),fa(s),ha(s,!0,null))},i.onerror=function(){Ca(i,!0,u);var t=new Ta(Ea,"Error while loading script "+r);fa(s),ha(s,!1,t)},Z(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Wn(i,o),function(t,e){M(t,"HTMLScriptElement"),t.src=rt(e),null===c&&(c=(e=(e=a.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&l.test(e)?e:""),(e=c)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function wa(){if(this&&this.Nb){var t=this.Nb;t&&"SCRIPT"==t.tagName&&Ca(t,!0,this.Ia)}}function Ca(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ea=0,Sa=1;function Ta(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),x.call(this,n),this.code=t}function Ia(t){this.f=t}function xa(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=t.secureTokenTimeout||Aa,this.g=G(t.secureTokenHeaders||Na),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.firebaseTimeout||Da,this.a=G(t.firebaseHeaders||Pa),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==lr(),!(n=a.XMLHttpRequest||n&&ju.a.INTERNAL.node&&ju.a.INTERNAL.node.XMLHttpRequest)&&!ur())throw new Zr("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=ur()?new Ko(self):cr()?new Ia(n):new No,this.b=null}T(Ta,x),T(Ia,ko),Ia.prototype.a=function(){return new this.f},Ia.prototype.b=function(){return{}};var ka,Oa="idToken",Aa=new Or(3e4,6e4),Na={"Content-Type":"application/x-www-form-urlencoded"},Da=new Or(3e4,6e4),Pa={"Content-Type":"application/json"};function Ra(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ja(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Ma(t,e,n,r,i,o,s){(function(){var t=yr();return!((t=pr(t)!=fr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||me&&xe&&!(9<xe))})()||ur()?t=C(t.o,t):(ka||(ka=new Wt((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[Fa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){pa(t,null,e,void 0)}(_a(it(La,{onload:Fa})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=C(t.m,t)),t(e,n,r,i,o,s)}xa.prototype.R=function(){return this.b},xa.prototype.o=function(t,e,n,r,i,o){if(ur()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new Zr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var u=new $o(this.f);if(o){u.g=Math.max(0,o);var l=setTimeout((function(){u.dispatchEvent("timeout")}),o)}an(u,"complete",(function(){l&&clearTimeout(l);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return Bo(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),sn(u,"ready",(function(){l&&clearTimeout(l),pe(this)})),sn(u,"timeout",(function(){l&&clearTimeout(l),pe(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.O=n,t.I=!1,t.c=!0,t.a=t.B?t.B.a():Eo.a(),t.w=function(t){return t.c||(t.c=t.b())}(t.B?t.B:Eo),t.a.onreadystatechange=C(t.Lb,t);try{Bo(t.b,la(t,"Opening Xhr")),t.J=!0,t.a.open(n,String(e),!0),t.J=!1}catch(u){return Bo(t.b,la(t,"Error opening Xhr: "+u.message)),void na(t,u)}e=r||"";var o=new pn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(v(t)||s(t))F(t,e,void 0);else for(var n=fn(t),r=hn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ea,n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(o.X()),r=a.FormData&&e instanceof a.FormData,!H(ta,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.P&&(t.a.withCredentials=t.P);try{aa(t),0<t.g&&(t.v=function(t){return me&&Oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),Bo(t.b,la(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=C(t.Ia,t)):t.o=ln(t.Ia,t.g,t)),Bo(t.b,la(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(u){Bo(t.b,la(t,"Send error: "+u.message)),na(t,u)}}(u,t,n,r,i)};var La=new $(tt,"https://apis.google.com/js/client.js?onload=%{onload}"),Fa="__fcb"+Math.floor(1e6*Math.random()).toString();function Ua(t){if(!s(t=t.email)||!ir.test(t))throw new Zr("invalid-email")}function Va(t){"email"in t&&Ua(t)}function Ha(t){if(!t[Oa])throw new Zr("internal-error")}function qa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Zr("internal-error")}else{if(!t.sessionInfo)throw new Zr("missing-verification-id");if(!t.code)throw new Zr("missing-verification-code")}}xa.prototype.m=function(t,e,n,r,i){var o=this;ka.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},xa.prototype.ob=function(){return Ss(this,vs,{})},xa.prototype.rb=function(t,e){return Ss(this,ps,{idToken:t,email:e})},xa.prototype.sb=function(t,e){return Ss(this,ds,{idToken:t,password:e})};var Wa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ba(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Zr("internal-error")}function Ka(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Ln(t=new Pn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function za(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=xo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=xo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=xo(t)):t.errorMessage&&(e=Ts(t.errorMessage)),e)throw e;if(!t[Oa])throw new Zr("internal-error")}function Qa(t,e){return e.returnIdpCredential=!0,Ss(t,ys,e)}function Ga(t,e){return e.returnIdpCredential=!0,Ss(t,ms,e)}function Ya(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ss(t,gs,e)}function Za(t){if(!t.oobCode)throw new Zr("invalid-action-code")}(t=xa.prototype).tb=function(t,e){var n={idToken:t},r=[];return z(Wa,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ss(this,ps,n)},t.kb=function(t,e){return Z(t={requestType:"PASSWORD_RESET",email:t},e),Ss(this,us,t)},t.lb=function(t,e){return Z(t={requestType:"EMAIL_SIGNIN",email:t},e),Ss(this,as,t)},t.jb=function(t,e){return Z(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ss(this,ss,t)},t.Wa=function(t){return Ss(this,ws,t)},t.ab=function(t,e){return Ss(this,hs,{oobCode:t,newPassword:e})},t.Ma=function(t){return Ss(this,Xa,{oobCode:t})},t.Ya=function(t){return Ss(this,$a,{oobCode:t})};var $a={endpoint:"setAccountInfo",D:Za,fa:"email",F:!0},Xa={endpoint:"resetPassword",D:Za,K:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Zr("internal-error")},F:!0},Ja={endpoint:"signupNewUser",D:function(t){if(Ua(t),!t.password)throw new Zr("weak-password")},K:Ha,T:!0,F:!0},ts={endpoint:"createAuthUri",F:!0},es={endpoint:"deleteAccount",V:["idToken"]},ns={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(t){if(!d(t.deleteProvider))throw new Zr("internal-error")}},rs={endpoint:"emailLinkSignin",V:["email","oobCode"],D:Ua,K:Ha,T:!0,F:!0},is={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:Ua,K:Ha,T:!0},os={endpoint:"getAccountInfo"},as={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Zr("internal-error");Ua(t)},fa:"email",F:!0},ss={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Zr("internal-error")},fa:"email",F:!0},us={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Zr("internal-error");Ua(t)},fa:"email",F:!0},ls={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},cs={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(t){if(!t.recaptchaSiteKey)throw new Zr("internal-error")}},hs={endpoint:"resetPassword",D:Za,fa:"email",F:!0},fs={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},ps={endpoint:"setAccountInfo",V:["idToken"],D:Va,T:!0},ds={endpoint:"setAccountInfo",V:["idToken"],D:function(t){if(Va(t),!t.password)throw new Zr("weak-password")},K:Ha,T:!0},vs={endpoint:"signupNewUser",K:Ha,T:!0,F:!0},ys={endpoint:"verifyAssertion",D:Ba,Ra:Ka,K:za,T:!0,F:!0},gs={endpoint:"verifyAssertion",D:Ba,Ra:Ka,K:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Zr("user-not-found");if(t.errorMessage)throw Ts(t.errorMessage);if(!t[Oa])throw new Zr("internal-error")},T:!0,F:!0},ms={endpoint:"verifyAssertion",D:function(t){if(Ba(t),!t.idToken)throw new Zr("internal-error")},Ra:Ka,K:za,T:!0},bs={endpoint:"verifyCustomToken",D:function(t){if(!t.token)throw new Zr("invalid-custom-token")},K:Ha,T:!0,F:!0},_s={endpoint:"verifyPassword",D:function(t){if(Ua(t),!t.password)throw new Zr("wrong-password")},K:Ha,T:!0,F:!0},ws={endpoint:"verifyPhoneNumber",D:qa,K:Ha,F:!0},Cs={endpoint:"verifyPhoneNumber",D:function(t){if(!t.idToken)throw new Zr("internal-error");qa(t)},K:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",xo(t);Ha(t)}},Es={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:qa,K:Ha,F:!0};function Ss(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.V))return $t(new Zr("internal-error"));var r,i=e.Kb||"POST";return Zt(n).then(e.D).then((function(){return e.T&&(n.returnSecureToken=!0),e.F&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o){var a=En(t.h+e);wn(a,"key",t.c),o&&wn(a,"cb",S().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&wn(a,u,r[u]);return new Wt((function(e,o){Ma(t,a.toString(),(function(t){t?t.error?o(Is(t,i||{})):e(t):o(new Zr("network-request-failed"))}),n,s?void 0:zn(Sr(r)),t.a,t.i.get())}))}(t,e.endpoint,i,n,e.Yb,e.wb||!1)})).then((function(t){return r=t,e.Ra?e.Ra(n,r):r})).then(e.K).then((function(){if(!e.fa)return r;if(!(e.fa in r))throw new Zr("internal-error");return r[e.fa]}))}function Ts(t){return Is({error:{errors:[{message:t}],code:400,message:t}})}function Is(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Zr(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",Z(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Zr(r[i],e);return!e&&t&&(e=Er(t)),new Zr("internal-error",e)}function xs(t){this.b=t,this.a=null,this.gb=function(t){return(Ns||(Ns=new Wt((function(t,e){function n(){kr(),gr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){kr(),e(Error("Network Error"))},timeout:Os.get()})}if(gr("gapi.iframes.Iframe"))t();else if(gr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){gr("gapi.load")?n():e(Error("Network Error"))},Zt(_a(r=it(ks,{onload:r}))).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw Ns=null,t})))).then((function(){return new Wt((function(e,n){gr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:gr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),As.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var ks=new $(tt,"https://apis.google.com/js/api.js?onload=%{onload}"),Os=new Or(3e4,6e4),As=new Or(5e3,15e3),Ns=null;function Ds(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Sn(this.i,"/__/auth/iframe"),wn(this.a,"apiKey",this.g),wn(this.a,"appName",this.h),this.b=null,this.c=[]}function Ps(t,e,n,r,i){this.o=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Rs(t){try{return ju.a.app(t).auth().Ca()}catch(e){return[]}}function js(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function Ms(t){var e=Xn();return function(t){return Ss(t,ls,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=En(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=En(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:rr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new To(Xn())}))}function Ls(t){return t.l?t.l:(t.l=or().then((function(){if(!t.o){var e=t.c,n=t.h,r=Rs(t.b),i=new Ds(t.u,t.f,t.b);i.f=e,i.b=n,i.c=K(r||[]),t.o=i.toString()}t.i=new xs(t.o),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.gb.then((function(){t.a.register("authEvent",e,gr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=wo(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Zt(n)}return n.status="ERROR",Zt(n)}))}(t)})),t.l)}function Fs(t){return t.m||(t.v=t.c?vr(t.c,Rs(t.b)):null,t.m=new xa(t.f,xi(t.h),t.v)),t.m}function Us(t,e,n,r,i,o,a,s,u,l,c){return(t=new Ps(t,e,n,r,i)).l=o,t.g=a,t.i=s,t.b=G(u||null),t.f=l,t.nb(c).toString()}function Vs(t){if(this.a=t||ju.a.INTERNAL.reactNative&&ju.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Zr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Hs(t){this.b=t,this.a={},this.f=C(this.c,this)}Ds.prototype.toString=function(){return this.f?wn(this.a,"v",this.f):Mn(this.a.a,"v"),this.b?wn(this.a,"eid",this.b):Mn(this.a.a,"eid"),this.c.length?wn(this.a,"fw",this.c.join(",")):Mn(this.a.a,"fw"),this.a.toString()},Ps.prototype.nb=function(t){return this.h=t,this},Ps.prototype.toString=function(){var t=Sn(this.o,"/__/auth/handler");if(wn(t,"apiKey",this.m),wn(t,"appName",this.c),wn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=ju.a.app(this.c).auth().ha()}catch(s){n=null}for(var r in e.bb=n,wn(t,"providerId",this.a.providerId),n=Sr((e=this.a).zb))n[r]=n[r].toString();r=e.Fc,n=G(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.eb&&e.bb&&!n[e.eb]&&(n[e.eb]=e.bb),Q(n)||wn(t,"customParameters",Er(n))}if("function"==typeof this.a.Hb&&(e=this.a.Hb()).length&&wn(t,"scopes",e.join(",")),this.l?wn(t,"redirectUrl",this.l):Mn(t.a,"redirectUrl"),this.g?wn(t,"eventId",this.g):Mn(t.a,"eventId"),this.i?wn(t,"v",this.i):Mn(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Cn(t,a)&&wn(t,a,this.b[a]);return this.h?wn(t,"tid",this.h):Mn(t.a,"tid"),this.f?wn(t,"eid",this.f):Mn(t.a,"eid"),(a=Rs(this.c)).length&&wn(t,"fw",a.join(",")),t.toString()},(t=js.prototype).Fb=function(t,e,n){var r=new Zr("popup-closed-by-user"),i=new Zr("web-storage-unsupported"),o=this,a=!1;return this.ia().then((function(){(function(t){var e={type:"webStorageSupport"};return Ls(t).then((function(){return function(t,e){return t.gb.then((function(){return new Wt((function(n){t.a.send(e.type,e,n,gr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&er(t),e(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(t){return new Wt((function(e){return function n(){cn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return cn(n).then((function(){e(r)}))}))},t.Ob=function(){var t=yr();return!Cr(t)&&!xr(t)},t.Jb=function(){return!1},t.Db=function(t,e,n,r,i,o,a,s){if(!t)return $t(new Zr("popup-blocked"));if(a&&!Cr())return this.ia().s((function(e){er(t),i(e)})),r(),Zt();this.a||(this.a=Ms(Fs(this)));var u=this;return this.a.then((function(){var e=u.ia().s((function(e){throw er(t),i(e),e}));return r(),e})).then((function(){bo(n),a||Jn(Us(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,s),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Eb=function(t,e,n,r){this.a||(this.a=Ms(Fs(this)));var i=this;return this.a.then((function(){bo(e),Jn(Us(i.u,i.f,i.b,t,e,Xn(),n,i.c,void 0,i.h,r))})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ia=function(){var t=this;return Ls(this).then((function(){return t.i.gb})).s((function(){throw t.a=null,new Zr("network-request-failed")}))},t.Rb=function(){return!0},t.Aa=function(t){this.g.push(t)},t.Na=function(t){W(this.g,(function(e){return e==t}))},(t=Vs.prototype).get=function(t){return Zt(this.a.getItem(t)).then((function(t){return t&&Tr(t)}))},t.set=function(t,e){return Zt(this.a.setItem(t,Er(e)))},t.S=function(t){return Zt(this.a.removeItem(t))},t.$=function(){},t.ea=function(){};var qs,Ws=[];function Bs(t,e,n){Q(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Ks(t){this.a=t}function zs(t){this.c=t,this.b=!1,this.a=[]}function Qs(t,e,n,r){var i,o,a,s,u=n||{},l=null;if(t.b)return $t(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Wt((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),c),t.a.push(l={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Gs(t,l),e})).s((function(e){throw Gs(t,l),e}))}function Gs(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),W(t.a,(function(t){return t==e}))}}function Ys(){if(!$s())throw new Zr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=a.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;ur()&&self?(this.l=function(){var t=ur()?self:null;if(F(Ws,(function(n){n.b==t&&(e=n)})),!e){var e=new Hs(t);Ws.push(e)}return e}(),Bs(this.l,"keyChanged",(function(e,n){return nu(t).then((function(e){return 0<e.length&&F(t.a,(function(t){t(e)})),{keyProcessed:H(e,n.key)}}))})),Bs(this.l,"ping",(function(){return Zt(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Zt().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):Zt(null)}().then((function(e){(t.h=e)&&(t.g=new zs(new Ks(e)),Qs(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&H(e[0].value,"keyChanged")&&(t.o=!0)})).s((function(){})))}))}function Zs(t){return t.m||(t.m=function t(e){return new Wt((function(n,r){var i=e.u.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new Wt((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).s((function(t){r(t)}))}}))}(t)),t.m}function $s(){try{return!!a.indexedDB}catch(ye){return!1}}function Xs(t){return t.objectStore("firebaseLocalStorage")}function Js(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function tu(t){return new Wt((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function eu(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Qs(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):Zt()}function nu(t){return Zs(t).then((function(t){var e=Xs(Js(t,!1));return e.getAll?tu(e.getAll()):new Wt((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function ru(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function iu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Zt().then((function(){if($s()){var t=Ir(),r="__sak"+t;return qs||(qs=new Ys),(n=qs).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.S(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.$((function(t){F(e.a,(function(e){e(t)}))})),t}))}function ou(){this.a={},this.type="inMemory"}function au(){if(!function(){var t="Node"==lr();if(!(t=su()||t&&ju.a.INTERNAL.node&&ju.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==lr())throw new Zr("internal-error","The LocalStorage compatibility library was not found.");throw new Zr("web-storage-unsupported")}this.a=su()||ju.a.INTERNAL.node.localStorage,this.type="localStorage"}function su(){try{var t=a.localStorage,e=Ir();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function uu(){this.type="nullStorage"}function lu(){if(!function(){var t="Node"==lr();if(!(t=cu()||t&&ju.a.INTERNAL.node&&ju.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==lr())throw new Zr("internal-error","The SessionStorage compatibility library was not found.");throw new Zr("web-storage-unsupported")}this.a=cu()||ju.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function cu(){try{var t=a.sessionStorage,e=Ir();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function hu(){var t={};t.Browser=du,t.Node=vu,t.ReactNative=yu,t.Worker=gu,this.a=t[lr()]}Hs.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];F(r,(function(e){i.push(Zt().then((function(){return e(t.origin,t.data.data)})))})),Jt(i).then((function(r){var i=[];F(r,(function(t){i.push({fulfilled:t.Gb,value:t.value,reason:t.reason?t.reason.message:void 0})})),F(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Ks.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},zs.prototype.close=function(){for(;0<this.a.length;)Gs(this,this.a[0]);this.b=!0},(t=Ys.prototype).set=function(t,e){var n,r=!1,i=this;return Zs(this).then((function(e){return tu((e=Xs(Js(n=e,!0))).get(t))})).then((function(o){var a=Xs(Js(n,!0));return o?(o.value=e,tu(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,tu(a.add(o)))})).then((function(){return i.c[t]=e,eu(i,t)})).ka((function(){r&&i.b--}))},t.get=function(t){return Zs(this).then((function(e){return tu(Xs(Js(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.S=function(t){var e=!1,n=this;return Zs(this).then((function(r){return e=!0,n.b++,tu(Xs(Js(r,!0)).delete(t))})).then((function(){return delete n.c[t],eu(n,t)})).ka((function(){e&&n.b--}))},t.$=function(t){0==this.a.length&&function(t){ru(t),function e(){t.f=setTimeout((function(){t.i=nu(t).then((function(e){0<e.length&&F(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ea=function(t){W(this.a,(function(e){return e==t})),0==this.a.length&&ru(this)},(t=iu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.S=function(t){return this.b.then((function(e){return e.S(t)}))},t.$=function(t){this.a.push(t)},t.ea=function(t){W(this.a,(function(e){return e==t}))},(t=ou.prototype).get=function(t){return Zt(this.a[t])},t.set=function(t,e){return this.a[t]=e,Zt()},t.S=function(t){return delete this.a[t],Zt()},t.$=function(){},t.ea=function(){},(t=au.prototype).get=function(t){var e=this;return Zt().then((function(){return Tr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Zt().then((function(){var r=Er(e);null===r?n.S(t):n.a.setItem(t,r)}))},t.S=function(t){var e=this;return Zt().then((function(){e.a.removeItem(t)}))},t.$=function(t){a.window&&ze(a.window,"storage",t)},t.ea=function(t){a.window&&Ye(a.window,"storage",t)},(t=uu.prototype).get=function(){return Zt(null)},t.set=function(){return Zt()},t.S=function(){return Zt()},t.$=function(){},t.ea=function(){},(t=lu.prototype).get=function(t){var e=this;return Zt().then((function(){return Tr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Zt().then((function(){var r=Er(e);null===r?n.S(t):n.a.setItem(t,r)}))},t.S=function(t){var e=this;return Zt().then((function(){e.a.removeItem(t)}))},t.$=function(){},t.ea=function(){};var fu,pu,du={C:au,Ta:lu},vu={C:au,Ta:lu},yu={C:Vs,Ta:uu},gu={C:au,Ta:uu},mu={ad:"local",NONE:"none",cd:"session"};function bu(){var t=!(xr(yr())||!sr()),e=Cr(),n=mr();this.m=t,this.h=e,this.l=n,this.a={},fu||(fu=new hu),t=fu;try{this.g=!$n()&&Dr()||!a.indexedDB?new t.a.C:new iu(ur()?new ou:new t.a.C)}catch(r){this.g=new ou,this.h=!0}try{this.i=new t.a.Ta}catch(r){this.i=new ou}this.u=new ou,this.f=C(this.Pb,this),this.b={}}function _u(){return pu||(pu=new bu),pu}function wu(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Cu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Eu(t,e,n){return n=Cu(e,n),"local"==e.C&&(t.b[n]=null),wu(t,e.C).S(n)}function Su(t){t.c&&(clearInterval(t.c),t.c=null)}function Tu(t){this.a=t,this.b=_u()}(t=bu.prototype).get=function(t,e){return wu(this,t.C).get(Cu(t,e))},t.set=function(t,e,n){var r=Cu(t,n),i=this,o=wu(this,t.C);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.C&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Cu(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),Q(this.a)&&(wu(this,"local").$(this.f),this.h||($n()||!Dr())&&a.indexedDB||!this.l||function(t){Su(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new je({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Pb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Cu(t,e),this.a[t]&&(W(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),Q(this.a)&&(wu(this,"local").ea(this.f),Su(this))},t.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.$a(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?wu(this,"local").ea(this.f):Su(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.$a(e))},me&&xe&&10==xe&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else F(t,C(this.$a,this))},t.$a=function(t){this.a[t]&&F(this.a[t],(function(t){t()}))};var Iu,xu={name:"authEvent",C:"local"};function ku(){this.a=_u()}function Ou(t,e){this.b=Au,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0!==Iu||(Iu=a.Int32Array?new Int32Array(Fu):Fu),this.reset()}T(Ou,(function(){this.b=-1}));for(var Au=64,Nu=Au-1,Du=[],Pu=0;Pu<Nu;Pu++)Du[Pu]=0;var Ru=B(128,Du);function Mu(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],l=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=(a=l&c^~l&h)+(0|Iu[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=l,l=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function Lu(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if(s(e))for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(Mu(t),i=0);else{if(!v(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(Mu(t),i=0)}}t.c=i,t.g+=n}Ou.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):K(this.h)};var Fu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Uu(){Ou.call(this,8,Vu)}T(Uu,Ou);var Vu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Hu(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.o=i||null,this.h=e+":"+n,this.v=new ku,this.g=new Tu(this.h),this.f=null,this.b=[],this.a=this.c=null}function qu(t){return new Zr("invalid-cordova-configuration",t)}function Wu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Bu(t){return t.f||(t.f=t.ia().then((function(){return new Wt((function(e){t.Aa((function n(r){return e(r),t.Na(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Ku(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=Hi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Tr(Cn(o=En(i),"firebaseError")||null))?$r(o):null)?new _o(r.c,r.b,null,null,o,null,r.R()):new _o(r.c,r.b,i,r.f,null,null,r.R())),i=o||n}Wu(t,i)}))}var n=new _o("unknown",null,null,null,new Zr("no-auth-event")),r=!1,i=cn(500).then((function(){return Ku(t).then((function(){r||Wu(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(gr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},So||(So=new Co),function(t){var e=So;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=gr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Ku(t){var e=null;return function(t){return t.b.get(xu,t.a).then((function(t){return wo(t)}))}(t.g).then((function(n){return e=n,Eu((n=t.g).b,xu,n.a)})).then((function(){return e}))}function zu(t){this.a=t,this.b=_u()}(t=Hu.prototype).ia=function(){return this.Da?this.Da:this.Da=(ar(void 0)?or().then((function(){return new Wt((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):$t(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof gr("universalLinks.subscribe",a))throw qu("cordova-universal-links-plugin-fix is not installed");if(void 0===gr("BuildInfo.packageName",a))throw qu("cordova-plugin-buildinfo is not installed");if("function"!=typeof gr("cordova.plugins.browsertab.openUrl",a))throw qu("cordova-plugin-browsertab is not installed");if("function"!=typeof gr("cordova.InAppBrowser.open",a))throw qu("cordova-plugin-inappbrowser is not installed")}),(function(){throw new Zr("cordova-not-ready")}))},t.Fb=function(t,e){return e(new Zr("operation-not-supported-in-this-environment")),Zt()},t.Db=function(){return $t(new Zr("operation-not-supported-in-this-environment"))},t.Rb=function(){return!1},t.Ob=function(){return!0},t.Jb=function(){return!0},t.Eb=function(t,e,n,r){if(this.c)return $t(new Zr("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,l=null,c=null;return this.c=Zt().then((function(){return bo(e),Bu(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new _o(e,r,null,o,new Zr("no-auth-event"),null,i),u=gr("BuildInfo.packageName",a);if("string"!=typeof u)throw new Zr("invalid-cordova-configuration");var l=gr("BuildInfo.displayName",a),c={};if(yr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=u;else{if(!yr().toLowerCase().match(/android/))return $t(new Zr("operation-not-supported-in-this-environment"));c.apn=u}l&&(c.appDisplayName=l),o=function(t){var e=new Uu;Lu(e,t),t=[];var n=8*e.g;Lu(e,Ru,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Mu(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return U(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),c.sessionId=o;var h=Us(t.u,t.i,t.l,e,n,null,r,t.m,c,t.o,i);return t.ia().then((function(){var e=t.h;return t.v.a.set(xu,s.A(),e)})).then((function(){var e=gr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new Zr("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=gr("cordova.plugins.browsertab.openUrl",a)))throw new Zr("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=gr("cordova.InAppBrowser.open",a)))throw new Zr("invalid-cordova-configuration");e=yr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Wt((function(t,e){u=function(){var e=gr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Aa(u),c=function(){Ar()&&l()},o.addEventListener("resume",l=function(){s||(s=cn(2e3).then((function(){e(new Zr("redirect-cancelled-by-user"))})))},!1),yr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).s((function(t){return Ku(i).then((function(){throw t}))}))})).ka((function(){l&&o.removeEventListener("resume",l,!1),c&&o.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),u&&i.Na(u),i.c=null}))},t.Aa=function(t){this.b.push(t),Bu(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new _o("unknown",null,null,null,new Zr("no-auth-event")),t(e))}))},t.Na=function(t){W(this.b,(function(e){return e==t}))};var Qu={name:"pendingRedirect",C:"session"};function Gu(t){return Eu(t.b,Qu,t.a)}function Yu(t,e,n){this.i={},this.v=0,this.B=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=C(this.o,this),this.b=new ll,this.w=new dl,this.g=new zu(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=Zu(this.B,this.u,this.m,Ti)}function Zu(t,e,n,r){var i=ju.a.SDK_VERSION||null;return ar()?new Hu(t,e,n,i,r):new js(t,e,n,i,r)}function $u(t){t.f||(t.f=!0,t.a.Aa(t.l));var e=t.a;return t.a.ia().s((function(n){throw t.a==e&&t.reset(),n}))}function Xu(t){t.a.Ob()&&$u(t).s((function(e){var n=new _o("unknown",null,null,null,new Zr("operation-not-supported-in-this-environment"));il(e)&&t.o(n)})),t.a.Jb()||cl(t.b)}function Ju(t,e){H(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Qu,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Gu(t.g).then((function(){$u(t).s((function(e){var n=new _o("unknown",null,null,null,new Zr("operation-not-supported-in-this-environment"));il(e)&&t.o(n)}))})):Xu(t)})).s((function(){Xu(t)}))}function tl(t,e){W(t.h,(function(t){return t==e}))}Yu.prototype.reset=function(){this.f=!1,this.a.Na(this.l),this.a=Zu(this.B,this.u,this.m),this.i={}},Yu.prototype.o=function(t){if(!t)throw new Zr("invalid-auth-event");if(6e5<=S()-this.v&&(this.i={},this.v=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.v=S())),e=!0;break}}return cl(this.b),e};var el=new Or(2e3,1e4),nl=new Or(3e4,6e4);function rl(t,e,n,r,i,o,a){return t.a.Db(e,n,r,(function(){t.f||(t.f=!0,t.a.Aa(t.l))}),(function(){t.reset()}),i,o,a)}function il(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function ol(t,e,n,r,i){var o;return function(t){return t.b.set(Qu,"pending",t.a)}(t.g).then((function(){return t.a.Eb(e,n,r,i).s((function(e){if(il(e))throw new Zr("operation-not-supported-in-this-environment");return o=e,Gu(t.g).then((function(){throw o}))})).then((function(){return t.a.Rb()?new Wt((function(){})):Gu(t.g).then((function(){return t.oa()})).then((function(){})).s((function(){}))}))}))}function al(t,e,n,r,i){return t.a.Fb(r,(function(t){e.ja(n,null,t,i)}),el.get())}Yu.prototype.oa=function(){return this.b.oa()};var sl={};function ul(t,e,n){var r=e+":"+n;return sl[r]||(sl[r]=new Yu(t,e,n)),sl[r]}function ll(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function cl(t){t.g||(t.g=!0,pl(t,!1,null,null))}function hl(t){t.g&&!t.i&&pl(t,!1,null,null)}function fl(t,e){if(t.b=function(){return Zt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function pl(t,e,n,r){e?r?function(t,e){if(t.b=function(){return $t(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):fl(t,n):fl(t,{user:null}),t.f=[],t.c=[]}function dl(){}function vl(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(t){this.vb=t},enumerable:!1})}function yl(t,e){this.a=e,Lr(this,"verificationId",t)}function gl(t,e,n,r){return new yo(t).Wa(e,n).then((function(t){return new yl(t,r)}))}function ml(t){var e=Si(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Zr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Fr(this,{token:t,expirationTime:Nr(1e3*e.exp),authTime:Nr(1e3*e.auth_time),issuedAtTime:Nr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function bl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function _l(t){this.f=t,this.b=this.a=null,this.c=0}function wl(t,e){var n=e[Oa],r=e.refreshToken;e=Cl(e.expiresIn),t.b=n,t.c=e,t.a=r}function Cl(t){return S()+1e3*parseInt(t,10)}function El(t,e){this.a=t||null,this.b=e||null,Fr(this,{lastSignInTime:Nr(e||null),creationTime:Nr(t||null)})}function Sl(t,e,n,r,i,o){Fr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Tl(t,e){for(var n in Re.call(this,t),e)this[n]=e[n]}function Il(t,e,n){this.I=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null,t=ju.a.SDK_VERSION?vr(ju.a.SDK_VERSION):null,this.a=new xa(this.l,xi(Ti),t),this.b=new _l(this.a),Pl(this,e[Oa]),wl(this.b,e),Lr(this,"refreshToken",this.b.a),Ml(this,n||{}),on.call(this),this.J=!1,this.o&&br()&&(this.i=ul(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(t){return new bl((function(){return t.G(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-S()-3e5;return 0<e?e:0}))}(this),this.W=C(this.Ja,this);var r=this;this.ga=null,this.xa=function(t){r.ua(t.g)},this.Z=null,this.P=[],this.wa=function(t){kl(r,t.c)},this.Y=null}function xl(t,e){t.Z&&Ye(t.Z,"languageCodeChanged",t.xa),(t.Z=e)&&ze(e,"languageCodeChanged",t.xa)}function kl(t,e){t.P=e,ja(t.a,ju.a.SDK_VERSION?vr(ju.a.SDK_VERSION,t.P):null)}function Ol(t,e){t.Y&&Ye(t.Y,"frameworkChanged",t.wa),(t.Y=e)&&ze(e,"frameworkChanged",t.wa)}function Al(t){try{return ju.a.app(t.m).auth()}catch(e){throw new Zr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Nl(t){t.B||t.w.b||(t.w.start(),Ye(t,"tokenChanged",t.W),ze(t,"tokenChanged",t.W))}function Dl(t){Ye(t,"tokenChanged",t.W),t.w.stop()}function Pl(t,e){t.ma=e,Lr(t,"_lat",e)}function Rl(t){for(var e=[],n=0;n<t.O.length;n++)e.push(t.O[n](t));return Jt(e).then((function(){return t}))}function jl(t){t.i&&!t.J&&(t.J=!0,Ju(t.i,t))}function Ml(t,e){Fr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new El(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Ll(){}function Fl(t){return Zt().then((function(){if(t.B)throw new Zr("app-deleted")}))}function Ul(t){return U(t.providerData,(function(t){return t.providerId}))}function Vl(t,e){e&&(Hl(t,e.providerId),t.providerData.push(e))}function Hl(t,e){W(t.providerData,(function(t){return t.providerId==e}))}function ql(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Lr(t,e,n)}function Wl(t,e){t!=e&&(Fr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Lr(t,"metadata",e.metadata?function(t){return new El(t.a,t.b)}(e.metadata):new El),F(e.providerData,(function(e){Vl(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Lr(t,"refreshToken",t.b.a))}function Bl(t){return t.G().then((function(e){var n=t.isAnonymous;return function(t,e){return Ss(t.a,os,{idToken:e}).then(C(t.zc,t))}(t,e).then((function(){return n||ql(t,"isAnonymous",!1),e}))}))}function Kl(t,e){e[Oa]&&t.ma!=e[Oa]&&(wl(t.b,e),t.dispatchEvent(new Tl("tokenChanged")),Pl(t,e[Oa]),ql(t,"refreshToken",t.b.a))}function zl(t,e){return Bl(t).then((function(){if(H(Ul(t),e))return Rl(t).then((function(){throw new Zr("provider-already-linked")}))}))}function Ql(t,e,n){return Ur({user:t,credential:mo(e),additionalUserInfo:e=Di(e),operationType:n})}function Gl(t,e){return Kl(t,e),t.reload().then((function(){return t}))}function Yl(t,e,n,r,i){if(!br())return $t(new Zr("operation-not-supported-in-this-environment"));if(t.h&&!i)return $t(t.h);var o=Ni(n.providerId),a=Ir(t.uid+":::"),s=null;(!Cr()||sr())&&t.o&&n.isOAuthProvider&&(s=Us(t.o,t.l,t.m,e,n,null,a,ju.a.SDK_VERSION||null,null,null,t.tenantId));var u=nr(s,o&&o.sa,o&&o.ra);return r=r().then((function(){if($l(t),!i)return t.G().then((function(){}))})).then((function(){return rl(t.i,u,e,n,a,!!s,t.tenantId)})).then((function(){return new Wt((function(n,r){t.ja(e,null,new Zr("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=a,t.c=al(t.i,t,e,u,a)}))})).then((function(t){return u&&er(u),t?Ur(t):null})).s((function(t){throw u&&er(u),t})),Xl(t,r,i)}function Zl(t,e,n,r,i){if(!br())return $t(new Zr("operation-not-supported-in-this-environment"));if(t.h&&!i)return $t(t.h);var o=null,a=Ir(t.uid+":::");return r=r().then((function(){if($l(t),!i)return t.G().then((function(){}))})).then((function(){return t.ca=a,Rl(t)})).then((function(e){return t.da&&(e=(e=t.da).b.set(ec,t.A(),e.a)),e})).then((function(){return ol(t.i,e,n,a,t.tenantId)})).s((function(e){if(o=e,t.da)return nc(t.da);throw o})).then((function(){if(o)throw o})),Xl(t,r,i)}function $l(t){if(!t.i||!t.J){if(t.i&&!t.J)throw new Zr("internal-error");throw new Zr("auth-domain-config-required")}}function Xl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),$t(t.h)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Tl("userInvalidated")),t.h=e),e}))}(t,e,n);return t.I.push(r),r.ka((function(){q(t.I,r)})),r}function Jl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Oa]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-S())/1e3;var r=new Il(e,n,t);return t.providerData&&F(t.providerData,(function(t){t&&Vl(r,Ur(t))})),t.redirectEventId&&(r.ca=t.redirectEventId),r}function tc(t){this.a=t,this.b=_u()}ll.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ll.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(pl(this,!0,null,t.a),Zt()):e.Ba(n,r)?function(t,e,n){n=n.Ba(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.R(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){pl(t,s,e,null)})).s((function(e){pl(t,s,null,e)}))}(this,t,e):$t(new Zr("invalid-auth-event")):(pl(this,!1,null,null),Zt())}else $t(new Zr("invalid-auth-event"))},ll.prototype.oa=function(){var t=this;return new Wt((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Zr("timeout");t.a&&t.a.cancel(),t.a=cn(nl.get()).then((function(){t.b||(t.g=!0,pl(t,!0,null,e))}))}(t))}))},dl.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ja(t.c,null,t.a,t.b),Zt()):e.Ba(n,r)?function(t,e){var n=t.b,r=t.c;e.Ba(r,n)(t.g,t.f,t.R(),t.i).then((function(t){e.ja(r,t,null,n)})).s((function(t){e.ja(r,null,t,n)}))}(t,e):$t(new Zr("invalid-auth-event"))}else $t(new Zr("invalid-auth-event"))},yl.prototype.confirm=function(t){return t=go(this.verificationId,t),this.a(t)},bl.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=cn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=a.document,e=null;return Ar()||!t?Zt():new Wt((function(n){e=function(){Ar()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).s((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},bl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},_l.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},_l.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?$t(new Zr("user-token-expired")):t||!this.b||S()>this.c-3e4?this.a?function(t,e){return function(t,e){return new Wt((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Ma(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Is(t)):t.access_token&&t.refresh_token?n(t):r(new Zr("internal-error")):r(new Zr("network-request-failed"))}),"POST",jn(e).toString(),t.g,t.u.get()):r(new Zr("internal-error"))}))}(t.f,e).then((function(e){return t.b=e.access_token,t.c=Cl(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Zt(null):Zt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},El.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(Tl,Re),T(Il,on),Il.prototype.ua=function(t){this.ga=t,Ra(this.a,t)},Il.prototype.ha=function(){return this.ga},Il.prototype.Ca=function(){return K(this.P)},Il.prototype.Ja=function(){this.w.b&&(this.w.stop(),this.w.start())},Lr(Il.prototype,"providerId","firebase"),(t=Il.prototype).reload=function(){var t=this;return Xl(this,Fl(this).then((function(){return Bl(t).then((function(){return Rl(t)})).then(Ll)})))},t.dc=function(t){return this.G(t).then((function(t){return new ml(t)}))},t.G=function(t){var e=this;return Xl(this,Fl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new Zr("internal-error");return t.accessToken!=e.ma&&(Pl(e,t.accessToken),e.dispatchEvent(new Tl("tokenChanged"))),ql(e,"refreshToken",t.refreshToken),t.accessToken})))},t.zc=function(t){if(!(t=t.users)||!t.length)throw new Zr("internal-error");Ml(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?U(t,(function(t){return new Sl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Vl(this,e[n]);ql(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.Ac=function(t){return jr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.hb(t)},t.hb=function(t){var e=this,n=null;return Xl(this,t.f(this.a,this.uid).then((function(t){return Kl(e,t),n=Ql(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.rc=function(t){return jr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.fb(t)},t.fb=function(t){var e=this,n=null;return Xl(this,zl(this,t.providerId).then((function(){return e.G()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Ql(e,t,"link"),Gl(e,t)})).then((function(){return n})))},t.sc=function(t,e){var n=this;return Xl(this,zl(this,"phone").then((function(){return gl(Al(n),t,e,C(n.fb,n))})))},t.Bc=function(t,e){var n=this;return Xl(this,Zt().then((function(){return gl(Al(n),t,e,C(n.hb,n))})),!0)},t.rb=function(t){var e=this;return Xl(this,this.G().then((function(n){return e.a.rb(n,t)})).then((function(t){return Kl(e,t),e.reload()})))},t.Sc=function(t){var e=this;return Xl(this,this.G().then((function(n){return t.b(e.a,n)})).then((function(t){return Kl(e,t),e.reload()})))},t.sb=function(t){var e=this;return Xl(this,this.G().then((function(n){return e.a.sb(n,t)})).then((function(t){return Kl(e,t),e.reload()})))},t.tb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Fl(this);var e=this;return Xl(this,this.G().then((function(n){return e.a.tb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Kl(e,t),ql(e,"displayName",t.displayName||null),ql(e,"photoURL",t.photoUrl||null),F(e.providerData,(function(t){"password"===t.providerId&&(Lr(t,"displayName",e.displayName),Lr(t,"photoURL",e.photoURL))})),Rl(e)})).then(Ll))},t.Qc=function(t){var e=this;return Xl(this,Bl(this).then((function(n){return H(Ul(e),t)?function(t,e,n){return Ss(t,ns,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return F(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),F(Ul(e),(function(t){n[t]||Hl(e,t)})),n[yo.PROVIDER_ID]||Lr(e,"phoneNumber",null),Rl(e)})):Rl(e).then((function(){throw new Zr("no-such-provider")}))})))},t.delete=function(){var t=this;return Xl(this,this.G().then((function(e){return Ss(t.a,es,{idToken:e})})).then((function(){t.dispatchEvent(new Tl("userDeleted"))}))).then((function(){for(var e=0;e<t.I.length;e++)t.I[e].cancel("app-deleted");xl(t,null),Ol(t,null),t.I=[],t.B=!0,Dl(t),Lr(t,"refreshToken",null),t.i&&tl(t.i,t)}))},t.xb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ca||null)==e||"reauthViaRedirect"==t&&(this.ca||null)==e)},t.ja=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.Ba=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?C(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?C(this.Cb,this):"linkViaRedirect"==t&&(this.ca||null)==e?C(this.Bb,this):"reauthViaRedirect"==t&&(this.ca||null)==e?C(this.Cb,this):null},t.tc=function(t){var e=this;return Yl(this,"linkViaPopup",t,(function(){return zl(e,t.providerId).then((function(){return Rl(e)}))}),!1)},t.Cc=function(t){return Yl(this,"reauthViaPopup",t,(function(){return Zt()}),!0)},t.uc=function(t){var e=this;return Zl(this,"linkViaRedirect",t,(function(){return zl(e,t.providerId)}),!1)},t.Dc=function(t){return Zl(this,"reauthViaRedirect",t,(function(){return Zt()}),!0)},t.Bb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Xl(this,this.G().then((function(n){return Ga(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Ql(i,t,"link"),Gl(i,t)})).then((function(){return o})))},t.Cb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Xl(this,Zt().then((function(){return Wi(Ya(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Ql(i,t,"reauthenticate"),Kl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.jb=function(t){var e=this,n=null;return Xl(this,this.G().then((function(e){return n=e,void 0===t||Q(t)?{}:bi(new li(t))})).then((function(t){return e.a.jb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.toJSON=function(){return this.A()},t.A=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&Z(t,this.metadata.A()),F(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),t};var ec={name:"redirectUser",C:"session"};function nc(t){return Eu(t.b,ec,t.a)}function rc(t){this.a=t,this.b=_u(),this.c=null,this.f=function(t){var e=ac("local"),n=ac("session"),r=ac("none");return function(t,e,n){var r=Cu(e,n),i=wu(t,e.C);return t.get(e,n).then((function(o){var s=null;try{s=Tr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(oc,t.a).then((function(t){return t?ac(t):e}))}))}))})).then((function(e){return t.c=e,ic(t,e.C)})).s((function(){t.c||(t.c=e)}))}(this),this.b.addListener(ac("local"),this.a,C(this.g,this))}function ic(t,e){var n,r=[];for(n in mu)mu[n]!==e&&r.push(Eu(t.b,ac(mu[n]),t.a));return r.push(Eu(t.b,oc,t.a)),function(t){return new Wt((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Xt(t[s],E(o,s),a);else e(i)}))}(r)}rc.prototype.g=function(){var t=this,e=ac("local");cc(this,(function(){return Zt().then((function(){return t.c&&"local"!=t.c.C?t.b.get(e,t.a):null})).then((function(n){if(n)return ic(t,"local").then((function(){t.c=e}))}))}))};var oc={name:"persistence",C:"session"};function ac(t){return{name:"authUser",C:t}}function sc(t,e){return cc(t,(function(){return t.b.set(t.c,e.A(),t.a)}))}function uc(t){return cc(t,(function(){return Eu(t.b,t.c,t.a)}))}function lc(t,e){return cc(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Jl(t||{})}))}))}function cc(t,e){return t.f=t.f.then(e,e),t.f}function hc(t){if(this.l=!1,Lr(this,"settings",new vl),Lr(this,"app",t),!bc(this).options||!bc(this).options.apiKey)throw new Zr("invalid-api-key");t=ju.a.SDK_VERSION?vr(ju.a.SDK_VERSION):null,this.b=new xa(bc(this).options&&bc(this).options.apiKey,xi(Ti),t),this.O=[],this.m=[],this.J=[],this.Ub=ju.a.INTERNAL.createSubscribe(C(this.oc,this)),this.W=void 0,this.Vb=ju.a.INTERNAL.createSubscribe(C(this.pc,this)),gc(this,null),this.h=new rc(bc(this).options.apiKey+":"+bc(this).name),this.w=new tc(bc(this).options.apiKey+":"+bc(this).name),this.Y=Ec(this,function(t){var e=bc(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(ec,t.a).then((function(t){return t&&e&&(t.authDomain=e),Jl(t||{})}))}(t.w,bc(t).options.authDomain).then((function(e){return(t.B=e)&&(e.da=t.w),nc(t.w)}));return Ec(t,e)}(t).then((function(){return lc(t.h,e)})).then((function(e){return e?(e.da=t.w,t.B&&(t.B.ca||null)==(e.ca||null)?e:e.reload().then((function(){return sc(t.h,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:uc(t.h)}))):null})).then((function(e){gc(t,e||null)}));return Ec(t,n)}(this)),this.i=Ec(this,function(t){return t.Y.then((function(){return vc(t)})).s((function(){})).then((function(){if(!t.l)return t.ma()})).s((function(){})).then((function(){if(!t.l){t.ga=!0;var e=t.h;e.b.addListener(ac("local"),e.a,t.ma)}}))}(this)),this.ga=!1,this.ma=C(this.Nc,this),this.ub=C(this.aa,this),this.wa=C(this.bc,this),this.xa=C(this.mc,this),this.Ja=C(this.nc,this),this.a=null,function(t){var e=bc(t).options.authDomain,n=bc(t).options.apiKey;e&&br()&&(t.Tb=t.Y.then((function(){if(!t.l){if(t.a=ul(e,n,bc(t).name),Ju(t.a,t),_c(t)&&jl(_c(t)),t.B){jl(t.B);var r=t.B;r.ua(t.ha()),xl(r,t),kl(r=t.B,t.I),Ol(r,t),t.B=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=C(this.delete,this),this.INTERNAL.logFramework=C(this.vc,this),this.o=0,on.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ha()},set:function(t){this.ua(t)},enumerable:!1}),t.Z=null,Object.defineProperty(t,"ti",{get:function(){return this.R()},set:function(t){this.nb(t)},enumerable:!1}),t.P=null}(this),this.I=[]}function fc(t){Re.call(this,"languageCodeChanged"),this.g=t}function pc(t){Re.call(this,"frameworkChanged"),this.c=t}function dc(t){return t.Tb||$t(new Zr("auth-domain-config-required"))}function vc(t){if(!br())return $t(new Zr("operation-not-supported-in-this-environment"));var e=dc(t).then((function(){return t.a.oa()})).then((function(t){return t?Ur(t):null}));return Ec(t,e)}function yc(t,e){var n={};return n.apiKey=bc(t).options.apiKey,n.authDomain=bc(t).options.authDomain,n.appName=bc(t).name,t.Y.then((function(){return function(t,e,n,r){var i=new Il(t,e);return n&&(i.da=n),r&&kl(i,r),i.reload().then((function(){return i}))}(n,e,t.w,t.Ca())})).then((function(e){return _c(t)&&e.uid==_c(t).uid?(Wl(_c(t),e),t.aa(e)):(gc(t,e),jl(e),t.aa(e))})).then((function(){Cc(t)}))}function gc(t,e){_c(t)&&(function(t,e){W(t.O,(function(t){return t==e}))}(_c(t),t.ub),Ye(_c(t),"tokenChanged",t.wa),Ye(_c(t),"userDeleted",t.xa),Ye(_c(t),"userInvalidated",t.Ja),Dl(_c(t))),e&&(e.O.push(t.ub),ze(e,"tokenChanged",t.wa),ze(e,"userDeleted",t.xa),ze(e,"userInvalidated",t.Ja),0<t.o&&Nl(e)),Lr(t,"currentUser",e),e&&(e.ua(t.ha()),xl(e,t),kl(e,t.I),Ol(e,t))}function mc(t,e){var n=null,r=null;return Ec(t,e.then((function(e){return n=mo(e),r=Di(e),yc(t,e)})).then((function(){return Ur({user:_c(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function bc(t){return t.app}function _c(t){return t.currentUser}function wc(t){return _c(t)&&_c(t)._lat||null}function Cc(t){if(t.ga){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](wc(t));if(t.W!==t.getUid()&&t.J.length)for(t.W=t.getUid(),e=0;e<t.J.length;e++)t.J[e]&&t.J[e](wc(t))}}function Ec(t,e){return t.O.push(e),e.ka((function(){q(t.O,e)})),e}function Sc(){}function Tc(){this.a={},this.b=1e12}rc.prototype.mb=function(t){var e=null,n=this;return function(t){var e=new Zr("invalid-persistence-type"),n=new Zr("unsupported-persistence-type");t:{for(r in mu)if(mu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(lr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!mr()&&"none"!==t)throw n}}(t),cc(this,(function(){return t!=n.c.C?n.b.get(n.c,n.a).then((function(r){return e=r,ic(n,t)})).then((function(){if(n.c=ac(t),e)return n.b.set(n.c,e,n.a)})):Zt()}))},T(hc,on),T(fc,Re),T(pc,Re),(t=hc.prototype).mb=function(t){return Ec(this,t=this.h.mb(t))},t.ua=function(t){this.Z===t||this.l||(this.Z=t,Ra(this.b,this.Z),this.dispatchEvent(new fc(this.ha())))},t.ha=function(){return this.Z},t.Tc=function(){var t=a.navigator;this.ua(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.vc=function(t){this.I.push(t),ja(this.b,ju.a.SDK_VERSION?vr(ju.a.SDK_VERSION,this.I):null),this.dispatchEvent(new pc(this.I))},t.Ca=function(){return K(this.I)},t.nb=function(t){this.P===t||this.l||(this.P=t,this.b.b=this.P)},t.R=function(){return this.P},t.toJSON=function(){return{apiKey:bc(this).options.apiKey,authDomain:bc(this).options.authDomain,appName:bc(this).name,currentUser:_c(this)&&_c(this).A()}},t.xb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ja=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.Ba=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?C(this.ac,this):null},t.ac=function(t,e,n,r){var i=this;t={requestUri:t,postBody:r,sessionId:e,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,a=null,s=Qa(i.b,t).then((function(t){return o=mo(t),a=Di(t),t}));return Ec(this,t=i.Y.then((function(){return s})).then((function(t){return yc(i,t)})).then((function(){return Ur({user:_c(i),credential:o,additionalUserInfo:a,operationType:"signIn"})})))},t.Lc=function(t){if(!br())return $t(new Zr("operation-not-supported-in-this-environment"));var e=this,n=Ni(t.providerId),r=Ir(),i=null;(!Cr()||sr())&&bc(this).options.authDomain&&t.isOAuthProvider&&(i=Us(bc(this).options.authDomain,bc(this).options.apiKey,bc(this).name,"signInViaPopup",t,null,r,ju.a.SDK_VERSION||null,null,null,this.R()));var o=nr(i,n&&n.sa,n&&n.ra);return Ec(this,n=dc(this).then((function(n){return rl(n,o,"signInViaPopup",t,r,!!i,e.R())})).then((function(){return new Wt((function(t,n){e.ja("signInViaPopup",null,new Zr("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.c=al(e.a,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&er(o),t?Ur(t):null})).s((function(t){throw o&&er(o),t})))},t.Mc=function(t){if(!br())return $t(new Zr("operation-not-supported-in-this-environment"));var e=this;return Ec(this,dc(this).then((function(){return function(t){return cc(t,(function(){return t.b.set(oc,t.c.C,t.a)}))}(e.h)})).then((function(){return ol(e.a,"signInViaRedirect",t,void 0,e.R())})))},t.oa=function(){var t=this;return vc(this).then((function(e){return t.a&&hl(t.a.b),e})).s((function(e){throw t.a&&hl(t.a.b),e}))},t.Rc=function(t){if(!t)return $t(new Zr("null-user"));if(this.P!=t.tenantId)return $t(new Zr("tenant-id-mismatch"));var e=this,n={};n.apiKey=bc(this).options.apiKey,n.authDomain=bc(this).options.authDomain,n.appName=bc(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.o,appName:t.m};var i=t.b,o={};return o[Oa]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-S())/1e3,e=new Il(e,o),n&&(e.da=n),r&&kl(e,r),Wl(e,t),e}(t,n,e.w,e.Ca());return Ec(this,this.i.then((function(){if(bc(e).options.apiKey!=t.l)return r.reload()})).then((function(){return _c(e)&&t.uid==_c(e).uid?(Wl(_c(e),t),e.aa(t)):(gc(e,r),jl(r),e.aa(r))})).then((function(){Cc(e)})))},t.pb=function(){var t=this;return Ec(this,this.i.then((function(){return t.a&&hl(t.a.b),_c(t)?(gc(t,null),uc(t.h).then((function(){Cc(t)}))):Zt()})))},t.Nc=function(){var t=this;return lc(this.h,bc(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=_c(t)&&e){n=_c(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Wl(_c(t),e),_c(t).G();(_c(t)||e)&&(gc(t,e),e&&(jl(e),e.da=t.w),t.a&&Ju(t.a,t),Cc(t))}}))},t.aa=function(t){return sc(this.h,t)},t.bc=function(){Cc(this),this.aa(_c(this))},t.mc=function(){this.pb()},t.nc=function(){this.pb()},t.oc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(_c(e))}))},t.pc=function(t){var e=this;!function(t,e){t.J.push(e),Ec(t,t.i.then((function(){!t.l&&H(t.J,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(wc(t)))})))}(this,(function(){t.next(_c(e))}))},t.xc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then((function(){y(t)?t(_c(r)):y(t.next)&&t.next(_c(r))})),this.Ub(t,e,n)},t.wc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then((function(){r.W=r.getUid(),y(t)?t(_c(r)):y(t.next)&&t.next(_c(r))})),this.Vb(t,e,n)},t.cc=function(t){var e=this;return Ec(this,this.i.then((function(){return _c(e)?_c(e).G(t).then((function(t){return{accessToken:t}})):null})))},t.Hc=function(t){var e=this;return this.i.then((function(){return mc(e,Ss(e.b,bs,{token:t}))})).then((function(t){var n=t.user;return ql(n,"isAnonymous",!1),e.aa(n),t}))},t.Ic=function(t,e){var n=this;return this.i.then((function(){return mc(n,Ss(n.b,_s,{email:t,password:e}))}))},t.Xb=function(t,e){var n=this;return this.i.then((function(){return mc(n,Ss(n.b,Ja,{email:t,password:e}))}))},t.Sa=function(t){var e=this;return this.i.then((function(){return mc(e,t.na(e.b))}))},t.Gc=function(t){return jr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Sa(t)},t.ob=function(){var t=this;return this.i.then((function(){var e=_c(t);if(e&&e.isAnonymous){var n=Ur({providerId:null,isNewUser:!1});return Ur({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return mc(t,t.b.ob()).then((function(e){var n=e.user;return ql(n,"isAnonymous",!0),t.aa(n),e}))}))},t.getUid=function(){return _c(this)&&_c(this).uid||null},t.Wb=function(t){this.addAuthTokenListener(t),this.o++,0<this.o&&_c(this)&&Nl(_c(this))},t.Ec=function(t){var e=this;F(this.m,(function(n){n==t&&e.o--})),0>this.o&&(this.o=0),0==this.o&&_c(this)&&Dl(_c(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),Ec(this,this.i.then((function(){e.l||H(e.m,t)&&t(wc(e))})))},t.removeAuthTokenListener=function(t){W(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.O.length;t++)this.O[t].cancel("app-deleted");return this.O=[],this.h&&(t=this.h).b.removeListener(ac("local"),t.a,this.ma),this.a&&(tl(this.a,this),hl(this.a.b)),Promise.resolve()},t.$b=function(t){return Ec(this,function(t,e){return Ss(t,ts,{identifier:e,continueUri:_r()?Xn():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.qc=function(t){return!!ho(t)},t.lb=function(t,e){var n=this;return Ec(this,Zt().then((function(){var t=new li(e);if(!t.c)throw new Zr("argument-error",fi+" must be true when sending sign in link to email");return bi(t)})).then((function(e){return n.b.lb(t,e)})).then((function(){})))},t.Uc=function(t){return this.Ma(t).then((function(t){return t.data.email}))},t.ab=function(t,e){return Ec(this,this.b.ab(t,e).then((function(){})))},t.Ma=function(t){return Ec(this,this.b.Ma(t).then((function(t){return new Hr(t)})))},t.Ya=function(t){return Ec(this,this.b.Ya(t).then((function(){})))},t.kb=function(t,e){var n=this;return Ec(this,Zt().then((function(){return void 0===e||Q(e)?{}:bi(new li(e))})).then((function(e){return n.b.kb(t,e)})).then((function(){})))},t.Kc=function(t,e){return Ec(this,gl(this,t,e,C(this.Sa,this)))},t.Jc=function(t,e){var n=this;return Ec(this,Zt().then((function(){var r=e||Xn(),i=co(t,r);if(!(r=ho(r)))throw new Zr("argument-error","Invalid email link!");if(r.tenantId!==n.R())throw new Zr("tenant-id-mismatch");return n.Sa(i)})))},Sc.prototype.render=function(){},Sc.prototype.reset=function(){},Sc.prototype.getResponse=function(){},Sc.prototype.execute=function(){};var Ic=null;function xc(t,e){return(e=kc(e))&&t.a[e]||null}function kc(t){return(t=void 0===t?1e12:t)?t.toString():null}function Oc(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=qn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():ze(this.f,"click",this.i)}function Ac(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Nc(){}Tc.prototype.render=function(t,e){return this.a[this.b.toString()]=new Oc(t,e),this.b++},Tc.prototype.reset=function(t){var e=xc(this,t);t=kc(t),e&&t&&(e.delete(),delete this.a[t])},Tc.prototype.getResponse=function(t){return(t=xc(this,t))?t.getResponse():null},Tc.prototype.execute=function(t){(t=xc(this,t))&&t.execute()},Oc.prototype.getResponse=function(){return Ac(this),this.b},Oc.prototype.execute=function(){Ac(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},Oc.prototype.delete=function(){Ac(this),this.g=!0,clearTimeout(this.a),this.a=null,Ye(this.f,"click",this.i)},Nc.prototype.g=function(){return Ic||(Ic=new Tc),Zt(Ic)},Nc.prototype.c=function(){};var Dc=null;function Pc(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Rc=new $(tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),jc=new Or(3e4,6e4);Pc.prototype.g=function(t){var e=this;return new Wt((function(n,r){var i=setTimeout((function(){r(new Zr("network-request-failed"))}),jc.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new Zr("internal-error"));delete a[e.a]},Zt(_a(it(Rc,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new Zr("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},Pc.prototype.c=function(){this.b--};var Mc=null;function Lc(t,e,n,r,i,o,s){if(Lr(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=e,this.g=null,s?(Dc||(Dc=new Nc),s=Dc):(Mc||(Mc=new Pc),s=Mc),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Vc])throw new Zr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Hc],!a.document)throw new Zr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!qn(e)||!this.i&&qn(e).hasChildNodes())throw new Zr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new xa(t,o||null,i||null),this.v=r||function(){return null};var u=this;this.l=[];var l=this.a[Fc];this.a[Fc]=function(t){if(qc(u,t),"function"==typeof l)l(t);else if("string"==typeof l){var e=gr(l,a);"function"==typeof e&&e(t)}};var c=this.a[Uc];this.a[Uc]=function(){if(qc(u,null),"function"==typeof c)c();else if("string"==typeof c){var t=gr(c,a);"function"==typeof t&&t()}}}var Fc="callback",Uc="expired-callback",Vc="sitekey",Hc="size";function qc(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Wc(t,e){return t.h.push(e),e.ka((function(){q(t.h,e)})),e}function Bc(t){if(t.B)throw new Zr("internal-error","RecaptchaVerifier instance has been destroyed.")}function Kc(t,e,n){var r=!1;try{this.b=n||ju.a.app()}catch(a){throw new Zr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Zr("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ca()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=ju.a.SDK_VERSION?vr(ju.a.SDK_VERSION,o):null,Lc.call(this,n,t,e,(function(){try{var t=i.b.auth().ha()}catch(e){t=null}return t}),o,xi(Ti),r)}function zc(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Zr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].N(n[i])&&!o){if(e=e[i],0>i||i>=Qc.length)throw new Zr("internal-error","Argument validator received an unsupported number of arguments.");n=Qc[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.M+".";break t}r=null}}if(r)throw new Zr("argument-error",t+" failed: "+r)}(t=Lc.prototype).Da=function(){var t=this;return this.f?this.f:this.f=Wc(this,Zt().then((function(){if(_r()&&!ur())return or();throw new Zr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.v())})).then((function(e){return t.g=e,Ss(t.o,cs,{})})).then((function(e){t.a[Vc]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){Bc(this);var t=this;return Wc(this,this.Da().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=qn(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!Hn&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Lt(a.name),'"'),a.type){o.push(' type="',Lt(a.type),'"');var u={};Z(u,a),delete u.type,a=u}o.push(">"),o=o.join("")}return o=i.createElement(o),a&&(s(a)?o.className=a:d(a)?o.className=a.join(" "):Wn(o,a)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild(s(n)?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!v(o)||g(o)&&0<o.nodeType?r(o):F(Kn(o)?K(o):o,r)}}(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Bc(this);var t=this;return Wc(this,this.render().then((function(e){return new Wt((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){W(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Bc(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Bc(this),this.B=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=qn(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},T(Kc,Lc);var Qc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Gc(t,e){return{name:t||"",M:"a valid string",optional:!!e,N:s}}function Yc(t,e){return{name:t||"",M:"a boolean",optional:!!e,N:u}}function Zc(t,e){return{name:t||"",M:"a valid object",optional:!!e,N:g}}function $c(t,e){return{name:t||"",M:"a function",optional:!!e,N:y}}function Xc(t,e){return{name:t||"",M:"null",optional:!!e,N:p}}function Jc(t){return{name:t?t+"Credential":"credential",M:t?"a valid "+t+" credential":"a valid credential",optional:!1,N:function(e){return!!e&&!(!e.na||t&&e.providerId!==t)}}}function th(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(t){return!!(t&&s(t.type)&&y(t.verify))}}}function eh(t,e,n,r){return{name:n||"",M:t.M+" or "+e.M,optional:!!r,N:function(n){return t.N(n)||e.N(n)}}}function nh(t,e){for(var n in e){var r=e[n].name;t[r]=oh(r,t[n],e[n].j)}}function rh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:E((function(t){return this[t]}),n),set:E((function(t,e,n,r){zc(t,[n],[r],!0),this[e]=r}),r,n,e[n].Za),enumerable:!0})}}function ih(t,e,n,r){t[e]=oh(e,n,r)}function oh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return zc(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}nh(hc.prototype,{Ya:{name:"applyActionCode",j:[Gc("code")]},Ma:{name:"checkActionCode",j:[Gc("code")]},ab:{name:"confirmPasswordReset",j:[Gc("code"),Gc("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[Gc("email"),Gc("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[Gc("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[Gc("emailLink")]},wc:{name:"onAuthStateChanged",j:[eh(Zc(),$c(),"nextOrObserver"),$c("opt_error",!0),$c("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[eh(Zc(),$c(),"nextOrObserver"),$c("opt_error",!0),$c("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[Gc("email"),eh(Zc("opt_actionCodeSettings",!0),Xc(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[Gc("email"),Zc("actionCodeSettings")]},mb:{name:"setPersistence",j:[Gc("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[Jc()]},ob:{name:"signInAnonymously",j:[]},Sa:{name:"signInWithCredential",j:[Jc()]},Hc:{name:"signInWithCustomToken",j:[Gc("token")]},Ic:{name:"signInWithEmailAndPassword",j:[Gc("email"),Gc("password")]},Jc:{name:"signInWithEmailLink",j:[Gc("email"),Gc("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[Gc("phoneNumber"),th()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[eh({name:"user",M:"an instance of Firebase User",optional:!1,N:function(t){return!!(t&&t instanceof Il)}},Xc(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Gc(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[Gc("code")]}}),rh(hc.prototype,{lc:{name:"languageCode",Za:eh(Gc(),Xc(),"languageCode")},ti:{name:"tenantId",Za:eh(Gc(),Xc(),"tenantId")}}),(hc.Persistence=mu).LOCAL="local",hc.Persistence.SESSION="session",hc.Persistence.NONE="none",nh(Il.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[Yc("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[Yc("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[Jc()]},fb:{name:"linkWithCredential",j:[Jc()]},sc:{name:"linkWithPhoneNumber",j:[Gc("phoneNumber"),th()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Jc()]},hb:{name:"reauthenticateWithCredential",j:[Jc()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[Gc("phoneNumber"),th()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[eh(Zc("opt_actionCodeSettings",!0),Xc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Gc(null,!0)]},Qc:{name:"unlink",j:[Gc("provider")]},rb:{name:"updateEmail",j:[Gc("email")]},sb:{name:"updatePassword",j:[Gc("password")]},Sc:{name:"updatePhoneNumber",j:[Jc("phone")]},tb:{name:"updateProfile",j:[Zc("profile")]}}),nh(Tc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),nh(Sc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),nh(Wt.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),rh(vl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Za:Yc("appVerificationDisabledForTesting")}}),nh(yl.prototype,{confirm:{name:"confirm",j:[Gc("verificationCode")]}}),ih(qi,"fromJSON",(function(t){t=s(t)?JSON.parse(t):t;for(var e,n=[Yi,uo,po,zi],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[eh(Gc(),Zc(),"json")]),ih(lo,"credential",(function(t,e){return new so(t,e)}),[Gc("email"),Gc("password")]),nh(so.prototype,{A:{name:"toJSON",j:[Gc(null,!0)]}}),nh(Ji.prototype,{ya:{name:"addScope",j:[Gc("scope")]},Ga:{name:"setCustomParameters",j:[Zc("customOAuthParameters")]}}),ih(Ji,"credential",to,[eh(Gc(),Zc(),"token")]),ih(lo,"credentialWithLink",co,[Gc("email"),Gc("emailLink")]),nh(eo.prototype,{ya:{name:"addScope",j:[Gc("scope")]},Ga:{name:"setCustomParameters",j:[Zc("customOAuthParameters")]}}),ih(eo,"credential",no,[eh(Gc(),Zc(),"token")]),nh(ro.prototype,{ya:{name:"addScope",j:[Gc("scope")]},Ga:{name:"setCustomParameters",j:[Zc("customOAuthParameters")]}}),ih(ro,"credential",io,[eh(Gc(),eh(Zc(),Xc()),"idToken"),eh(Gc(),Xc(),"accessToken",!0)]),nh(oo.prototype,{Ga:{name:"setCustomParameters",j:[Zc("customOAuthParameters")]}}),ih(oo,"credential",ao,[eh(Gc(),Zc(),"token"),Gc("secret",!0)]),nh(Xi.prototype,{ya:{name:"addScope",j:[Gc("scope")]},credential:{name:"credential",j:[eh(Gc(),eh(Zc(),Xc()),"optionsOrIdToken"),eh(Gc(),Xc(),"accessToken",!0)]},Ga:{name:"setCustomParameters",j:[Zc("customOAuthParameters")]}}),nh(Qi.prototype,{A:{name:"toJSON",j:[Gc(null,!0)]}}),nh(Bi.prototype,{A:{name:"toJSON",j:[Gc(null,!0)]}}),ih(yo,"credential",go,[Gc("verificationId"),Gc("verificationCode")]),nh(yo.prototype,{Wa:{name:"verifyPhoneNumber",j:[Gc("phoneNumber"),th()]}}),nh(fo.prototype,{A:{name:"toJSON",j:[Gc(null,!0)]}}),nh(Zr.prototype,{toJSON:{name:"toJSON",j:[Gc(null,!0)]}}),nh(Io.prototype,{toJSON:{name:"toJSON",j:[Gc(null,!0)]}}),nh(To.prototype,{toJSON:{name:"toJSON",j:[Gc(null,!0)]}}),nh(Kc.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ih(ti,"parseLink",ui,[Gc("link")]),function(){if(void 0===ju.a||!ju.a.INTERNAL||!ju.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:qr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:hc,AuthCredential:qi,Error:Zr};ih(t,"EmailAuthProvider",lo,[]),ih(t,"FacebookAuthProvider",Ji,[]),ih(t,"GithubAuthProvider",eo,[]),ih(t,"GoogleAuthProvider",ro,[]),ih(t,"TwitterAuthProvider",oo,[]),ih(t,"OAuthProvider",Xi,[Gc("providerId")]),ih(t,"SAMLAuthProvider",$i,[Gc("providerId")]),ih(t,"PhoneAuthProvider",yo,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(t){return!!(t&&t instanceof hc)}}]),ih(t,"RecaptchaVerifier",Kc,[eh(Gc(),{name:"",M:"an HTML element",optional:!1,N:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Zc("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(t){return!!(t&&t instanceof ju.a.app.App)}}]),ih(t,"ActionCodeURL",ti,[]),ju.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new hc(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),ju.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:C((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:C(t.cc,t),addAuthTokenListener:C(t.Wb,t),removeAuthTokenListener:C(t.Ec,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ju.a.registerVersion("@firebase/auth","0.13.3"),ju.a.INTERNAL.extendNamespace({User:Il})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Mu,Lu,Fu=function(){},Uu=((Lu=function(){function t(t,e){this.auth=t,this.router=e}return t.prototype.canActivate=function(t,e){var n=this;return this.auth.user$.pipe(Object(T.a)((function(t){return!!t||(n.router.navigate(["/login"],{queryParams:{returnUrl:e.url}}),!1)})))},t}()).ngInjectableDef=r.Ob({factory:function(){return new Lu(r.Pb(Qs),r.Pb(Hr))},token:Lu,providedIn:"root"}),Lu),Vu=((Mu=function(){function t(t,e){this.auth=t,this.userService=e}return t.prototype.canActivate=function(){return this.auth.appUser$.pipe(Object(T.a)((function(t){return t.isAdmin})))},t}()).ngInjectableDef=r.Ob({factory:function(){return new Mu(r.Pb(Qs),r.Pb(zs))},token:Mu,providedIn:"root"}),Mu),Hu=function(){},qu=r.nb(i,[o],(function(t){return r.zb([r.Ab(512,r.j,r.Y,[[8,[yi,_a,Xa,ws,Ss,is,ss,ps,ks,Ds,Ms,Zs,tu,iu,uu,pu,bu,Eu,Du]],[3,r.j],r.w]),r.Ab(5120,r.t,r.kb,[[3,r.t]]),r.Ab(4608,a.m,a.l,[r.t,[2,a.z]]),r.Ab(5120,r.gb,r.lb,[r.y]),r.Ab(5120,r.c,r.hb,[]),r.Ab(5120,r.r,r.ib,[]),r.Ab(5120,r.s,r.jb,[]),r.Ab(4608,he,fe,[a.d]),r.Ab(6144,r.F,null,[he]),r.Ab(4608,ie,ae,[]),r.Ab(5120,Nt,(function(t,e,n,r,i,o,a,s){return[new ne(t,e,n),new ce(r),new se(i,o,a,s)]}),[a.d,r.y,r.A,a.d,a.d,ie,r.Z,[2,oe]]),r.Ab(4608,Dt,Dt,[Nt,r.y]),r.Ab(135680,jt,jt,[a.d]),r.Ab(4608,qt,qt,[Dt,jt,r.c]),r.Ab(6144,r.D,null,[qt]),r.Ab(6144,Rt,null,[jt]),r.Ab(4608,r.L,r.L,[r.y]),r.Ab(5120,Dn,li,[Hr]),r.Ab(4608,Zr,Zr,[]),r.Ab(6144,Gr,null,[Zr]),r.Ab(135680,$r,$r,[Hr,r.v,r.i,r.q,Gr]),r.Ab(4608,Yr,Yr,[]),r.Ab(5120,Xr,ii,[Hr,a.r,Jr]),r.Ab(5120,pi,fi,[ci]),r.Ab(5120,r.b,(function(t,e){return[t,e]}),[pi,pi]),r.Ab(5120,Hs.b,Hs.e,[Hs.d,r.y,[2,Hs.c]]),r.Ab(4608,Ks.a,Ks.a,[Hs.d,[2,Hs.c],[2,Vs.b],r.A,r.y]),r.Ab(4608,qs,qs,[Hs.d,[2,Hs.c],r.A,r.y]),r.Ab(4608,mi,mi,[]),r.Ab(4608,ea,ea,[r.j,r.q,ta,Ko]),r.Ab(4608,zs,zs,[Ks.a]),r.Ab(4608,Qs,Qs,[qs,Dn,Hr,zs]),r.Ab(4608,Uu,Uu,[Qs,Hr]),r.Ab(4608,Vu,Vu,[Qs,zs]),r.Ab(4608,vu,vu,[Ks.a]),r.Ab(1073742336,a.c,a.c,[]),r.Ab(1024,r.l,we,[]),r.Ab(1024,r.x,(function(){return[ni(),ni()]}),[]),r.Ab(512,ci,ci,[r.q]),r.Ab(1024,r.d,(function(t,e,n){return[(r=t,kt("probe",At),kt("coreTokens",Object.assign({},Ot,(r||[]).reduce((function(t,e){return t[e.name]=e.token,t}),{}))),function(){return At}),hi(e),hi(n)];var r}),[[2,r.x],ci,ci]),r.Ab(512,r.e,r.e,[[2,r.d]]),r.Ab(131584,r.g,r.g,[r.y,r.Z,r.q,r.l,r.j,r.e]),r.Ab(1073742336,r.f,r.f,[r.g]),r.Ab(1073742336,Ce,Ce,[[3,Ce]]),r.Ab(1024,ti,ai,[[3,Hr]]),r.Ab(512,cn,hn,[]),r.Ab(512,Kr,Kr,[]),r.Ab(256,Jr,{},[]),r.Ab(1024,a.i,oi,[a.p,[2,a.a],Jr]),r.Ab(512,a.h,a.h,[a.i,a.p]),r.Ab(512,r.i,r.i,[]),r.Ab(512,r.v,r.I,[r.i,[2,r.J]]),r.Ab(1024,Rr,(function(){return[[],[{path:"",component:Ts},{path:"products",component:Os},{path:"shopping-cart",component:Ps},{path:"login",component:Ls},{path:"check-out",component:$s,canActivate:[Uu]},{path:"my/orders",component:eu,canActivate:[Uu]},{path:"order-success",component:ou,canActivate:[Uu]},{path:"admin/products",component:lu,canActivate:[Uu,Vu]},{path:"admin/products/new",component:du,canActivate:[Uu,Vu]},{path:"admin/orders",component:_u,canActivate:[Uu,Vu]}]]}),[]),r.Ab(1024,Hr,ui,[r.g,cn,Kr,a.h,r.q,r.v,r.i,Rr,Jr,[2,Mr],[2,Dr]]),r.Ab(1073742336,ri,ri,[[2,ti],[2,Hr]]),r.Ab(1073742336,Hu,Hu,[]),r.Ab(1073742336,Hs.a,Hs.a,[]),r.Ab(1073742336,Pu.a,Pu.a,[]),r.Ab(1073742336,Fu,Fu,[]),r.Ab(1073742336,Vi,Vi,[]),r.Ab(1073742336,Wi,Wi,[]),r.Ab(1073742336,Bi,Bi,[]),r.Ab(1073742336,Ki,Ki,[]),r.Ab(1073742336,zi,zi,[]),r.Ab(1073742336,Ei,Ei,[]),r.Ab(1073742336,Si,Si,[]),r.Ab(1073742336,Lo,Lo,[]),r.Ab(1073742336,Bo,Bo,[]),r.Ab(1073742336,na,na,[]),r.Ab(1073742336,ra,ra,[]),r.Ab(1073742336,oa,oa,[]),r.Ab(1073742336,aa,aa,[]),r.Ab(1073742336,sa,sa,[]),r.Ab(1073742336,ua,ua,[]),r.Ab(1073742336,la,la,[]),r.Ab(1073742336,ca,ca,[]),r.Ab(1073742336,fa,fa,[]),r.Ab(1073742336,va,va,[]),r.Ab(1073742336,ya,ya,[]),r.Ab(1073742336,i,i,[]),r.Ab(256,r.X,!0,[]),r.Ab(256,Hs.d,{apiKey:"AIzaSyC-deqZquSTNfCrWe5LQ8Fbg7Ey5Qmz13U",authDomain:"bakeshop-97dcd.firebaseapp.com",databaseURL:"https://bakeshop-97dcd.firebaseio.com",projectId:"bakeshop-97dcd",storageBucket:"bakeshop-97dcd.appspot.com",messagingSenderId:"770710885056",appId:"1:770710885056:web:fdb199d50fdf11033ad325",measurementId:"G-R4F9DQYNZT"},[]),r.Ab(256,Hs.c,"BakeShop",[])])}));Object(r.R)(),_e().bootstrapModuleFactory(qu).catch((function(t){return console.error(t)}))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=(15&s)<<2|l>>6,h=63&l;u||(h=64,a||(c=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p="FirebaseError",d=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=p,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,v.prototype.create),i}return r.__extends(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?y(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new d(i,s),l=0,c=Object.keys(r);l<c.length;l++){var h=c[l];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function y(t,e){return t.replace(g,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var g=/\{\$([^}]+)}/g;function m(t){return JSON.parse(t)}var b=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=m(l(o[0])||""),n=m(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},_=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^s&(u^l),o=1518500249):(i=s^u^l,o=1859775393):r<60?(i=s&u|l&(s|u),o=2400959708):(i=s^u^l,o=3395469782);var h=(a<<5|a>>>27)+i+c+o+n[r]&4294967295;c=l,l=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}function E(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=v,e.FirebaseError=d,e.Sha1=_,e.assert=o,e.assertionError=a,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=l,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=b,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=E,e.getUA=f,e.isAdmin=function(t){var e=b(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=b(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=b(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=b(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=m,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(E(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(E(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(E(t,e,r)+"must be a valid firebase namespace.")}},zfKp:function(t,e,n){"use strict";e.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zp1y:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("l7GE"),i=n("ZUHj");function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new a(t,n))}}var a=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.observables,this.project))},t}(),s=function(t){function e(e,n,r){var o=this;(o=t.call(this,e)||this).observables=n,o.project=r,o.toRespond=[];var a=n.length;o.values=new Array(a);for(var s=0;s<a;s++)o.toRespond.push(s);for(s=0;s<a;s++){var u=n[s];o.add(Object(i.a)(o,u,u,s))}return o}return __extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=__spread([t],this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(r.a)},zzsZ:function(t,e,n){"use strict";var r=n("Q1FS"),i=n("zB/H"),o=n("OAkW");e.fromArray=function(t,e){return new r.Observable(e?function(n){var r=new i.Subscription,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:o.subscribeToArray(t))}}},[[0,0]]]);